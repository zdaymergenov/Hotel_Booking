import{SvelteComponent as he,init as me,safe_not_equal as de,binding_callbacks as E,bind as G,create_component as j,claim_component as B,mount_component as A,add_flush_callback as I,transition_in as w,transition_out as g,destroy_component as C,createEventDispatcher as we,assign as ge,space as be,empty as J,claim_space as ve,insert_hydration as K,get_spread_update as ke,get_spread_object as ze,group_outros as je,check_outros as Be,detach as M}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{B as Ae,S as Ce}from"./2.BPD7TSJN.js";import{U as Ue}from"./UploadText.MrdMBxY9.js";import Se from"./Gallery.PtO5k12Y.js";import{B as Ee}from"./FileUpload.Dyua4B_K.js";/* empty css                                              */import{default as Qe}from"./Example.BHb8pvZm.js";function Ge(n){let e,i,t,s;function r(a){n[35](a)}function f(a){n[36](a)}let c={label:n[5],show_label:n[4],columns:n[14],rows:n[15],height:n[16],preview:n[17],object_fit:n[19],interactive:n[21],allow_preview:n[18],show_share_button:n[20],show_download_button:n[22],i18n:n[23].i18n,_fetch:n[32],show_fullscreen_button:n[24],fullscreen:n[3],root:n[6],file_types:n[10],max_file_size:n[23].max_file_size,upload:n[33],stream_handler:n[34]};return n[1]!==void 0&&(c.selected_index=n[1]),n[0]!==void 0&&(c.value=n[0]),e=new Se({props:c}),E.push(()=>G(e,"selected_index",r)),E.push(()=>G(e,"value",f)),e.$on("change",n[37]),e.$on("select",n[38]),e.$on("share",n[39]),e.$on("error",n[40]),e.$on("preview_open",n[41]),e.$on("preview_close",n[42]),e.$on("fullscreen",n[43]),e.$on("delete",n[26]),e.$on("upload",n[44]),{c(){j(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,u){A(e,a,u),s=!0},p(a,u){const o={};u[0]&32&&(o.label=a[5]),u[0]&16&&(o.show_label=a[4]),u[0]&16384&&(o.columns=a[14]),u[0]&32768&&(o.rows=a[15]),u[0]&65536&&(o.height=a[16]),u[0]&131072&&(o.preview=a[17]),u[0]&524288&&(o.object_fit=a[19]),u[0]&2097152&&(o.interactive=a[21]),u[0]&262144&&(o.allow_preview=a[18]),u[0]&1048576&&(o.show_share_button=a[20]),u[0]&4194304&&(o.show_download_button=a[22]),u[0]&8388608&&(o.i18n=a[23].i18n),u[0]&8388608&&(o._fetch=a[32]),u[0]&16777216&&(o.show_fullscreen_button=a[24]),u[0]&8&&(o.fullscreen=a[3]),u[0]&64&&(o.root=a[6]),u[0]&1024&&(o.file_types=a[10]),u[0]&8388608&&(o.max_file_size=a[23].max_file_size),u[0]&8388608&&(o.upload=a[33]),u[0]&8388608&&(o.stream_handler=a[34]),!i&&u[0]&2&&(i=!0,o.selected_index=a[1],I(()=>i=!1)),!t&&u[0]&1&&(t=!0,o.value=a[0],I(()=>t=!1)),e.$set(o)},i(a){s||(w(e.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),s=!1},d(a){C(e,a)}}}function Ie(n){let e,i;return e=new Ee({props:{value:null,root:n[6],label:n[5],max_file_size:n[23].max_file_size,file_count:"multiple",file_types:n[10],i18n:n[23].i18n,upload:n[28],stream_handler:n[29],$$slots:{default:[qe]},$$scope:{ctx:n}}}),e.$on("upload",n[30]),e.$on("error",n[31]),{c(){j(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){A(e,t,s),i=!0},p(t,s){const r={};s[0]&64&&(r.root=t[6]),s[0]&32&&(r.label=t[5]),s[0]&8388608&&(r.max_file_size=t[23].max_file_size),s[0]&1024&&(r.file_types=t[10]),s[0]&8388608&&(r.i18n=t[23].i18n),s[0]&8388608&&(r.upload=t[28]),s[0]&8388608&&(r.stream_handler=t[29]),s[0]&8388608|s[1]&65536&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){i||(w(e.$$.fragment,t),i=!0)},o(t){g(e.$$.fragment,t),i=!1},d(t){C(e,t)}}}function qe(n){let e,i;return e=new Ue({props:{i18n:n[23].i18n,type:"gallery"}}),{c(){j(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){A(e,t,s),i=!0},p(t,s){const r={};s[0]&8388608&&(r.i18n=t[23].i18n),e.$set(r)},i(t){i||(w(e.$$.fragment,t),i=!0)},o(t){g(e.$$.fragment,t),i=!1},d(t){C(e,t)}}}function De(n){let e,i,t,s,r,f;const c=[{autoscroll:n[23].autoscroll},{i18n:n[23].i18n},n[2]];let a={};for(let _=0;_<c.length;_+=1)a=ge(a,c[_]);e=new Ce({props:a}),e.$on("clear_status",n[27]);const u=[Ie,Ge],o=[];function h(_,d){return _[21]&&_[25]?0:1}return t=h(n),s=o[t]=u[t](n),{c(){j(e.$$.fragment),i=be(),s.c(),r=J()},l(_){B(e.$$.fragment,_),i=ve(_),s.l(_),r=J()},m(_,d){A(e,_,d),K(_,i,d),o[t].m(_,d),K(_,r,d),f=!0},p(_,d){const U=d[0]&8388612?ke(c,[d[0]&8388608&&{autoscroll:_[23].autoscroll},d[0]&8388608&&{i18n:_[23].i18n},d[0]&4&&ze(_[2])]):{};e.$set(U);let b=t;t=h(_),t===b?o[t].p(_,d):(je(),g(o[b],1,1,()=>{o[b]=null}),Be(),s=o[t],s?s.p(_,d):(s=o[t]=u[t](_),s.c()),w(s,1),s.m(r.parentNode,r))},i(_){f||(w(e.$$.fragment,_),w(s),f=!0)},o(_){g(e.$$.fragment,_),g(s),f=!1},d(_){_&&(M(i),M(r)),C(e,_),o[t].d(_)}}}function Fe(n){let e,i,t;function s(f){n[45](f)}let r={visible:n[9],variant:"solid",padding:!1,elem_id:n[7],elem_classes:n[8],container:n[11],scale:n[12],min_width:n[13],allow_overflow:!1,height:typeof n[16]=="number"?n[16]:void 0,$$slots:{default:[De]},$$scope:{ctx:n}};return n[3]!==void 0&&(r.fullscreen=n[3]),e=new Ae({props:r}),E.push(()=>G(e,"fullscreen",s)),{c(){j(e.$$.fragment)},l(f){B(e.$$.fragment,f)},m(f,c){A(e,f,c),t=!0},p(f,c){const a={};c[0]&512&&(a.visible=f[9]),c[0]&128&&(a.elem_id=f[7]),c[0]&256&&(a.elem_classes=f[8]),c[0]&2048&&(a.container=f[11]),c[0]&4096&&(a.scale=f[12]),c[0]&8192&&(a.min_width=f[13]),c[0]&65536&&(a.height=typeof f[16]=="number"?f[16]:void 0),c[0]&67093631|c[1]&65536&&(a.$$scope={dirty:c,ctx:f}),!i&&c[0]&8&&(i=!0,a.fullscreen=f[3],I(()=>i=!1)),e.$set(a)},i(f){t||(w(e.$$.fragment,f),t=!0)},o(f){g(e.$$.fragment,f),t=!1},d(f){C(e,f)}}}async function O(n){return(await Promise.all(n.map(async i=>{var t;if((t=i.path)!=null&&t.toLowerCase().endsWith(".svg")&&i.url){const r=await(await fetch(i.url)).text();return{...i,url:`data:image/svg+xml,${encodeURIComponent(r)}`}}return i}))).map(i=>{var t;return(t=i.mime_type)!=null&&t.includes("video")?{video:i,caption:null}:{image:i,caption:null}})}function Le(n,e,i){let t,{loading_status:s}=e,{show_label:r}=e,{label:f}=e,{root:c}=e,{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{value:h=null}=e,{file_types:_=["image","video"]}=e,{container:d=!0}=e,{scale:U=null}=e,{min_width:b=void 0}=e,{columns:q=[2]}=e,{rows:D=void 0}=e,{height:F="auto"}=e,{preview:L}=e,{allow_preview:N=!0}=e,{selected_index:v=null}=e,{object_fit:P="cover"}=e,{show_share_button:R=!1}=e,{interactive:T}=e,{show_download_button:W=!1}=e,{gradio:m}=e,{show_fullscreen_button:H=!0}=e,{fullscreen:k=!1}=e;const Q=we();function V(l){if(!h)return;const{index:z}=l.detail;m.dispatch("delete",l.detail),i(0,h=h.filter((S,ce)=>ce!==z)),m.dispatch("change",h)}const X=()=>m.dispatch("clear_status",s),Y=(...l)=>m.client.upload(...l),Z=(...l)=>m.client.stream(...l),p=async l=>{const z=Array.isArray(l.detail)?l.detail:[l.detail];i(0,h=await O(z)),m.dispatch("upload",h),m.dispatch("change",h)},y=({detail:l})=>{i(2,s=s||{}),i(2,s.status="error",s),m.dispatch("error",l)},x=(...l)=>m.client.fetch(...l),$=(...l)=>m.client.upload(...l),ee=(...l)=>m.client.stream(...l);function le(l){v=l,i(1,v)}function ne(l){h=l,i(0,h)}const ie=()=>m.dispatch("change",h),te=l=>m.dispatch("select",l.detail),ae=l=>m.dispatch("share",l.detail),se=l=>m.dispatch("error",l.detail),oe=()=>m.dispatch("preview_open"),_e=()=>m.dispatch("preview_close"),fe=({detail:l})=>{i(3,k=l)},ue=async l=>{const z=Array.isArray(l.detail)?l.detail:[l.detail],S=await O(z);i(0,h=h?[...h,...S]:S),m.dispatch("upload",S),m.dispatch("change",h)};function re(l){k=l,i(3,k)}return n.$$set=l=>{"loading_status"in l&&i(2,s=l.loading_status),"show_label"in l&&i(4,r=l.show_label),"label"in l&&i(5,f=l.label),"root"in l&&i(6,c=l.root),"elem_id"in l&&i(7,a=l.elem_id),"elem_classes"in l&&i(8,u=l.elem_classes),"visible"in l&&i(9,o=l.visible),"value"in l&&i(0,h=l.value),"file_types"in l&&i(10,_=l.file_types),"container"in l&&i(11,d=l.container),"scale"in l&&i(12,U=l.scale),"min_width"in l&&i(13,b=l.min_width),"columns"in l&&i(14,q=l.columns),"rows"in l&&i(15,D=l.rows),"height"in l&&i(16,F=l.height),"preview"in l&&i(17,L=l.preview),"allow_preview"in l&&i(18,N=l.allow_preview),"selected_index"in l&&i(1,v=l.selected_index),"object_fit"in l&&i(19,P=l.object_fit),"show_share_button"in l&&i(20,R=l.show_share_button),"interactive"in l&&i(21,T=l.interactive),"show_download_button"in l&&i(22,W=l.show_download_button),"gradio"in l&&i(23,m=l.gradio),"show_fullscreen_button"in l&&i(24,H=l.show_fullscreen_button),"fullscreen"in l&&i(3,k=l.fullscreen)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(25,t=h===null?!0:h.length===0),n.$$.dirty[0]&2&&Q("prop_change",{selected_index:v})},[h,v,s,k,r,f,c,a,u,o,_,d,U,b,q,D,F,L,N,P,R,T,W,m,H,t,V,X,Y,Z,p,y,x,$,ee,le,ne,ie,te,ae,se,oe,_e,fe,ue,re]}class Ke extends he{constructor(e){super(),me(this,e,Le,Fe,de,{loading_status:2,show_label:4,label:5,root:6,elem_id:7,elem_classes:8,visible:9,value:0,file_types:10,container:11,scale:12,min_width:13,columns:14,rows:15,height:16,preview:17,allow_preview:18,selected_index:1,object_fit:19,show_share_button:20,interactive:21,show_download_button:22,gradio:23,show_fullscreen_button:24,fullscreen:3},null,[-1,-1])}}export{Qe as BaseExample,Se as BaseGallery,Ke as default};
//# sourceMappingURL=Index.BlFRWD68.js.map
