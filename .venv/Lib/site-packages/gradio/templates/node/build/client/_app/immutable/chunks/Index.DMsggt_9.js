const __vite__fileDeps=["./vega-embed.module.DThkfpcM.js","./vega-tooltip.module.DfiLH4Us.js","./2.BPD7TSJN.js","./preload-helper.D6kgxu3v.js","./stores.DJzfeW5j.js","./client.DLLVamsL.js","../assets/2.CWMm6HsE.css","./time.Be8aEIgQ.js","./step.5RfL8DsB.js","./linear.BQxp-PJv.js","./init.Dmth1JHB.js","./defaultLocale.CNpUPyHh.js","./dsv.DB8NKgIY.js","./range.OtVwhkKS.js","./ordinal.BJp8kCrd.js","./arc.D5BN-xhm.js","./dispatch.kxCwF96_.js","./index.Bi7T_FA4.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as ot}from"./preload-helper.D6kgxu3v.js";import{SvelteComponent as rt,init as at,safe_not_equal as ft,binding_callbacks as xe,bind as st,create_component as Y,claim_component as U,mount_component as G,add_flush_callback as ut,transition_in as p,transition_out as T,destroy_component as J,onMount as ct,space as _e,empty as de,claim_space as me,insert_hydration as x,group_outros as ze,check_outros as Oe,detach as j,assign as _t,get_spread_update as mt,get_spread_object as dt,text as qe,claim_text as Be,set_data as Re,element as Ye,claim_element as Ue,children as Ge,attr as Je,noop as je,append_hydration as gt}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{B as bt,x as ht,S as yt,I as kt}from"./2.BPD7TSJN.js";import{E as vt}from"./Empty.D5XVnMZ_.js";import{L as wt}from"./LineChart.C8bDl53w.js";import{F as Ft}from"./FullscreenButton.L5WHtCWr.js";function Le(n){let e,t;const i=[{autoscroll:n[3].autoscroll},{i18n:n[3].i18n},n[11]];let a={};for(let o=0;o<i.length;o+=1)a=_t(a,i[o]);return e=new yt({props:a}),e.$on("clear_status",n[48]),{c(){Y(e.$$.fragment)},l(o){U(e.$$.fragment,o)},m(o,f){G(e,o,f),t=!0},p(o,f){const c=f[0]&2056?mt(i,[f[0]&8&&{autoscroll:o[3].autoscroll},f[0]&8&&{i18n:o[3].i18n},f[0]&2048&&dt(o[11])]):{};e.$set(c)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){T(e.$$.fragment,o),t=!1},d(o){J(e,o)}}}function De(n){let e,t;return e=new kt({props:{$$slots:{default:[Et]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,a){G(e,i,a),t=!0},p(i,a){const o={};a[0]&8192|a[2]&32&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Et(n){let e,t;return e=new Ft({props:{fullscreen:n[13]}}),e.$on("fullscreen",n[49]),{c(){Y(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,a){G(e,i,a),t=!0},p(i,a){const o={};a[0]&8192&&(o.fullscreen=i[13]),e.$set(o)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function It(n){let e;return{c(){e=qe(n[4])},l(t){e=Be(t,n[4])},m(t,i){x(t,e,i)},p(t,i){i[0]&16&&Re(e,t[4])},d(t){t&&j(e)}}}function zt(n){let e,t;return e=new vt({props:{unpadded_box:!0,$$slots:{default:[Pt]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,a){G(e,i,a),t=!0},p(i,a){const o={};a[2]&32&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Ot(n){let e,t,i,a=n[1]&&He(n);return{c(){e=Ye("div"),t=_e(),a&&a.c(),i=de(),this.h()},l(o){e=Ue(o,"DIV",{class:!0}),Ge(e).forEach(j),t=me(o),a&&a.l(o),i=de(),this.h()},h(){Je(e,"class","svelte-19qacdz")},m(o,f){x(o,e,f),n[50](e),x(o,t,f),a&&a.m(o,f),x(o,i,f)},p(o,f){o[1]?a?a.p(o,f):(a=He(o),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i:je,o:je,d(o){o&&(j(e),j(t),j(i)),n[50](null),a&&a.d(o)}}}function Pt(n){let e,t;return e=new wt({}),{c(){Y(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,a){G(e,i,a),t=!0},i(i){t||(p(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function He(n){let e,t;return{c(){e=Ye("p"),t=qe(n[1]),this.h()},l(i){e=Ue(i,"P",{class:!0});var a=Ge(e);t=Be(a,n[1]),a.forEach(j),this.h()},h(){Je(e,"class","caption svelte-19qacdz")},m(i,a){x(i,e,a),gt(e,t)},p(i,a){a[0]&2&&Re(t,i[1])},d(i){i&&j(e)}}}function St(n){let e,t,i,a,o,f,c,I,_=n[11]&&Le(n),m=n[2]&&De(n);i=new ht({props:{show_label:n[8],info:void 0,$$slots:{default:[It]},$$scope:{ctx:n}}});const O=[Ot,zt],C=[];function s(r,u){return r[0]&&r[15]?0:1}return o=s(n),f=C[o]=O[o](n),{c(){_&&_.c(),e=_e(),m&&m.c(),t=_e(),Y(i.$$.fragment),a=_e(),f.c(),c=de()},l(r){_&&_.l(r),e=me(r),m&&m.l(r),t=me(r),U(i.$$.fragment,r),a=me(r),f.l(r),c=de()},m(r,u){_&&_.m(r,u),x(r,e,u),m&&m.m(r,u),x(r,t,u),G(i,r,u),x(r,a,u),C[o].m(r,u),x(r,c,u),I=!0},p(r,u){r[11]?_?(_.p(r,u),u[0]&2048&&p(_,1)):(_=Le(r),_.c(),p(_,1),_.m(e.parentNode,e)):_&&(ze(),T(_,1,1,()=>{_=null}),Oe()),r[2]?m?(m.p(r,u),u[0]&4&&p(m,1)):(m=De(r),m.c(),p(m,1),m.m(t.parentNode,t)):m&&(ze(),T(m,1,1,()=>{m=null}),Oe());const g={};u[0]&256&&(g.show_label=r[8]),u[0]&16|u[2]&32&&(g.$$scope={dirty:u,ctx:r}),i.$set(g);let R=o;o=s(r),o===R?C[o].p(r,u):(ze(),T(C[R],1,1,()=>{C[R]=null}),Oe(),f=C[o],f?f.p(r,u):(f=C[o]=O[o](r),f.c()),p(f,1),f.m(c.parentNode,c))},i(r){I||(p(_),p(m),p(i.$$.fragment,r),p(f),I=!0)},o(r){T(_),T(m),T(i.$$.fragment,r),T(f),I=!1},d(r){r&&(j(e),j(t),j(a),j(c)),_&&_.d(r),m&&m.d(r),J(i,r),C[o].d(r)}}}function pt(n){let e,t,i;function a(f){n[51](f)}let o={visible:n[7],elem_id:n[5],elem_classes:n[6],scale:n[9],min_width:n[10],allow_overflow:!1,padding:!0,height:n[12],$$slots:{default:[St]},$$scope:{ctx:n}};return n[13]!==void 0&&(o.fullscreen=n[13]),e=new bt({props:o}),xe.push(()=>st(e,"fullscreen",a)),{c(){Y(e.$$.fragment)},l(f){U(e.$$.fragment,f)},m(f,c){G(e,f,c),i=!0},p(f,c){const I={};c[0]&128&&(I.visible=f[7]),c[0]&32&&(I.elem_id=f[5]),c[0]&64&&(I.elem_classes=f[6]),c[0]&512&&(I.scale=f[9]),c[0]&1024&&(I.min_width=f[10]),c[0]&4096&&(I.height=f[12]),c[0]&26911|c[2]&32&&(I.$$scope={dirty:c,ctx:f}),!t&&c[0]&8192&&(t=!0,I.fullscreen=f[13],ut(()=>t=!1)),e.$set(I)},i(f){i||(p(e.$$.fragment,f),i=!0)},o(f){T(e.$$.fragment,f),i=!1},d(f){J(e,f)}}}function At(n,e,t){let i,a,o,f,c,I,_,m,O,C,{value:s}=e,{x:r}=e,{y:u}=e,{color:g=null}=e,{title:R=null}=e,{x_title:ie=null}=e,{y_title:ne=null}=e,{color_title:ge=null}=e,{x_bin:L=null}=e,{y_aggregate:Z=void 0}=e,{color_map:$=null}=e,{x_lim:M=null}=e,{y_lim:X=null}=e,{x_label_angle:oe=null}=e,{y_label_angle:re=null}=e,{x_axis_labels_visible:ae=!0}=e,{caption:Pe=null}=e,{sort:be=null}=e,{tooltip:q="axis"}=e,{show_fullscreen_button:Se=!1}=e,K=!1;function Xe(l){if(l==="x")return"ascending";if(l==="-x")return"descending";if(l==="y")return{field:u,order:"ascending"};if(l==="-y")return{field:u,order:"descending"};if(l===null)return null;if(Array.isArray(l))return l}let{_selectable:fe=!1}=e,ee,{gradio:te}=e,B,he=!1;const Ke={s:1,m:60,h:60*60,d:24*60*60};let le,Q;function pe(l,b,N,w,z,h){if(l.length<1e3||L!==null||(s==null?void 0:s.mark)!=="line"||(s==null?void 0:s.datatypes[r])==="nominal")return l;const F=250;let d={};if((z===void 0||h===void 0)&&l.forEach(V=>{let P=V[b];(z===void 0||P<z)&&(z=P),(h===void 0||P>h)&&(h=P)}),z===void 0||h===void 0)return l;const v=(h-z)/F;l.forEach((V,P)=>{const H=V[b],S=V[N],y=w!==null?V[w]:"any",k=Math.floor((H-z)/v);d[y]===void 0&&(d[y]=[]),d[y][k]=d[y][k]||[null,Number.POSITIVE_INFINITY,null,Number.NEGATIVE_INFINITY],S<d[y][k][1]&&(d[y][k][0]=P,d[y][k][1]=S),S>d[y][k][3]&&(d[y][k][2]=P,d[y][k][3]=S)});const D=[];return Object.values(d).forEach(V=>{V.forEach(([P,H,S,y])=>{let k=[];P!==null&&S!==null?k=[Math.min(P,S),Math.max(P,S)]:P!==null?k=[P]:S!==null&&(k=[S]),k.forEach(nt=>{D.push(l[nt])})})}),D}function Qe(l,b,N){let w=l.columns.indexOf(r),z=l.columns.indexOf(u),h=g?l.columns.indexOf(g):null,F=l.data;if(b!==void 0&&N!==void 0){const d=l.datatypes[r]==="temporal"?1e3:1,E=b*d,v=N*d;let D={},V={};const P=F.filter((H,S)=>{const y=H[w],k=h!==null?H[h]:"any";return y<E&&(D[k]===void 0||y>D[k][1])&&(D[k]=[S,y]),y>v&&(V[k]===void 0||y<V[k][1])&&(V[k]=[S,y]),y>=E&&y<=v});F=[...Object.values(D).map(([H,S])=>F[H]),...pe(P,w,z,h,E,v),...Object.values(V).map(([H,S])=>F[H])]}else F=pe(F,w,z,h,void 0,void 0);return q=="all"||Array.isArray(q)?F.map(d=>{const E={};return l.columns.forEach((v,D)=>{E[v]=d[D]}),E}):F.map(d=>{const E={[r]:d[w],[u]:d[z]};return g&&h!==null&&(E[g]=d[h]),E})}let ye=s;const Ze=typeof window<"u";let A,W,ke=!1,se,ve,ue,we;async function ce(){if(he){Fe=!0;return}if(W&&W.finalize(),!s||!A)return;se=A.offsetWidth,ve=A.offsetHeight;const l=$e();l&&(ue=new ResizeObserver(b=>{if(!(!b[0].target||!(b[0].target instanceof HTMLElement)))if(se===0&&A.offsetWidth!==0&&s.datatypes[r]==="nominal")ce();else{const N=Math.abs(se-b[0].target.offsetWidth),w=Math.abs(ve-b[0].target.offsetHeight);N>100||w>100?(se=b[0].target.offsetWidth,ve=b[0].target.offsetHeight,ce()):(W.signal("width",b[0].target.offsetWidth).run(),K&&W.signal("height",b[0].target.offsetHeight).run())}}),we||(we=(await ot(()=>import("./vega-embed.module.DThkfpcM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url)).default),we(A,l,{actions:!1}).then(function(b){t(39,W=b.view),ue.observe(A);var N,w=0;W.addEventListener("dblclick",()=>{te.dispatch("double_click")}),A.addEventListener("mousedown",function(z){z.detail>1&&z.preventDefault()},!1),fe&&W.addSignalListener("brush",function(z,h){if(Date.now()-w<1e3||(he=!0,Object.keys(h).length===0))return;clearTimeout(N);let F=h[Object.keys(h)[0]];_&&(F=[F[0]/1e3,F[1]/1e3]),N=setTimeout(function(){he=!1,w=Date.now(),te.dispatch("select",{value:F,index:F,selected:!0}),Fe&&(Fe=!1,ce())},250)})}))}let Fe=!1;ct(()=>(t(40,ke=!0),()=>{t(40,ke=!1),W&&W.finalize(),ue&&ue.disconnect()}));function $e(){if(!s||!O)return null;let l=O.getPropertyValue("--color-accent"),b=O.getPropertyValue("--body-text-color"),N=O.getPropertyValue("--border-color-primary"),w=O.fontFamily,z=O.getPropertyValue("--block-title-text-weight");const h=E=>E.endsWith("px")?parseFloat(E.slice(0,-2)):12;let F=h(O.getPropertyValue("--text-md")),d=h(O.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:w,labelColor:b,titleFont:w,titleColor:b,titlePadding:8,tickColor:N,labelFontSize:d,gridColor:N,titleFontWeight:"normal",titleFontSize:d,labelFontWeight:"normal",domain:!1,labelAngle:0,titleLimit:A.offsetHeight*.8},legend:{labelColor:b,labelFont:w,titleColor:b,titleFont:w,titleFontWeight:"normal",titleFontSize:d,labelFontWeight:"normal",offset:2},title:{color:b,font:w,fontSize:F,fontWeight:z,anchor:"middle"},view:{stroke:N},mark:{stroke:s.mark!=="bar"?l:void 0,fill:s.mark==="bar"?l:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:ee},layer:["plot",...s.mark==="line"?["hover"]:[]].map(E=>({encoding:{size:s.mark==="line"?E=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:E==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...oe!==null&&{labelAngle:oe},labels:ae,ticks:ae},field:r,title:ie||r,type:s.datatypes[r],scale:m?{domain:m}:void 0,bin:B?{step:B}:void 0,sort:I},y:{axis:re?{labelAngle:re}:{},field:u,title:ne||u,type:s.datatypes[u],scale:{zero:!1,domainMin:f??void 0,domainMax:c??void 0},aggregate:Q?le:void 0},color:g?{field:g,legend:{orient:"bottom",title:ge},scale:s.datatypes[g]==="nominal"?{domain:i,range:$?i.map(v=>$[v]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(v=>O.getPropertyValue("--primary-"+v)),interpolate:"hsl"},type:s.datatypes[g]}:void 0,tooltip:q=="none"?void 0:[{field:u,type:s.datatypes[u],aggregate:Q?le:void 0,title:ne||u},{field:r,type:s.datatypes[r],title:ie||r,format:_?"%Y-%m-%d %H:%M:%S":void 0,bin:B?{step:B}:void 0},...g?[{field:g,type:s.datatypes[g]}]:[],...q==="axis"?[]:s==null?void 0:s.columns.filter(v=>v!==r&&v!==u&&v!==g&&(q==="all"||q.includes(v))).map(v=>({field:v,type:s.datatypes[v]}))]},strokeDash:{},mark:{clip:!0,type:E==="hover"?"point":s.mark},name:E})),params:[...s.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:g?[g]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...fe?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:A.offsetWidth,height:Ie||K?"container":void 0,title:R||void 0}}let{label:Ae="Textbox"}=e,{elem_id:Ne=""}=e,{elem_classes:Te=[]}=e,{visible:We=!0}=e,{show_label:Ve}=e,{scale:Ce=null}=e,{min_width:Me=void 0}=e,{loading_status:Ee=void 0}=e,{height:Ie=void 0}=e;const et=()=>te.dispatch("clear_status",Ee),tt=({detail:l})=>{t(13,K=l)};function lt(l){xe[l?"unshift":"push"](()=>{A=l,t(14,A)})}function it(l){K=l,t(13,K)}return n.$$set=l=>{"value"in l&&t(0,s=l.value),"x"in l&&t(18,r=l.x),"y"in l&&t(19,u=l.y),"color"in l&&t(20,g=l.color),"title"in l&&t(21,R=l.title),"x_title"in l&&t(22,ie=l.x_title),"y_title"in l&&t(23,ne=l.y_title),"color_title"in l&&t(24,ge=l.color_title),"x_bin"in l&&t(25,L=l.x_bin),"y_aggregate"in l&&t(26,Z=l.y_aggregate),"color_map"in l&&t(27,$=l.color_map),"x_lim"in l&&t(16,M=l.x_lim),"y_lim"in l&&t(17,X=l.y_lim),"x_label_angle"in l&&t(28,oe=l.x_label_angle),"y_label_angle"in l&&t(29,re=l.y_label_angle),"x_axis_labels_visible"in l&&t(30,ae=l.x_axis_labels_visible),"caption"in l&&t(1,Pe=l.caption),"sort"in l&&t(31,be=l.sort),"tooltip"in l&&t(32,q=l.tooltip),"show_fullscreen_button"in l&&t(2,Se=l.show_fullscreen_button),"_selectable"in l&&t(33,fe=l._selectable),"gradio"in l&&t(3,te=l.gradio),"label"in l&&t(4,Ae=l.label),"elem_id"in l&&t(5,Ne=l.elem_id),"elem_classes"in l&&t(6,Te=l.elem_classes),"visible"in l&&t(7,We=l.visible),"show_label"in l&&t(8,Ve=l.show_label),"scale"in l&&t(9,Ce=l.scale),"min_width"in l&&t(10,Me=l.min_width),"loading_status"in l&&t(11,Ee=l.loading_status),"height"in l&&t(12,Ie=l.height)},n.$$.update=()=>{n.$$.dirty[0]&65536&&t(16,M=M||null),n.$$.dirty[0]&65536&&t(46,[a,o]=M===null?[void 0,void 0]:M,a,(t(45,o),t(16,M))),n.$$.dirty[0]&1|n.$$.dirty[1]&49152&&t(34,ee=s?Qe(s,a,o):[]),n.$$.dirty[0]&1048577|n.$$.dirty[1]&8&&(i=g&&s&&s.datatypes[g]==="nominal"?Array.from(new Set(ee.map(l=>l[g]))):[]),n.$$.dirty[0]&131072&&t(17,X=X||null),n.$$.dirty[0]&131072&&t(44,[f,c]=X||[void 0,void 0],f,(t(43,c),t(17,X))),n.$$.dirty[1]&1&&(I=Xe(be)),n.$$.dirty[0]&262145&&t(41,_=s&&s.datatypes[r]==="temporal"),n.$$.dirty[0]&65536|n.$$.dirty[1]&1024&&(m=M&&_?[M[0]*1e3,M[1]*1e3]:M),n.$$.dirty[0]&33554432&&t(35,B=L?typeof L=="string"?1e3*parseInt(L.substring(0,L.length-1))*Ke[L[L.length-1]]:L:void 0),n.$$.dirty[0]&67371009|n.$$.dirty[1]&80&&s&&(s.mark==="point"?(t(37,Q=B!==void 0),t(36,le=Z||Q?"sum":void 0)):(t(37,Q=B!==void 0||s.datatypes[r]==="nominal"),t(36,le=Z||"sum"))),n.$$.dirty[0]&1|n.$$.dirty[1]&392&&ye!==s&&W&&(t(38,ye=s),W.data("data",ee).runAsync()),n.$$.dirty[0]&16384&&t(42,O=A?window.getComputedStyle(A):null),n.$$.dirty[0]&134217728&&t(47,C=JSON.stringify($)),n.$$.dirty[0]&66871298|n.$$.dirty[1]&129569&&O&&requestAnimationFrame(ce)},[s,Pe,Se,te,Ae,Ne,Te,We,Ve,Ce,Me,Ee,Ie,K,A,Ze,M,X,r,u,g,R,ie,ne,ge,L,Z,$,oe,re,ae,be,q,fe,ee,B,le,Q,ye,W,ke,_,O,c,f,o,a,C,et,tt,lt,it]}class Lt extends rt{constructor(e){super(),at(this,e,At,pt,ft,{value:0,x:18,y:19,color:20,title:21,x_title:22,y_title:23,color_title:24,x_bin:25,y_aggregate:26,color_map:27,x_lim:16,y_lim:17,x_label_angle:28,y_label_angle:29,x_axis_labels_visible:30,caption:1,sort:31,tooltip:32,show_fullscreen_button:2,_selectable:33,gradio:3,label:4,elem_id:5,elem_classes:6,visible:7,show_label:8,scale:9,min_width:10,loading_status:11,height:12},null,[-1,-1,-1])}}export{Lt as default};
//# sourceMappingURL=Index.DMsggt_9.js.map
