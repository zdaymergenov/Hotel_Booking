import{setContext as sl,tick as rt,SvelteComponent as Oe,init as je,safe_not_equal as ze,element as U,svg_element as oe,claim_element as R,children as B,claim_svg_element as ue,detach as d,attr as h,null_to_empty as al,insert_hydration as H,append_hydration as E,listen as fe,stop_propagation as Xe,noop as Ce,binding_callbacks as ve,bind as De,create_component as ie,claim_component as _e,mount_component as re,add_flush_callback as Ie,transition_in as y,transition_out as M,destroy_component as se,space as Z,empty as pe,claim_space as x,group_outros as me,check_outros as ge,createEventDispatcher as pt,toggle_class as $,set_input_value as ol,action_destroyer as gi,run_all as Qe,bubble as $e,prevent_default as fn,text as Se,claim_text as Be,set_data as qe,HtmlTagHydration as bi,claim_html_tag as wi,construct_svelte_component as ul,get_svelte_dataset as et,is_function as Ge,set_style as Ve,create_slot as Vt,add_render_callback as _l,add_iframe_resize_listener as fl,resize_observer_content_box as ki,update_slot_base as Pt,get_all_dirty_from_scope as Ut,get_slot_changes as Rt,onMount as _t,ensure_array_like as We,update_keyed_each as ft,outro_and_destroy_block as ct,ResizeObserverSingleton as vi,destroy_each as pi,onDestroy as yi,component_subscribe as Ei,afterUpdate as Ni,globals as Ti,flush as ke,assign as Ci,get_spread_update as Ai,get_spread_object as Si}from"../../../svelte/svelte.js";import{writable as Bi,get as Pe}from"../../../svelte/svelte-submodules.js";import{M as qi,D as Ft,F as Mi,B as Di,S as Ii}from"./2.BPD7TSJN.js";import{d as Ht}from"./index.tFQomdd2.js";import{d as Li}from"./dsv.DB8NKgIY.js";import{d as ut}from"./index.CnqicUFC.js";import{a as Oi}from"./Upload.DYS5R487.js";import{C as cn}from"./Checkbox.DNIYXYiK.js";import{D as ji}from"./DropdownArrow.Dsz0Zcs8.js";import{F as zi}from"./FullscreenButton.L5WHtCWr.js";import Hi from"./Index.BYNKipG9.js";import{default as _a}from"./Example.DSf4H_Iq.js";function wt(l,e,t){if(!e.length)return"none";const n=e.find(i=>{const s=i.col;return s<0||s>=t.length?!1:t[s]===l});return n?n.direction:"none"}function Vi(l,e){if(!l||!l.length||!l[0])return[];if(e.length>0){const t=[...Array(l.length)].map((n,i)=>i);return t.sort((n,i)=>{const s=l[n],r=l[i];for(const{col:a,direction:u}of e){if(!s||!r||a<0||a>=s.length||a>=r.length||!s[a]||!r[a])continue;const f=s[a].value,o=r[a].value,_=f<o?-1:f>o?1:0;if(_!==0)return u==="asc"?_:-_}return 0}),t}return[...Array(l.length)].map((t,n)=>n)}function Pi(l,e,t,n,i,s){let r=null;i&&i[0]in l&&i[1]in l[i[0]]&&(r=l[i[0]][i[1]].id),hn(l,e,t,n);let a=i;if(r){const[u,f]=s(r,l);a=[u,f]}return{data:l,selected:a}}function Ui(l,e){if(!l||!l.length||!l[0])return[];let t=[...Array(l.length)].map((n,i)=>i);return e.length>0?(e.forEach(n=>{if(n.datatype==="string")switch(n.filter){case"Contains":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().includes(n.value)});break;case"Does not contain":t=t.filter(i=>{var s;return!((s=l[i][n.col])!=null&&s.value.toString().includes(n.value))});break;case"Starts with":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().startsWith(n.value)});break;case"Ends with":t=t.filter(i=>{var s;return(s=l[i][n.col])==null?void 0:s.value.toString().endsWith(n.value)});break;case"Is":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===n.value});break;case"Is not":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())!==n.value});break;case"Is empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===""});break;case"Is not empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())!==""});break}else if(n.datatype==="number")switch(n.filter){case"=":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)===Number(n.value):!1});break;case"≠":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)!==Number(n.value):!1});break;case">":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)>Number(n.value):!1});break;case"<":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)<Number(n.value):!1});break;case"≥":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)>=Number(n.value):!1});break;case"≤":t=t.filter(i=>{var s,r;return!isNaN(Number((s=l[i][n.col])==null?void 0:s.value))&&!isNaN(Number(n.value))?Number((r=l[i][n.col])==null?void 0:r.value)<=Number(n.value):!1});break;case"Is empty":t=t.filter(i=>{var s;return((s=l[i][n.col])==null?void 0:s.value.toString())===""});break;case"Is not empty":t=t.filter(i=>{var s,r;return isNaN(Number((s=l[i][n.col])==null?void 0:s.value))?!1:((r=l[i][n.col])==null?void 0:r.value.toString())!==""});break}}),t):[...Array(l.length)].map((n,i)=>i)}function Ri(l,e,t,n,i,s,r,a,u){let f=null;i&&i[0]in l&&i[1]in l[i[0]]&&(f=l[i[0]][i[1]].id),Ji(l,e,t,n,r,a,u);let o=i;if(f){const[_,c]=s(f,l);o=[_,c]}return{data:l,selected:o}}function Fi(l){if(!l||!l.length)return[];let e=l[0].slice();for(let t=0;t<l.length;t++)for(let n=0;n<l[t].length;n++)`${e[n].value}`.length<`${l[t][n].value}`.length&&(e[n]=l[t][n]);return e}function hn(l,e,t,n){if(!n.length||!l||!l.length)return;const i=Vi(l,n),s=i.map(r=>l[r]);if(l.splice(0,l.length,...s),e){const r=i.map(a=>e[a]);e.splice(0,e.length,...r)}if(t){const r=i.map(a=>t[a]);t.splice(0,t.length,...r)}}function Ji(l,e,t,n,i,s,r){const a=i??l,u=s??e,f=r??t;if(!n.length){l.splice(0,l.length,...a.map(c=>[...c])),e&&u&&e.splice(0,e.length,...u.map(c=>[...c])),t&&f&&t.splice(0,t.length,...f.map(c=>[...c]));return}if(!l||!l.length)return;const o=Ui(a,n),_=o.map(c=>a[c]);if(l.splice(0,l.length,..._),e&&u){const c=o.map(g=>u[g]);e.splice(0,e.length,...c)}if(t&&f){const c=o.map(g=>f[g]);t.splice(0,t.length,...c)}}async function dn(l,e){if(!l||!l.length)return;const n=(e||l.flatMap((a,u)=>a.map((f,o)=>[u,o]))).reduce((a,[u,f])=>{a[u]=a[u]||{};const o=String(l[u][f].value);return a[u][f]=o.includes(",")||o.includes('"')||o.includes(`
`)?`"${o.replace(/"/g,'""')}"`:o,a},{}),i=Object.keys(n).sort((a,u)=>+a-+u);if(!i.length)return;const s=Object.keys(n[i[0]]).sort((a,u)=>+a-+u),r=i.map(a=>s.map(u=>n[a][u]||"").join(",")).join(`
`);try{await navigator.clipboard.writeText(r)}catch(a){throw new Error("Failed to copy to clipboard: "+a.message)}}function Ki(l,e){return e.filter(t);function t(n){var i=-1;return l.split(`
`).every(s);function s(r){if(!r)return!0;var a=r.split(n).length;return i<0&&(i=a),i===a&&a>1}}}function Wi(l){const e=atob(l.split(",")[1]),t=l.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),i=new Uint8Array(n);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return new Blob([n],{type:t})}function Yi(l,e,t){const n=Wi(l),i=new FileReader;i.addEventListener("loadend",s=>{var f;if(!((f=s==null?void 0:s.target)!=null&&f.result)||typeof s.target.result!="string")return;const[r]=Ki(s.target.result,[",","	"]),[a,...u]=Li(r).parseRows(s.target.result);e(a),t(u)}),i.readAsText(n)}function Xi(l,e){const[t,n]=l;return e.some(([i,s])=>i===t&&s===n)}function Gi(l,e){const[t,n]=l;if(!e.some(([u,f])=>u===t&&f===n))return"";const i=e.some(([u,f])=>u===t-1&&f===n),s=e.some(([u,f])=>u===t+1&&f===n),r=e.some(([u,f])=>u===t&&f===n-1),a=e.some(([u,f])=>u===t&&f===n+1);return`cell-selected${i?" no-top":""}${s?" no-bottom":""}${r?" no-left":""}${a?" no-right":""}`}function Jt(l,e){const[t,n]=l,[i,s]=e,r=Math.min(t,i),a=Math.max(t,i),u=Math.min(n,s),f=Math.max(n,s),o=[];o.push(l);for(let _=r;_<=a;_++)for(let c=u;c<=f;c++)_===t&&c===n||o.push([_,c]);return o}function Qi(l,e,t){if(t.shiftKey&&e.length>0)return Jt(e[e.length-1],l);if(t.metaKey||t.ctrlKey){const n=([s,r])=>s===l[0]&&r===l[1],i=e.findIndex(n);return i===-1?[...e,l]:e.filter((s,r)=>r!==i)}return[l]}function Zi(l,e){const t=l.map(n=>[...n]);return e.forEach(([n,i])=>{t[n]&&t[n][i]&&(t[n][i]={...t[n][i],value:""})}),t}function xi(l,e,t){const[n,i]=l;return t&&e.length===1&&e[0][0]===n&&e[0][1]===i}function $i(l,e,t){var u,f,o;const[n,i]=l,s=t?-1:1;if((u=e[n])!=null&&u[i+s])return[n,i+s];const r=n+(s>0?1:0),a=n+(s<0?-1:0);return s>0&&((f=e[r])!=null&&f[0])?[r,0]:s<0&&((o=e[a])!=null&&o[e[0].length-1])?[a,e[0].length-1]:!1}function er(l,e,t){var u;const n=l.key,i={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[n];let s,r;if(l.metaKey||l.ctrlKey)if(n==="ArrowRight")s=e[0],r=t[0].length-1;else if(n==="ArrowLeft")s=e[0],r=0;else if(n==="ArrowDown")s=t.length-1,r=e[1];else if(n==="ArrowUp")s=0,r=e[1];else return!1;else s=e[0]+i[0],r=e[1]+i[1];return s<0&&r<=0?!1:((u=t[s])==null?void 0:u[r])?[s,r]:!1}function cl(l,e){return e.reduce((t,n,i)=>{const s=n.reduce((r,a,u)=>l===a.id?u:r,-1);return s===-1?t:[i,s]},[-1,-1])}function tr(l,e){const[t]=l.composedPath();return!e.contains(t)}function lr(l,e,t,n,i){var g,C;const[s,r]=l;if(!((g=e[s])!=null&&g[r]))return{col_pos:"0px",row_pos:void 0};const a=e[s][r].id,u=(C=t[a])==null?void 0:C.cell;if(!u)return{col_pos:"0px",row_pos:void 0};const f=u.getBoundingClientRect(),o=i.getBoundingClientRect(),_=`${f.left-o.left+f.width/2}px`,c=`${f.top-o.top+f.height/2}px`;return{col_pos:_,row_pos:c}}const nr=Symbol("dataframe");function ir(l,e){const t=r=>l.update(a=>({...a,...r(a)})),n=(r,a,u)=>{var _;const f=(_=r[0])!=null&&_.length?Array(r[0].length).fill(null).map(()=>({value:"",id:a()})):[{value:"",id:a()}],o=[...r];return u!==void 0?o.splice(u,0,f):o.push(f),o},i=(r,a,u,f)=>{const o=[...a,`Header ${a.length+1}`],_=r.map(c=>[...c,{value:"",id:u()}]);return f!==void 0&&(o.splice(f,0,o.pop()),_.forEach(c=>c.splice(f,0,c.pop()))),{data:_,headers:o}},s=(r,a)=>{r&&a&&a.splice(0,a.length,...JSON.parse(JSON.stringify(r)))};return{handle_search:r=>t(a=>({current_search_query:r})),handle_sort:(r,a)=>t(u=>{const f=u.sort_state.sort_columns.filter(_=>_.col!==r);u.sort_state.sort_columns.some(_=>_.col===r&&_.direction===a)||f.push({col:r,direction:a});const o=u.sort_state.initial_data||(e.data&&f.length>0?{data:JSON.parse(JSON.stringify(e.data)),display_value:e.display_value?JSON.parse(JSON.stringify(e.display_value)):null,styling:e.styling?JSON.parse(JSON.stringify(e.styling)):null}:null);return{sort_state:{...u.sort_state,sort_columns:f.slice(-3),initial_data:o}}}),handle_filter:(r,a,u,f)=>t(o=>{const _=o.filter_state.filter_columns.some(g=>g.col===r)?o.filter_state.filter_columns.filter(g=>g.col!==r):[...o.filter_state.filter_columns,{col:r,datatype:a,filter:u,value:f}],c=o.filter_state.initial_data||(e.data&&_.length>0?{data:JSON.parse(JSON.stringify(e.data)),display_value:e.display_value?JSON.parse(JSON.stringify(e.display_value)):null,styling:e.styling?JSON.parse(JSON.stringify(e.styling)):null}:null);return{filter_state:{...o.filter_state,filter_columns:_,initial_data:c}}}),get_sort_status:(r,a)=>{const f=Pe(l).sort_state.sort_columns.find(o=>a[o.col]===r);return f?f.direction:"none"},sort_data:(r,a,u)=>{const{sort_state:{sort_columns:f}}=Pe(l);f.length&&hn(r,a,u,f)},update_row_order:r=>t(a=>({sort_state:{...a.sort_state,row_order:a.sort_state.sort_columns.length&&r[0]?[...Array(r.length)].map((u,f)=>f).sort((u,f)=>{var o,_,c,g;for(const{col:C,direction:w}of a.sort_state.sort_columns){const q=(((_=(o=r[u])==null?void 0:o[C])==null?void 0:_.value)??"")<(((g=(c=r[f])==null?void 0:c[C])==null?void 0:g.value)??"")?-1:1;if(q)return w==="asc"?q:-q}return 0}):[...Array(r.length)].map((u,f)=>f)}})),filter_data:r=>{var u;const a=(u=Pe(l).current_search_query)==null?void 0:u.toLowerCase();return a?r.filter(f=>f.some(o=>String(o==null?void 0:o.value).toLowerCase().includes(a))):r},add_row:n,add_col:i,add_row_at:(r,a,u,f)=>n(r,f,u==="above"?a:a+1),add_col_at:(r,a,u,f,o)=>i(r,a,o,f==="left"?u:u+1),delete_row:(r,a)=>r.length>1?r.filter((u,f)=>f!==a):r,delete_col:(r,a,u)=>a.length>1?{data:r.map(f=>f.filter((o,_)=>_!==u)),headers:a.filter((f,o)=>o!==u)}:{data:r,headers:a},delete_row_at:(r,a)=>r.length>1?[...r.slice(0,a),...r.slice(a+1)]:r,delete_col_at:(r,a,u)=>a.length>1?{data:r.map(f=>[...f.slice(0,u),...f.slice(u+1)]),headers:[...a.slice(0,u),...a.slice(u+1)]}:{data:r,headers:a},trigger_change:async(r,a,u,f,o,_)=>{const c=Pe(l);if(c.current_search_query)return;const g=a.map(w=>w.value),C=r.map(w=>w.map(q=>q.value));if(!Ht(C,u)||!Ht(g,f)){Ht(g,f)||t(q=>({sort_state:{sort_columns:[],row_order:[],initial_data:null},filter_state:{filter_columns:[],initial_data:null}})),_("change",{data:r.map(q=>q.map(b=>b.value)),headers:g,metadata:null});const w=c.ui_state.selected;w&&_("edit",{index:w,value:r[w[0]][w[1]].value,previous_value:u[w[0]][w[1]]}),o||_("input")}},reset_sort_state:()=>t(r=>{if(r.sort_state.initial_data&&e.data){const a=r.sort_state.initial_data;s(a.data,e.data),s(a.display_value,e.display_value),s(a.styling,e.styling)}return{sort_state:{sort_columns:[],row_order:[],initial_data:null}}}),reset_filter_state:()=>t(r=>{if(r.filter_state.initial_data&&e.data){const a=r.filter_state.initial_data;s(a.data,e.data),s(a.display_value,e.display_value),s(a.styling,e.styling)}return{filter_state:{filter_columns:[],initial_data:null}}}),set_active_cell_menu:r=>t(a=>({ui_state:{...a.ui_state,active_cell_menu:r}})),set_active_header_menu:r=>t(a=>({ui_state:{...a.ui_state,active_header_menu:r}})),set_selected_cells:r=>t(a=>({ui_state:{...a.ui_state,selected_cells:r}})),set_selected:r=>t(a=>({ui_state:{...a.ui_state,selected:r}})),set_editing:r=>t(a=>({ui_state:{...a.ui_state,editing:r}})),clear_ui_state:()=>t(r=>({ui_state:{active_cell_menu:null,active_header_menu:null,selected_cells:[],selected:!1,editing:!1,header_edit:!1,selected_header:!1,active_button:null,copy_flash:!1}})),set_header_edit:r=>t(a=>({ui_state:{...a.ui_state,selected_cells:[],selected_header:r,header_edit:r}})),set_selected_header:r=>t(a=>({ui_state:{...a.ui_state,selected_header:r,selected:!1,selected_cells:[]}})),handle_header_click:(r,a)=>t(u=>({ui_state:{...u.ui_state,active_cell_menu:null,active_header_menu:null,selected:!1,selected_cells:[],selected_header:r,header_edit:a?r:!1}})),end_header_edit:r=>{["Escape","Enter","Tab"].includes(r)&&t(a=>({ui_state:{...a.ui_state,selected:!1,header_edit:!1}}))},get_selected_cells:()=>Pe(l).ui_state.selected_cells,get_active_cell_menu:()=>Pe(l).ui_state.active_cell_menu,get_active_button:()=>Pe(l).ui_state.active_button,set_active_button:r=>t(a=>({ui_state:{...a.ui_state,active_button:r}})),set_copy_flash:r=>t(a=>({ui_state:{...a.ui_state,copy_flash:r}})),handle_cell_click:(r,a,u)=>{var c;r.preventDefault(),r.stopPropagation();const f=Pe(l);if(f.config.show_row_numbers&&u===-1)return;let o=a;if(f.current_search_query&&e.data){const g=[];e.data.forEach((C,w)=>{C.some(q=>{var b;return String(q==null?void 0:q.value).toLowerCase().includes(((b=f.current_search_query)==null?void 0:b.toLowerCase())||"")})&&g.push(w)}),o=g[a]??a}const _=Qi([o,u],f.ui_state.selected_cells,r);t(g=>({ui_state:{...g.ui_state,active_cell_menu:null,active_header_menu:null,selected_header:!1,header_edit:!1,selected_cells:_,selected:_[0]}})),f.config.editable&&_.length===1?(t(g=>({ui_state:{...g.ui_state,editing:[o,u]}})),rt().then(()=>{var g,C;return(C=(g=e.els[e.data[o][u].id])==null?void 0:g.input)==null?void 0:C.focus()})):rt().then(()=>{e.parent_element&&e.parent_element.focus()}),(c=e.dispatch)==null||c.call(e,"select",{index:[o,u],col_value:e.get_column(u),row_value:e.get_row(o),value:e.get_data_at(o,u)})},toggle_cell_menu:(r,a,u)=>{r.stopPropagation();const f=Pe(l).ui_state.active_cell_menu;if((f==null?void 0:f.row)===a&&f.col===u)t(o=>({ui_state:{...o.ui_state,active_cell_menu:null}}));else{const o=r.target.closest("td");if(o){const _=o.getBoundingClientRect();t(c=>({ui_state:{...c.ui_state,active_cell_menu:{row:a,col:u,x:_.right,y:_.bottom}}}))}}},toggle_cell_button:(r,a)=>{const u=Pe(l).ui_state.active_button,f=(u==null?void 0:u.type)==="cell"&&u.row===r&&u.col===a?null:{type:"cell",row:r,col:a};t(o=>({ui_state:{...o.ui_state,active_button:f}}))},handle_select_column:r=>{if(!e.data)return;const a=e.data.map((u,f)=>[f,r]);t(u=>({ui_state:{...u.ui_state,selected_cells:a,selected:a[0],editing:!1}})),setTimeout(()=>{var u;return(u=e.parent_element)==null?void 0:u.focus()},0)},handle_select_row:r=>{if(!e.data||!e.data[0])return;const a=e.data[0].map((u,f)=>[r,f]);t(u=>({ui_state:{...u.ui_state,selected_cells:a,selected:a[0],editing:!1}})),setTimeout(()=>{var u;return(u=e.parent_element)==null?void 0:u.focus()},0)},get_next_cell_coordinates:$i,get_range_selection:Jt,move_cursor:er}}function rr(l){const e=Bi({config:l,current_search_query:null,sort_state:{sort_columns:[],row_order:[],initial_data:null},filter_state:{filter_columns:[],initial_data:null},ui_state:{active_cell_menu:null,active_header_menu:null,selected_cells:[],selected:!1,editing:!1,header_edit:!1,selected_header:!1,active_button:null,copy_flash:!1}}),t={state:e,actions:null};t.actions=ir(e,t);const n=Symbol(`dataframe_${Math.random().toString(36).substring(2)}`);return sl(n,t),sl(nr,{instance_id:n,context:t}),t}function sr(l){let e,t,n,i,s,r,a,u,f;return{c(){e=U("button"),t=U("span"),n=oe("svg"),i=oe("path"),this.h()},l(o){e=R(o,"BUTTON",{class:!0,"aria-label":!0});var _=B(e);t=R(_,"SPAN",{class:!0});var c=B(t);n=ue(c,"svg",{xmlns:!0,viewBox:!0,class:!0});var g=B(n);i=ue(g,"path",{d:!0,"data-name":!0}),B(i).forEach(d),g.forEach(d),c.forEach(d),_.forEach(d),this.h()},h(){h(i,"d","m16.707 13.293-4-4a1 1 0 0 0-1.414 0l-4 4A1 1 0 0 0 8 15h8a1 1 0 0 0 .707-1.707z"),h(i,"data-name",l[3]),h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"viewBox","0 0 24 24"),h(n,"class","svelte-1mp8yw1"),h(t,"class",s=al(l[3])+" svelte-1mp8yw1"),h(e,"class",r="selection-button selection-button-"+l[0]+" "+(l[2]?`move-${l[3]}`:"")+" svelte-1mp8yw1"),h(e,"aria-label",a=`Select ${l[0]}`)},m(o,_){H(o,e,_),E(e,t),E(t,n),E(n,i),u||(f=fe(e,"click",Xe(l[5])),u=!0)},p(o,[_]){_&8&&h(i,"data-name",o[3]),_&8&&s!==(s=al(o[3])+" svelte-1mp8yw1")&&h(t,"class",s),_&13&&r!==(r="selection-button selection-button-"+o[0]+" "+(o[2]?`move-${o[3]}`:"")+" svelte-1mp8yw1")&&h(e,"class",r),_&1&&a!==(a=`Select ${o[0]}`)&&h(e,"aria-label",a)},i:Ce,o:Ce,d(o){o&&d(e),u=!1,f()}}}function ar(l,e,t){let n,i,{position:s}=e,{coords:r}=e,{on_click:a=null}=e;const u=()=>a&&a();return l.$$set=f=>{"position"in f&&t(0,s=f.position),"coords"in f&&t(4,r=f.coords),"on_click"in f&&t(1,a=f.on_click)},l.$$.update=()=>{l.$$.dirty&17&&t(2,n=s==="column"?r[0]===0:r[1]===0),l.$$.dirty&5&&t(3,i=s==="column"?n?"down":"up":n?"right":"left")},[s,a,n,i,r,u]}class hl extends Oe{constructor(e){super(),je(this,e,ar,sr,ze,{position:0,coords:4,on_click:1})}}function or(l){let e,t,n,i;function s(a){l[4](a)}let r={label:"",interactive:l[1]};return l[0]!==void 0&&(r.value=l[0]),t=new cn({props:r}),ve.push(()=>De(t,"value",s)),t.$on("change",l[2]),{c(){e=U("div"),ie(t.$$.fragment),this.h()},l(a){e=R(a,"DIV",{class:!0,role:!0,tabindex:!0});var u=B(e);_e(t.$$.fragment,u),u.forEach(d),this.h()},h(){h(e,"class","bool-cell svelte-1svo4lb"),h(e,"role","button"),h(e,"tabindex","-1")},m(a,u){H(a,e,u),re(t,e,null),i=!0},p(a,[u]){const f={};u&2&&(f.interactive=a[1]),!n&&u&1&&(n=!0,f.value=a[0],Ie(()=>n=!1)),t.$set(f)},i(a){i||(y(t.$$.fragment,a),i=!0)},o(a){M(t.$$.fragment,a),i=!1},d(a){a&&d(e),se(t)}}}function ur(l,e,t){let{value:n=!1}=e,{editable:i=!0}=e,{on_change:s}=e;function r(u){i&&s(u.detail)}function a(u){n=u,t(0,n)}return l.$$set=u=>{"value"in u&&t(0,n=u.value),"editable"in u&&t(1,i=u.editable),"on_change"in u&&t(3,s=u.on_change)},[n,i,r,s,a]}class _r extends Oe{constructor(e){super(),je(this,e,ur,or,ze,{value:0,editable:1,on_change:3})}}function dl(l){let e,t,n,i;return{c(){e=U("textarea"),this.h()},l(s){e=R(s,"TEXTAREA",{"aria-readonly":!0,"aria-label":!0,tabindex:!0,class:!0}),B(e).forEach(d),this.h()},h(){e.readOnly=l[9],h(e,"aria-readonly",l[9]),h(e,"aria-label",t=l[9]?"Cell is read-only":"Edit cell"),h(e,"tabindex","-1"),h(e,"class","svelte-fvkwu"),$(e,"header",l[4])},m(s,r){H(s,e,r),l[29](e),ol(e,l[0]),n||(i=[fe(e,"input",l[30]),fe(e,"blur",l[20]),fe(e,"mousedown",Xe(l[27])),fe(e,"click",Xe(l[28])),gi(kr.call(null,e)),fe(e,"keydown",l[21])],n=!0)},p(s,r){r[0]&512&&(e.readOnly=s[9]),r[0]&512&&h(e,"aria-readonly",s[9]),r[0]&512&&t!==(t=s[9]?"Cell is read-only":"Edit cell")&&h(e,"aria-label",t),r[0]&1&&ol(e,s[0]),r[0]&16&&$(e,"header",s[4])},d(s){s&&d(e),l[29](null),n=!1,Qe(i)}}}function fr(l){let e,t,n,i,s,r;const a=[gr,mr,dr,hr],u=[];function f(o,_){return o[5]==="image"&&o[11].image?0:o[5]==="html"?1:o[5]==="markdown"?2:3}return t=f(l),n=u[t]=a[t](l),{c(){e=U("span"),n.c(),this.h()},l(o){e=R(o,"SPAN",{tabindex:!0,role:!0,style:!0,"data-editable":!0,"data-max-chars":!0,"data-expanded":!0,placeholder:!0,class:!0});var _=B(e);n.l(_),_.forEach(d),this.h()},h(){h(e,"tabindex","0"),h(e,"role","button"),h(e,"style",l[3]),h(e,"data-editable",l[8]),h(e,"data-max-chars",l[10]),h(e,"data-expanded",l[2]),h(e,"placeholder"," "),h(e,"class","svelte-fvkwu"),$(e,"dragging",l[13]),$(e,"edit",l[2]),$(e,"expanded",l[2]),$(e,"multiline",l[4]),$(e,"text",l[5]==="str"),$(e,"wrap",l[14])},m(o,_){H(o,e,_),u[t].m(e,null),i=!0,s||(r=[fe(e,"keydown",l[21]),fe(e,"focus",fn(l[26]))],s=!0)},p(o,_){let c=t;t=f(o),t===c?u[t].p(o,_):(me(),M(u[c],1,1,()=>{u[c]=null}),ge(),n=u[t],n?n.p(o,_):(n=u[t]=a[t](o),n.c()),y(n,1),n.m(e,null)),(!i||_[0]&8)&&h(e,"style",o[3]),(!i||_[0]&256)&&h(e,"data-editable",o[8]),(!i||_[0]&1024)&&h(e,"data-max-chars",o[10]),(!i||_[0]&4)&&h(e,"data-expanded",o[2]),(!i||_[0]&8192)&&$(e,"dragging",o[13]),(!i||_[0]&4)&&$(e,"edit",o[2]),(!i||_[0]&4)&&$(e,"expanded",o[2]),(!i||_[0]&16)&&$(e,"multiline",o[4]),(!i||_[0]&32)&&$(e,"text",o[5]==="str"),(!i||_[0]&16384)&&$(e,"wrap",o[14])},i(o){i||(y(n),i=!0)},o(o){M(n),i=!1},d(o){o&&d(e),u[t].d(),s=!1,Qe(r)}}}function cr(l){let e,t,n;function i(r){l[31](r)}let s={editable:l[8],on_change:l[22]};return l[0]!==void 0&&(s.value=l[0]),e=new _r({props:s}),ve.push(()=>De(e,"value",i)),{c(){ie(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,a){re(e,r,a),n=!0},p(r,a){const u={};a[0]&256&&(u.editable=r[8]),!t&&a[0]&1&&(t=!0,u.value=r[0],Ie(()=>t=!1)),e.$set(u)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function hr(l){let e;return{c(){e=Se(l[19])},l(t){e=Be(t,l[19])},m(t,n){H(t,e,n)},p(t,n){n[0]&524288&&qe(e,t[19])},i:Ce,o:Ce,d(t){t&&d(e)}}}function dr(l){let e,t;return e=new qi({props:{message:l[19].toLocaleString(),latex_delimiters:l[6],line_breaks:l[7],chatbot:!1}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&524288&&(s.message=n[19].toLocaleString()),i[0]&64&&(s.latex_delimiters=n[6]),i[0]&128&&(s.line_breaks=n[7]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function mr(l){let e,t;return{c(){e=new bi(!1),t=pe(),this.h()},l(n){e=wi(n,!1),t=pe(),this.h()},h(){e.a=t},m(n,i){e.m(l[19],n,i),H(n,t,i)},p(n,i){i[0]&524288&&e.p(n[19])},i:Ce,o:Ce,d(n){n&&(d(t),e.d())}}}function gr(l){let e,t,n;var i=l[11].image;function s(r,a){return{props:{value:{url:r[19]},show_label:!1,label:"cell-image",show_download_button:!1,i18n:r[12],gradio:{dispatch:vr}}}}return i&&(e=ul(i,s(l))),{c(){e&&ie(e.$$.fragment),t=pe()},l(r){e&&_e(e.$$.fragment,r),t=pe()},m(r,a){e&&re(e,r,a),H(r,t,a),n=!0},p(r,a){if(a[0]&2048&&i!==(i=r[11].image)){if(e){me();const u=e;M(u.$$.fragment,1,0,()=>{se(u,1)}),ge()}i?(e=ul(i,s(r)),ie(e.$$.fragment),y(e.$$.fragment,1),re(e,t.parentNode,t)):e=null}else if(i){const u={};a[0]&524288&&(u.value={url:r[19]}),a[0]&4096&&(u.i18n=r[12]),e.$set(u)}},i(r){n||(e&&y(e.$$.fragment,r),n=!0)},o(r){e&&M(e.$$.fragment,r),n=!1},d(r){r&&d(t),e&&se(e,r)}}}function ml(l){let e,t,n,i;return e=new hl({props:{position:"column",coords:l[16],on_click:l[32]}}),n=new hl({props:{position:"row",coords:l[16],on_click:l[33]}}),{c(){ie(e.$$.fragment),t=Z(),ie(n.$$.fragment)},l(s){_e(e.$$.fragment,s),t=x(s),_e(n.$$.fragment,s)},m(s,r){re(e,s,r),H(s,t,r),re(n,s,r),i=!0},p(s,r){const a={};r[0]&65536&&(a.coords=s[16]),r[0]&196608&&(a.on_click=s[32]),e.$set(a);const u={};r[0]&65536&&(u.coords=s[16]),r[0]&327680&&(u.on_click=s[33]),n.$set(u)},i(s){i||(y(e.$$.fragment,s),y(n.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),M(n.$$.fragment,s),i=!1},d(s){s&&d(t),se(e,s),se(n,s)}}}function br(l){let e,t,n,i,s,r,a=l[2]&&l[5]!=="bool"&&dl(l);const u=[cr,fr],f=[];function o(c,g){return c[5]==="bool"&&typeof c[0]=="boolean"?0:1}t=o(l),n=f[t]=u[t](l);let _=l[15]&&l[16]&&l[17]&&l[18]&&ml(l);return{c(){a&&a.c(),e=Z(),n.c(),i=Z(),_&&_.c(),s=pe()},l(c){a&&a.l(c),e=x(c),n.l(c),i=x(c),_&&_.l(c),s=pe()},m(c,g){a&&a.m(c,g),H(c,e,g),f[t].m(c,g),H(c,i,g),_&&_.m(c,g),H(c,s,g),r=!0},p(c,g){c[2]&&c[5]!=="bool"?a?a.p(c,g):(a=dl(c),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);let C=t;t=o(c),t===C?f[t].p(c,g):(me(),M(f[C],1,1,()=>{f[C]=null}),ge(),n=f[t],n?n.p(c,g):(n=f[t]=u[t](c),n.c()),y(n,1),n.m(i.parentNode,i)),c[15]&&c[16]&&c[17]&&c[18]?_?(_.p(c,g),g[0]&491520&&y(_,1)):(_=ml(c),_.c(),y(_,1),_.m(s.parentNode,s)):_&&(me(),M(_,1,1,()=>{_=null}),ge())},i(c){r||(y(n),y(_),r=!0)},o(c){M(n),M(_),r=!1},d(c){c&&(d(e),d(i),d(s)),a&&a.d(c),f[t].d(c),_&&_.d(c)}}}function wr(l,e=null,t=!1){if(t)return String(l);const n=String(l);return!e||e<=0||n.length<=e?n:n.slice(0,e)+"..."}function kr(l){return requestAnimationFrame(()=>{l.focus()}),{}}const vr=()=>{};function pr(l,e,t){let n,i,s,{edit:r}=e,{value:a=""}=e,{display_value:u=null}=e,{styling:f=""}=e,{header:o=!1}=e,{datatype:_="str"}=e,{latex_delimiters:c}=e,{line_breaks:g=!0}=e,{editable:C=!0}=e,{is_static:w=!1}=e,{max_chars:q=null}=e,{components:b={}}=e,{i18n:k}=e,{is_dragging:v=!1}=e,{wrap_text:V=!1}=e,{show_selection_buttons:O=!1}=e,{coords:N}=e,{on_select_column:P=null}=e,{on_select_row:W=null}=e,{el:I}=e;const F=pt();function J(L){F("blur",{blur_event:L,coords:N})}function K(L){F("keydown",L)}function Y(L){J({target:{value:a}})}function ne(L){$e.call(this,l,L)}function ae(L){$e.call(this,l,L)}function ee(L){$e.call(this,l,L)}function ce(L){ve[L?"unshift":"push"](()=>{I=L,t(1,I)})}function be(){a=this.value,t(0,a)}function Ne(L){a=L,t(0,a)}const de=()=>P(N[1]),te=()=>W(N[0]);return l.$$set=L=>{"edit"in L&&t(2,r=L.edit),"value"in L&&t(0,a=L.value),"display_value"in L&&t(23,u=L.display_value),"styling"in L&&t(3,f=L.styling),"header"in L&&t(4,o=L.header),"datatype"in L&&t(5,_=L.datatype),"latex_delimiters"in L&&t(6,c=L.latex_delimiters),"line_breaks"in L&&t(7,g=L.line_breaks),"editable"in L&&t(8,C=L.editable),"is_static"in L&&t(9,w=L.is_static),"max_chars"in L&&t(10,q=L.max_chars),"components"in L&&t(11,b=L.components),"i18n"in L&&t(12,k=L.i18n),"is_dragging"in L&&t(13,v=L.is_dragging),"wrap_text"in L&&t(14,V=L.wrap_text),"show_selection_buttons"in L&&t(15,O=L.show_selection_buttons),"coords"in L&&t(16,N=L.coords),"on_select_column"in L&&t(17,P=L.on_select_column),"on_select_row"in L&&t(18,W=L.on_select_row),"el"in L&&t(1,I=L.el)},l.$$.update=()=>{l.$$.dirty[0]&1028&&t(25,n=!r&&q!==null&&q>0),l.$$.dirty[0]&8388865&&t(24,i=C?a:u!==null?u:a),l.$$.dirty[0]&50332704&&t(19,s=n?wr(i,q,_==="image"):i),l.$$.dirty[0]&5&&(r||J({target:{value:a}}))},[a,I,r,f,o,_,c,g,C,w,q,b,k,v,V,O,N,P,W,s,J,K,Y,u,i,n,ne,ae,ee,ce,be,Ne,de,te]}class Kt extends Oe{constructor(e){super(),je(this,e,pr,br,ze,{edit:2,value:0,display_value:23,styling:3,header:4,datatype:5,latex_delimiters:6,line_breaks:7,editable:8,is_static:9,max_chars:10,components:11,i18n:12,is_dragging:13,wrap_text:14,show_selection_buttons:15,coords:16,on_select_column:17,on_select_row:18,el:1},null,[-1,-1])}}function yr(l){let e,t=(l[0]!==null?l[0]+1:"")+"",n;return{c(){e=U("td"),n=Se(t),this.h()},l(i){e=R(i,"TD",{class:!0,tabindex:!0,"data-row":!0,"data-col":!0});var s=B(e);n=Be(s,t),s.forEach(d),this.h()},h(){h(e,"class","row-number svelte-ux4in1"),h(e,"tabindex","-1"),h(e,"data-row",l[0]),h(e,"data-col","row-number")},m(i,s){H(i,e,s),E(e,n)},p(i,s){s&1&&t!==(t=(i[0]!==null?i[0]+1:"")+"")&&qe(n,t),s&1&&h(e,"data-row",i[0])},d(i){i&&d(e)}}}function Er(l){let e,t='<div class="cell-wrap"><div class="header-content"><div class="header-text"></div></div></div>';return{c(){e=U("th"),e.innerHTML=t,this.h()},l(n){e=R(n,"TH",{tabindex:!0,class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1aj56zf"&&(e.innerHTML=t),this.h()},h(){h(e,"tabindex","-1"),h(e,"class","row-number svelte-ux4in1")},m(n,i){H(n,e,i)},p:Ce,d(n){n&&d(e)}}}function Nr(l){let e;function t(s,r){return s[1]?Er:yr}let n=t(l),i=n(l);return{c(){i.c(),e=pe()},l(s){i.l(s),e=pe()},m(s,r){i.m(s,r),H(s,e,r)},p(s,[r]){n===(n=t(s))&&i?i.p(s,r):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ce,o:Ce,d(s){s&&d(e),i.d(s)}}}function Tr(l,e,t){let{index:n=null}=e,{is_header:i=!1}=e;return l.$$set=s=>{"index"in s&&t(0,n=s.index),"is_header"in s&&t(1,i=s.is_header)},[n,i]}class yt extends Oe{constructor(e){super(),je(this,e,Tr,Nr,ze,{index:0,is_header:1})}}function Cr(l){let e,t="⋮",n,i;return{c(){e=U("button"),e.textContent=t,this.h()},l(s){e=R(s,"BUTTON",{"aria-label":!0,class:!0,"aria-haspopup":!0,"data-svelte-h":!0}),et(e)!=="svelte-qulk5p"&&(e.textContent=t),this.h()},h(){h(e,"aria-label","Open cell menu"),h(e,"class","cell-menu-button svelte-vt38nd"),h(e,"aria-haspopup","menu")},m(s,r){H(s,e,r),n||(i=[fe(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),fe(e,"touchstart",l[1])],n=!0)},p(s,[r]){l=s},i:Ce,o:Ce,d(s){s&&d(e),n=!1,Qe(i)}}}function Ar(l,e,t){let{on_click:n}=e;const i=s=>{s.preventDefault();const r=s.touches[0],a=new MouseEvent("click",{clientX:r.clientX,clientY:r.clientY,bubbles:!0,cancelable:!0,view:window});n(a)};return l.$$set=s=>{"on_click"in s&&t(0,n=s.on_click)},[n,i]}class mn extends Oe{constructor(e){super(),je(this,e,Ar,Cr,ze,{on_click:0})}}function Sr(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>';return{c(){e=U("div"),e.innerHTML=t,this.h()},l(n){e=R(n,"DIV",{class:!0,"aria-label":!0,"data-svelte-h":!0}),et(e)!=="svelte-1ernod4"&&(e.innerHTML=t),this.h()},h(){h(e,"class","wrapper svelte-1skchaw"),h(e,"aria-label","Static column")},m(n,i){H(n,e,i)},p:Ce,i:Ce,o:Ce,d(n){n&&d(e)}}}class Br extends Oe{constructor(e){super(),je(this,e,null,Sr,ze,{})}}function qr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=B(e);t=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"d","M4 8L8 4L12 8"),h(t,"stroke","currentColor"),h(t,"stroke-width","1.5"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M8 4V12"),h(n,"stroke","currentColor"),h(n,"stroke-width","1.5"),h(n,"stroke-linecap","round"),h(e,"width",l[0]),h(e,"height",l[0]),h(e,"viewBox","0 0 16 16"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(i,s){H(i,e,s),E(e,t),E(e,n)},p(i,[s]){s&1&&h(e,"width",i[0]),s&1&&h(e,"height",i[0])},i:Ce,o:Ce,d(i){i&&d(e)}}}function Mr(l,e,t){let{size:n=16}=e;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},[n]}class Dr extends Oe{constructor(e){super(),je(this,e,Mr,qr,ze,{size:0})}}function Ir(l){let e,t,n;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=B(e);t=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"d","M4 8L8 12L12 8"),h(t,"stroke","currentColor"),h(t,"stroke-width","1.5"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M8 12V4"),h(n,"stroke","currentColor"),h(n,"stroke-width","1.5"),h(n,"stroke-linecap","round"),h(e,"width",l[0]),h(e,"height",l[0]),h(e,"viewBox","0 0 16 16"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(i,s){H(i,e,s),E(e,t),E(e,n)},p(i,[s]){s&1&&h(e,"width",i[0]),s&1&&h(e,"height",i[0])},i:Ce,o:Ce,d(i){i&&d(e)}}}function Lr(l,e,t){let{size:n=16}=e;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},[n]}class Or extends Oe{constructor(e){super(),je(this,e,Lr,Ir,ze,{size:0})}}function jr(l){let e,t,n,i,s;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),s=oe("path"),this.h()},l(r){e=ue(r,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);t=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(t).forEach(d),n=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),i=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(i).forEach(d),s=ue(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(s).forEach(d),a.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M8 9H16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M11 13H13"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(s,"d","M17 17L21 21M21 17L17 21"),h(s,"stroke","currentColor"),h(s,"stroke-width","2"),h(s,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(r,a){H(r,e,a),E(e,t),E(e,n),E(e,i),E(e,s)},d(r){r&&d(e)}}}function zr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=B(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M8 9H16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M11 13H13"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){H(s,e,r),E(e,t),E(e,n),E(e,i)},d(s){s&&d(e)}}}function Hr(l){let e,t,n,i,s,r;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),s=oe("path"),r=oe("path"),this.h()},l(a){e=ue(a,"svg",{viewBox:!0,width:!0,height:!0});var u=B(e);t=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(t).forEach(d),n=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),i=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(i).forEach(d),s=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(s).forEach(d),r=ue(u,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(r).forEach(d),u.forEach(d),this.h()},h(){h(t,"d","M5 5H19"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(n,"d","M5 9H15"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 13H11"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(s,"d","M5 17H7"),h(s,"stroke","currentColor"),h(s,"stroke-width","2"),h(s,"stroke-linecap","round"),h(r,"d","M17 17L21 21M21 17L17 21"),h(r,"stroke","currentColor"),h(r,"stroke-width","2"),h(r,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(a,u){H(a,e,u),E(e,t),E(e,n),E(e,i),E(e,s),E(e,r)},d(a){a&&d(e)}}}function Vr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=B(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M8 12L12 16L16 12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M12 16V9"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 5H19"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){H(s,e,r),E(e,t),E(e,n),E(e,i)},d(s){s&&d(e)}}}function Pr(l){let e,t,n,i;return{c(){e=oe("svg"),t=oe("path"),n=oe("path"),i=oe("path"),this.h()},l(s){e=ue(s,"svg",{viewBox:!0,width:!0,height:!0});var r=B(e);t=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),B(t).forEach(d),n=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),i=ue(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(i).forEach(d),r.forEach(d),this.h()},h(){h(t,"d","M8 16L12 12L16 16"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(n,"d","M12 12V19"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(i,"d","M5 7H19"),h(i,"stroke","currentColor"),h(i,"stroke-width","2"),h(i,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(s,r){H(s,e,r),E(e,t),E(e,n),E(e,i)},d(s){s&&d(e)}}}function Ur(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","10"),h(t,"y","5"),h(t,"width","4"),h(t,"height","14"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M7 8L17 16M17 8L7 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Rr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","5"),h(t,"y","10"),h(t,"width","14"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M8 7L16 17M16 7L8 17"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Fr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","6"),h(t,"y","4"),h(t,"width","12"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M12 12V19M8 16L12 19L16 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Jr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","6"),h(t,"y","16"),h(t,"width","12"),h(t,"height","4"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(n,"d","M12 12V5M8 8L12 5L16 8"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Kr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","16"),h(t,"y","6"),h(t,"width","4"),h(t,"height","12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(n,"d","M12 12H5M8 8L5 12L8 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Wr(l){let e,t,n;return{c(){e=oe("svg"),t=oe("rect"),n=oe("path"),this.h()},l(i){e=ue(i,"svg",{viewBox:!0,width:!0,height:!0});var s=B(e);t=ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,stroke:!0,"stroke-width":!0,fill:!0}),B(t).forEach(d),n=ue(s,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-linecap":!0}),B(n).forEach(d),s.forEach(d),this.h()},h(){h(t,"x","4"),h(t,"y","6"),h(t,"width","4"),h(t,"height","12"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"fill","none"),h(n,"d","M12 12H19M16 8L19 12L16 16"),h(n,"stroke","currentColor"),h(n,"stroke-width","2"),h(n,"fill","none"),h(n,"stroke-linecap","round"),h(e,"viewBox","0 0 24 24"),h(e,"width","16"),h(e,"height","16")},m(i,s){H(i,e,s),E(e,t),E(e,n)},d(i){i&&d(e)}}}function Yr(l){let e;function t(s,r){if(s[0]=="add-column-right")return Wr;if(s[0]=="add-column-left")return Kr;if(s[0]=="add-row-above")return Jr;if(s[0]=="add-row-below")return Fr;if(s[0]=="delete-row")return Rr;if(s[0]=="delete-column")return Ur;if(s[0]=="sort-asc")return Pr;if(s[0]=="sort-desc")return Vr;if(s[0]=="clear-sort")return Hr;if(s[0]=="filter")return zr;if(s[0]=="clear-filter")return jr}let n=t(l),i=n&&n(l);return{c(){i&&i.c(),e=pe()},l(s){i&&i.l(s),e=pe()},m(s,r){i&&i.m(s,r),H(s,e,r)},p(s,[r]){n!==(n=t(s))&&(i&&i.d(1),i=n&&n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:Ce,o:Ce,d(s){s&&d(e),i&&i.d(s)}}}function Xr(l,e,t){let{icon:n}=e;return l.$$set=i=>{"icon"in i&&t(0,n=i.icon)},[n]}class Ke extends Oe{constructor(e){super(),je(this,e,Xr,Yr,ze,{icon:0})}}function gl(l){let e,t,n,i,s;return t=new cn({props:{value:l[24]==="checked",indeterminate:l[24]==="indeterminate",label:"",interactive:!0}}),t.$on("select",l[33]),{c(){e=U("div"),ie(t.$$.fragment),this.h()},l(r){e=R(r,"DIV",{class:!0,role:!0,tabindex:!0});var a=B(e);_e(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","select-all-checkbox svelte-1x6yk40"),h(e,"role","button"),h(e,"tabindex","0")},m(r,a){H(r,e,a),re(t,e,null),n=!0,i||(s=[fe(e,"click",Xe(l[31])),fe(e,"keydown",Xe(xr)),fe(e,"mousedown",Xe(l[32]))],i=!0)},p(r,a){const u={};a[0]&16777216&&(u.value=r[24]==="checked"),a[0]&16777216&&(u.indeterminate=r[24]==="indeterminate"),t.$set(u)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){M(t.$$.fragment,r),n=!1},d(r){r&&d(e),se(t),i=!1,Qe(s)}}}function bl(l){let e,t,n,i,s,r;const a=[Qr,Gr],u=[];function f(_,c){return _[21]==="asc"?0:1}n=f(l),i=u[n]=a[n](l);let o=l[11].length>1&&wl(l);return{c(){e=U("div"),t=U("span"),i.c(),s=Z(),o&&o.c(),this.h()},l(_){e=R(_,"DIV",{class:!0});var c=B(e);t=R(c,"SPAN",{class:!0});var g=B(t);i.l(g),g.forEach(d),s=x(c),o&&o.l(c),c.forEach(d),this.h()},h(){h(t,"class","sort-arrow svelte-1x6yk40"),h(e,"class","sort-indicators svelte-1x6yk40")},m(_,c){H(_,e,c),E(e,t),u[n].m(t,null),E(e,s),o&&o.m(e,null),r=!0},p(_,c){let g=n;n=f(_),n!==g&&(me(),M(u[g],1,1,()=>{u[g]=null}),ge(),i=u[n],i||(i=u[n]=a[n](_),i.c()),y(i,1),i.m(t,null)),_[11].length>1?o?o.p(_,c):(o=wl(_),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(_){r||(y(i),r=!0)},o(_){M(i),r=!1},d(_){_&&d(e),u[n].d(),o&&o.d()}}}function Gr(l){let e,t;return e=new Or({props:{size:12}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Qr(l){let e,t;return e=new Dr({props:{size:12}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function wl(l){let e,t;return{c(){e=U("span"),t=Se(l[22]),this.h()},l(n){e=R(n,"SPAN",{class:!0});var i=B(e);t=Be(i,l[22]),i.forEach(d),this.h()},h(){h(e,"class","sort-priority svelte-1x6yk40")},m(n,i){H(n,e,i),E(e,t)},p(n,i){i[0]&4194304&&qe(t,n[22])},d(n){n&&d(e)}}}function kl(l){let e,t,n,i;return n=new Ke({props:{icon:"filter"}}),{c(){e=U("div"),t=U("span"),ie(n.$$.fragment),this.h()},l(s){e=R(s,"DIV",{class:!0});var r=B(e);t=R(r,"SPAN",{class:!0});var a=B(t);_e(n.$$.fragment,a),a.forEach(d),r.forEach(d),this.h()},h(){h(t,"class","filter-icon svelte-1x6yk40"),h(e,"class","filter-indicators svelte-1x6yk40")},m(s,r){H(s,e,r),E(e,t),re(n,t,null),i=!0},i(s){i||(y(n.$$.fragment,s),i=!0)},o(s){M(n.$$.fragment,s),i=!1},d(s){s&&d(e),se(n)}}}function vl(l){let e,t;return e=new Br({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function pl(l){let e,t;return e=new mn({props:{on_click:l[38]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&516&&(s.on_click=n[38]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Zr(l){let e,t,n,i,s,r,a,u,f,o,_,c,g,C,w,q,b=l[20]&&l[15]&&l[18]&&gl(l);function k(I){l[34](I)}function v(I){l[35](I)}let V={max_chars:l[14],latex_delimiters:l[12],line_breaks:l[13],edit:l[4]===l[2],header:!0,editable:l[15],is_static:l[17],i18n:l[16],coords:[l[2],0]};l[0]!==void 0&&(V.value=l[0]),l[1]!==void 0&&(V.el=l[1]),r=new Kt({props:V}),ve.push(()=>De(r,"value",k)),ve.push(()=>De(r,"el",v)),r.$on("keydown",l[36]);let O=l[19]!==-1&&bl(l),N=l[23]!==-1&&kl(),P=l[17]&&vl(),W=l[25]&&pl(l);return{c(){e=U("th"),t=U("div"),n=U("div"),b&&b.c(),i=Z(),s=U("button"),ie(r.$$.fragment),f=Z(),O&&O.c(),o=Z(),N&&N.c(),_=Z(),P&&P.c(),c=Z(),W&&W.c(),this.h()},l(I){e=R(I,"TH",{"aria-sort":!0,style:!0,title:!0,class:!0});var F=B(e);t=R(F,"DIV",{class:!0});var J=B(t);n=R(J,"DIV",{class:!0});var K=B(n);b&&b.l(K),i=x(K),s=R(K,"BUTTON",{class:!0,title:!0});var Y=B(s);_e(r.$$.fragment,Y),f=x(Y),O&&O.l(Y),o=x(Y),N&&N.l(Y),Y.forEach(d),_=x(K),P&&P.l(K),K.forEach(d),c=x(J),W&&W.l(J),J.forEach(d),F.forEach(d),this.h()},h(){h(s,"class","header-button svelte-1x6yk40"),h(s,"title",l[0]),h(n,"class","header-content svelte-1x6yk40"),h(t,"class","cell-wrap svelte-1x6yk40"),h(e,"aria-sort",g=wt(l[0],l[11],l[6])==="none"?"none":wt(l[0],l[11],l[6])==="asc"?"ascending":"descending"),Ve(e,"width",l[7](l[2])),Ve(e,"left",l[26](l[2])),h(e,"title",l[0]),h(e,"class","svelte-1x6yk40"),$(e,"pinned-column",l[2]<l[3]),$(e,"last-pinned",l[2]===l[3]-1),$(e,"focus",l[4]===l[2]||l[5]===l[2]),$(e,"sorted",l[19]!==-1),$(e,"filtered",l[23]!==-1)},m(I,F){H(I,e,F),E(e,t),E(t,n),b&&b.m(n,null),E(n,i),E(n,s),re(r,s,null),E(s,f),O&&O.m(s,null),E(s,o),N&&N.m(s,null),E(n,_),P&&P.m(n,null),E(t,c),W&&W.m(t,null),C=!0,w||(q=[fe(s,"click",l[37]),fe(s,"mousedown",$r),fe(e,"click",l[39]),fe(e,"mousedown",es)],w=!0)},p(I,F){I[20]&&I[15]&&I[18]?b?(b.p(I,F),F[0]&1343488&&y(b,1)):(b=gl(I),b.c(),y(b,1),b.m(n,i)):b&&(me(),M(b,1,1,()=>{b=null}),ge());const J={};F[0]&16384&&(J.max_chars=I[14]),F[0]&4096&&(J.latex_delimiters=I[12]),F[0]&8192&&(J.line_breaks=I[13]),F[0]&20&&(J.edit=I[4]===I[2]),F[0]&32768&&(J.editable=I[15]),F[0]&131072&&(J.is_static=I[17]),F[0]&65536&&(J.i18n=I[16]),F[0]&4&&(J.coords=[I[2],0]),!a&&F[0]&1&&(a=!0,J.value=I[0],Ie(()=>a=!1)),!u&&F[0]&2&&(u=!0,J.el=I[1],Ie(()=>u=!1)),r.$set(J),I[19]!==-1?O?(O.p(I,F),F[0]&524288&&y(O,1)):(O=bl(I),O.c(),y(O,1),O.m(s,o)):O&&(me(),M(O,1,1,()=>{O=null}),ge()),I[23]!==-1?N?F[0]&8388608&&y(N,1):(N=kl(),N.c(),y(N,1),N.m(s,null)):N&&(me(),M(N,1,1,()=>{N=null}),ge()),(!C||F[0]&1)&&h(s,"title",I[0]),I[17]?P?F[0]&131072&&y(P,1):(P=vl(),P.c(),y(P,1),P.m(n,null)):P&&(me(),M(P,1,1,()=>{P=null}),ge()),I[25]?W?(W.p(I,F),F[0]&33554432&&y(W,1)):(W=pl(I),W.c(),y(W,1),W.m(t,null)):W&&(me(),M(W,1,1,()=>{W=null}),ge()),(!C||F[0]&2113&&g!==(g=wt(I[0],I[11],I[6])==="none"?"none":wt(I[0],I[11],I[6])==="asc"?"ascending":"descending"))&&h(e,"aria-sort",g),(!C||F[0]&132)&&Ve(e,"width",I[7](I[2])),(!C||F[0]&4)&&Ve(e,"left",I[26](I[2])),(!C||F[0]&1)&&h(e,"title",I[0]),(!C||F[0]&12)&&$(e,"pinned-column",I[2]<I[3]),(!C||F[0]&12)&&$(e,"last-pinned",I[2]===I[3]-1),(!C||F[0]&52)&&$(e,"focus",I[4]===I[2]||I[5]===I[2]),(!C||F[0]&524288)&&$(e,"sorted",I[19]!==-1),(!C||F[0]&8388608)&&$(e,"filtered",I[23]!==-1)},i(I){C||(y(b),y(r.$$.fragment,I),y(O),y(N),y(P),y(W),C=!0)},o(I){M(b),M(r.$$.fragment,I),M(O),M(N),M(P),M(W),C=!1},d(I){I&&d(e),b&&b.d(),se(r),O&&O.d(),N&&N.d(),P&&P.d(),W&&W.d(),w=!1,Qe(q)}}}const xr=l=>{(l.key==="Enter"||l.key===" ")&&l.preventDefault()},$r=l=>{l.preventDefault(),l.stopPropagation()},es=l=>{l.preventDefault(),l.stopPropagation()};function ts(l,e,t){let n,i,s,r,a,u,f,{value:o}=e,{i:_}=e,{datatype:c="str"}=e,{actual_pinned_columns:g}=e,{header_edit:C}=e,{selected_header:w}=e,{headers:q}=e,{get_cell_width:b}=e,{handle_header_click:k}=e,{toggle_header_menu:v}=e,{end_header_edit:V}=e,{sort_columns:O=[]}=e,{filter_columns:N=[]}=e,{latex_delimiters:P}=e,{line_breaks:W}=e,{max_chars:I}=e,{editable:F}=e,{i18n:J}=e,{el:K}=e,{is_static:Y}=e,{col_count:ne}=e,{data:ae=[]}=e,{on_select_all:ee=void 0}=e;function ce(D){return D>=g?"auto":D===0?"0":`calc(${Array(D).fill(0).map((he,j)=>b(j)).join(" + ")})`}function be(D){$e.call(this,l,D)}function Ne(D){$e.call(this,l,D)}const de=()=>{ee&&ee(_,s!=="checked")};function te(D){o=D,t(0,o)}function L(D){K=D,t(1,K)}const A=D=>{(D.detail.key==="Enter"||D.detail.key==="Escape"||D.detail.key==="Tab")&&V(D)},p=D=>k(D,_),S=D=>v(D,_),T=D=>k(D,_);return l.$$set=D=>{"value"in D&&t(0,o=D.value),"i"in D&&t(2,_=D.i),"datatype"in D&&t(27,c=D.datatype),"actual_pinned_columns"in D&&t(3,g=D.actual_pinned_columns),"header_edit"in D&&t(4,C=D.header_edit),"selected_header"in D&&t(5,w=D.selected_header),"headers"in D&&t(6,q=D.headers),"get_cell_width"in D&&t(7,b=D.get_cell_width),"handle_header_click"in D&&t(8,k=D.handle_header_click),"toggle_header_menu"in D&&t(9,v=D.toggle_header_menu),"end_header_edit"in D&&t(10,V=D.end_header_edit),"sort_columns"in D&&t(11,O=D.sort_columns),"filter_columns"in D&&t(28,N=D.filter_columns),"latex_delimiters"in D&&t(12,P=D.latex_delimiters),"line_breaks"in D&&t(13,W=D.line_breaks),"max_chars"in D&&t(14,I=D.max_chars),"editable"in D&&t(15,F=D.editable),"i18n"in D&&t(16,J=D.i18n),"el"in D&&t(1,K=D.el),"is_static"in D&&t(17,Y=D.is_static),"col_count"in D&&t(29,ne=D.col_count),"data"in D&&t(30,ae=D.data),"on_select_all"in D&&t(18,ee=D.on_select_all)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(25,n=ne&&ne[1]==="dynamic"),l.$$.dirty[0]&134217728&&t(20,i=c==="bool"),l.$$.dirty[0]&1074790404&&t(24,s=(()=>{if(!i||ae.length===0)return"unchecked";const D=ae.filter(Te=>{var he,j;return((he=Te[_])==null?void 0:he.value)===!0||((j=Te[_])==null?void 0:j.value)==="true"}).length;return D===0?"unchecked":D===ae.length?"checked":"indeterminate"})()),l.$$.dirty[0]&2052&&t(19,r=O.findIndex(D=>D.col===_)),l.$$.dirty[0]&268435460&&t(23,a=N.findIndex(D=>D.col===_)),l.$$.dirty[0]&524288&&t(22,u=r!==-1?r+1:null),l.$$.dirty[0]&526336&&t(21,f=r!==-1?O[r].direction:null)},[o,K,_,g,C,w,q,b,k,v,V,O,P,W,I,F,J,Y,ee,r,i,f,u,a,s,n,ce,c,N,ne,ae,be,Ne,de,te,L,A,p,S,T]}class gn extends Oe{constructor(e){super(),je(this,e,ts,Zr,ze,{value:0,i:2,datatype:27,actual_pinned_columns:3,header_edit:4,selected_header:5,headers:6,get_cell_width:7,handle_header_click:8,toggle_header_menu:9,end_header_edit:10,sort_columns:11,filter_columns:28,latex_delimiters:12,line_breaks:13,max_chars:14,editable:15,i18n:16,el:1,is_static:17,col_count:29,data:30,on_select_all:18},null,[-1,-1])}}function yl(l){let e,t;return e=new mn({props:{on_click:l[39]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&536&&(s.on_click=n[39]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ls(l){let e,t,n,i,s,r,a=l[19]&&l[10]([l[3],l[4]],l[0],l[19]),u,f,o,_,c,g;function C(k){l[36](k)}function w(k){l[37](k)}let q={display_value:l[26]!==void 0?l[26]:String(l[1]),latex_delimiters:l[14],line_breaks:l[15],editable:l[19],is_static:l[20],edit:l[17]&&l[17][0]===l[3]&&l[17][1]===l[4],datatype:l[16],max_chars:l[18],i18n:l[21],components:l[22],show_selection_buttons:l[0].length===1&&l[0][0][0]===l[3]&&l[0][0][1]===l[4],coords:[l[3],l[4]],on_select_column:l[23],on_select_row:l[24],is_dragging:l[25],wrap_text:l[27]};l[1]!==void 0&&(q.value=l[1]),l[2].input!==void 0&&(q.el=l[2].input),n=new Kt({props:q}),ve.push(()=>De(n,"value",C)),ve.push(()=>De(n,"el",w)),n.$on("focus",l[38]),n.$on("blur",function(){Ge(l[8])&&l[8].apply(this,arguments)});let b=a&&yl(l);return{c(){e=U("td"),t=U("div"),ie(n.$$.fragment),r=Z(),b&&b.c(),this.h()},l(k){e=R(k,"TD",{tabindex:!0,"data-row":!0,"data-col":!0,"data-testid":!0,style:!0,class:!0});var v=B(e);t=R(v,"DIV",{class:!0});var V=B(t);_e(n.$$.fragment,V),r=x(V),b&&b.l(V),V.forEach(d),v.forEach(d),this.h()},h(){h(t,"class","cell-wrap svelte-v1pjjd"),h(e,"tabindex",u=l[4]<l[5]?-1:0),h(e,"data-row",l[3]),h(e,"data-col",l[4]),h(e,"data-testid",f=`cell-${l[3]}-${l[4]}`),h(e,"style",o="width: "+l[6](l[4])+"; left: "+l[33](l[4])+"; "+(l[13]||"")),h(e,"class","svelte-v1pjjd"),$(e,"pinned-column",l[4]<l[5]),$(e,"last-pinned",l[4]===l[5]-1),$(e,"flash",l[11]&&l[32]),$(e,"cell-selected",l[32]),$(e,"no-top",l[31]),$(e,"no-bottom",l[30]),$(e,"no-left",l[29]),$(e,"no-right",l[28]),$(e,"menu-active",l[12]&&l[12].row===l[3]&&l[12].col===l[4]),$(e,"dragging",l[25])},m(k,v){H(k,e,v),E(e,t),re(n,t,null),E(t,r),b&&b.m(t,null),l[40](e),_=!0,c||(g=[fe(e,"mousedown",l[41]),fe(e,"contextmenu",fn(l[42]))],c=!0)},p(k,v){l=k;const V={};v[0]&67108866&&(V.display_value=l[26]!==void 0?l[26]:String(l[1])),v[0]&16384&&(V.latex_delimiters=l[14]),v[0]&32768&&(V.line_breaks=l[15]),v[0]&524288&&(V.editable=l[19]),v[0]&1048576&&(V.is_static=l[20]),v[0]&131096&&(V.edit=l[17]&&l[17][0]===l[3]&&l[17][1]===l[4]),v[0]&65536&&(V.datatype=l[16]),v[0]&262144&&(V.max_chars=l[18]),v[0]&2097152&&(V.i18n=l[21]),v[0]&4194304&&(V.components=l[22]),v[0]&25&&(V.show_selection_buttons=l[0].length===1&&l[0][0][0]===l[3]&&l[0][0][1]===l[4]),v[0]&24&&(V.coords=[l[3],l[4]]),v[0]&8388608&&(V.on_select_column=l[23]),v[0]&16777216&&(V.on_select_row=l[24]),v[0]&33554432&&(V.is_dragging=l[25]),v[0]&134217728&&(V.wrap_text=l[27]),!i&&v[0]&2&&(i=!0,V.value=l[1],Ie(()=>i=!1)),!s&&v[0]&4&&(s=!0,V.el=l[2].input,Ie(()=>s=!1)),n.$set(V),v[0]&525337&&(a=l[19]&&l[10]([l[3],l[4]],l[0],l[19])),a?b?(b.p(l,v),v[0]&525337&&y(b,1)):(b=yl(l),b.c(),y(b,1),b.m(t,null)):b&&(me(),M(b,1,1,()=>{b=null}),ge()),(!_||v[0]&48&&u!==(u=l[4]<l[5]?-1:0))&&h(e,"tabindex",u),(!_||v[0]&8)&&h(e,"data-row",l[3]),(!_||v[0]&16)&&h(e,"data-col",l[4]),(!_||v[0]&24&&f!==(f=`cell-${l[3]}-${l[4]}`))&&h(e,"data-testid",f),(!_||v[0]&8272&&o!==(o="width: "+l[6](l[4])+"; left: "+l[33](l[4])+"; "+(l[13]||"")))&&h(e,"style",o),(!_||v[0]&48)&&$(e,"pinned-column",l[4]<l[5]),(!_||v[0]&48)&&$(e,"last-pinned",l[4]===l[5]-1),(!_||v[0]&2048|v[1]&2)&&$(e,"flash",l[11]&&l[32]),(!_||v[1]&2)&&$(e,"cell-selected",l[32]),(!_||v[1]&1)&&$(e,"no-top",l[31]),(!_||v[0]&1073741824)&&$(e,"no-bottom",l[30]),(!_||v[0]&536870912)&&$(e,"no-left",l[29]),(!_||v[0]&268435456)&&$(e,"no-right",l[28]),(!_||v[0]&4120)&&$(e,"menu-active",l[12]&&l[12].row===l[3]&&l[12].col===l[4]),(!_||v[0]&33554432)&&$(e,"dragging",l[25])},i(k){_||(y(n.$$.fragment,k),y(b),_=!0)},o(k){M(n.$$.fragment,k),M(b),_=!1},d(k){k&&d(e),se(n),b&&b.d(),l[40](null),c=!1,Qe(g)}}}function ns(l,e,t){let n,i,s,r,a,u,{value:f}=e,{index:o}=e,{j:_}=e,{actual_pinned_columns:c}=e,{get_cell_width:g}=e,{handle_cell_click:C}=e,{handle_blur:w}=e,{toggle_cell_menu:q}=e,{is_cell_selected:b}=e,{should_show_cell_menu:k}=e,{selected_cells:v}=e,{copy_flash:V}=e,{active_cell_menu:O}=e,{styling:N}=e,{latex_delimiters:P}=e,{line_breaks:W}=e,{datatype:I}=e,{editing:F}=e,{max_chars:J}=e,{editable:K}=e,{is_static:Y=!1}=e,{i18n:ne}=e,{components:ae={}}=e,{el:ee}=e,{handle_select_column:ce}=e,{handle_select_row:be}=e,{is_dragging:Ne}=e,{display_value:de}=e,{wrap:te=!1}=e;function L(j){return j>=c?"auto":j===0?"0":`calc(${Array(j).fill(0).map((He,we)=>g(we)).join(" + ")})`}function A(j){f=j,t(1,f)}function p(j){l.$$.not_equal(ee.input,j)&&(ee.input=j,t(2,ee))}const S=()=>{const j=o,X=_;v.some(([He,we])=>He===j&&we===X)||t(0,v=[[j,X]])},T=j=>q(j,o,_);function D(j){ve[j?"unshift":"push"](()=>{ee.cell=j,t(2,ee)})}const Te=j=>C(j,o,_),he=j=>q(j,o,_);return l.$$set=j=>{"value"in j&&t(1,f=j.value),"index"in j&&t(3,o=j.index),"j"in j&&t(4,_=j.j),"actual_pinned_columns"in j&&t(5,c=j.actual_pinned_columns),"get_cell_width"in j&&t(6,g=j.get_cell_width),"handle_cell_click"in j&&t(7,C=j.handle_cell_click),"handle_blur"in j&&t(8,w=j.handle_blur),"toggle_cell_menu"in j&&t(9,q=j.toggle_cell_menu),"is_cell_selected"in j&&t(34,b=j.is_cell_selected),"should_show_cell_menu"in j&&t(10,k=j.should_show_cell_menu),"selected_cells"in j&&t(0,v=j.selected_cells),"copy_flash"in j&&t(11,V=j.copy_flash),"active_cell_menu"in j&&t(12,O=j.active_cell_menu),"styling"in j&&t(13,N=j.styling),"latex_delimiters"in j&&t(14,P=j.latex_delimiters),"line_breaks"in j&&t(15,W=j.line_breaks),"datatype"in j&&t(16,I=j.datatype),"editing"in j&&t(17,F=j.editing),"max_chars"in j&&t(18,J=j.max_chars),"editable"in j&&t(19,K=j.editable),"is_static"in j&&t(20,Y=j.is_static),"i18n"in j&&t(21,ne=j.i18n),"components"in j&&t(22,ae=j.components),"el"in j&&t(2,ee=j.el),"handle_select_column"in j&&t(23,ce=j.handle_select_column),"handle_select_row"in j&&t(24,be=j.handle_select_row),"is_dragging"in j&&t(25,Ne=j.is_dragging),"display_value"in j&&t(26,de=j.display_value),"wrap"in j&&t(27,te=j.wrap)},l.$$.update=()=>{l.$$.dirty[0]&25|l.$$.dirty[1]&8&&t(35,n=b([o,_],v||[])),l.$$.dirty[0]&25&&t(32,i=Xi([o,_],v)),l.$$.dirty[1]&16&&t(31,s=n.includes("no-top")),l.$$.dirty[1]&16&&t(30,r=n.includes("no-bottom")),l.$$.dirty[1]&16&&t(29,a=n.includes("no-left")),l.$$.dirty[1]&16&&t(28,u=n.includes("no-right"))},[v,f,ee,o,_,c,g,C,w,q,k,V,O,N,P,W,I,F,J,K,Y,ne,ae,ce,be,Ne,de,te,u,a,r,s,i,L,b,n,A,p,S,T,D,Te,he]}class is extends Oe{constructor(e){super(),je(this,e,ns,ls,ze,{value:1,index:3,j:4,actual_pinned_columns:5,get_cell_width:6,handle_cell_click:7,handle_blur:8,toggle_cell_menu:9,is_cell_selected:34,should_show_cell_menu:10,selected_cells:0,copy_flash:11,active_cell_menu:12,styling:13,latex_delimiters:14,line_breaks:15,datatype:16,editing:17,max_chars:18,editable:19,is_static:20,i18n:21,components:22,el:2,handle_select_column:23,handle_select_row:24,is_dragging:25,display_value:26,wrap:27},null,[-1,-1])}}function rs(l){let e,t="+",n,i;return{c(){e=U("button"),e.textContent=t,this.h()},l(s){e=R(s,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),et(e)!=="svelte-qq2si4"&&(e.textContent=t),this.h()},h(){h(e,"class","add-row-button svelte-jkwuz7"),h(e,"aria-label","Add row")},m(s,r){H(s,e,r),n||(i=fe(e,"click",function(){Ge(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(s,[r]){l=s},i:Ce,o:Ce,d(s){s&&d(e),n=!1,i()}}}function ss(l,e,t){let{on_click:n}=e;return l.$$set=i=>{"on_click"in i&&t(0,n=i.on_click)},[n]}class as extends Oe{constructor(e){super(),je(this,e,ss,rs,ze,{on_click:0})}}const os=l=>({}),El=l=>({});function Nl(l,e,t){const n=l.slice();return n[38]=e[t],n}const us=l=>({item:l[0]&2048,index:l[0]&2048}),Tl=l=>({item:l[38].data,index:l[38].index}),_s=l=>({}),Cl=l=>({});function Al(l){let e,t;return{c(){e=U("caption"),t=Se(l[3]),this.h()},l(n){e=R(n,"CAPTION",{class:!0});var i=B(e);t=Be(i,l[3]),i.forEach(d),this.h()},h(){h(e,"class","sr-only svelte-zsmsrz")},m(n,i){H(n,e,i),E(e,t)},p(n,i){i[0]&8&&qe(t,n[3])},d(n){n&&d(e)}}}function Sl(l){let e=[],t=new Map,n,i,s=We(l[11]);const r=a=>a[38].data[0].id;for(let a=0;a<s.length;a+=1){let u=Nl(l,s,a),f=r(u);t.set(f,e[a]=Bl(f,u))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=pe()},l(a){for(let u=0;u<e.length;u+=1)e[u].l(a);n=pe()},m(a,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,u);H(a,n,u),i=!0},p(a,u){u[0]&16779264&&(s=We(a[11]),me(),e=ft(e,u,r,1,a,s,t,n.parentNode,ct,Bl,n,Nl),ge())},i(a){if(!i){for(let u=0;u<s.length;u+=1)y(e[u]);i=!0}},o(a){for(let u=0;u<e.length;u+=1)M(e[u]);i=!1},d(a){a&&d(n);for(let u=0;u<e.length;u+=1)e[u].d(a)}}}function fs(l){let e,t='<td class="svelte-zsmsrz">Missing Table Row</td>',n;return{c(){e=U("tr"),e.innerHTML=t,n=Z(),this.h()},l(i){e=R(i,"TR",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-18n46x0"&&(e.innerHTML=t),n=x(i),this.h()},h(){h(e,"class","svelte-zsmsrz")},m(i,s){H(i,e,s),H(i,n,s)},p:Ce,d(i){i&&(d(e),d(n))}}}function Bl(l,e){let t,n;const i=e[25].tbody,s=Vt(i,e,e[24],Tl),r=s||fs();return{key:l,first:null,c(){t=pe(),r&&r.c(),this.h()},l(a){t=pe(),r&&r.l(a),this.h()},h(){this.first=t},m(a,u){H(a,t,u),r&&r.m(a,u),n=!0},p(a,u){e=a,s&&s.p&&(!n||u[0]&16779264)&&Pt(s,i,e,e[24],n?Rt(i,e[24],u,us):Ut(e[24]),Tl)},i(a){n||(y(r,a),n=!0)},o(a){M(r,a),n=!1},d(a){a&&d(t),r&&r.d(a)}}}function cs(l){let e,t,n,i,s,r,a,u,f,o,_,c,g,C,w,q=l[3]&&l[3].length!==0&&Al(l);const b=l[25].thead,k=Vt(b,l,l[24],Cl);let v=l[11].length&&l[11][0].data.length&&Sl(l);const V=l[25].tfoot,O=Vt(V,l,l[24],El);return{c(){e=U("svelte-virtual-table-viewport"),t=U("div"),n=U("table"),q&&q.c(),i=Z(),s=U("thead"),k&&k.c(),a=Z(),u=U("tbody"),v&&v.c(),f=Z(),o=U("tfoot"),O&&O.c(),this.h()},l(N){e=R(N,"SVELTE-VIRTUAL-TABLE-VIEWPORT",{});var P=B(e);t=R(P,"DIV",{});var W=B(t);n=R(W,"TABLE",{class:!0,style:!0});var I=B(n);q&&q.l(I),i=x(I),s=R(I,"THEAD",{class:!0});var F=B(s);k&&k.l(F),F.forEach(d),a=x(I),u=R(I,"TBODY",{class:!0});var J=B(u);v&&v.l(J),J.forEach(d),f=x(I),o=R(I,"TFOOT",{class:!0});var K=B(o);O&&O.l(K),K.forEach(d),I.forEach(d),W.forEach(d),P.forEach(d),this.h()},h(){h(s,"class","thead svelte-zsmsrz"),_l(()=>l[26].call(s)),h(u,"class","tbody svelte-zsmsrz"),h(o,"class","tfoot svelte-zsmsrz"),_l(()=>l[28].call(o)),h(n,"class","table svelte-zsmsrz"),Ve(n,"height",hs),Ve(n,"--bw-svt-p-top",l[10]+"px"),Ve(n,"--bw-svt-p-bottom",l[6]+"px"),Ve(n,"--bw-svt-head-height",l[8]+"px"),Ve(n,"--bw-svt-foot-height",l[9]+"px"),Ve(n,"--bw-svt-avg-row-height",l[4]+"px"),Ve(n,"--max-height",l[1]+"px"),$(n,"disable-scroll",l[2])},m(N,P){H(N,e,P),E(e,t),E(t,n),q&&q.m(n,null),E(n,i),E(n,s),k&&k.m(s,null),r=fl(s,l[26].bind(s)),E(n,a),E(n,u),v&&v.m(u,null),l[27](u),E(n,f),E(n,o),O&&O.m(o,null),_=fl(o,l[28].bind(o)),l[29](n),c=ki.observe(n,l[30].bind(n)),g=!0,C||(w=fe(n,"scroll",l[12]),C=!0)},p(N,P){N[3]&&N[3].length!==0?q?q.p(N,P):(q=Al(N),q.c(),q.m(n,i)):q&&(q.d(1),q=null),k&&k.p&&(!g||P[0]&16777216)&&Pt(k,b,N,N[24],g?Rt(b,N[24],P,_s):Ut(N[24]),Cl),N[11].length&&N[11][0].data.length?v?(v.p(N,P),P[0]&2048&&y(v,1)):(v=Sl(N),v.c(),y(v,1),v.m(u,null)):v&&(me(),M(v,1,1,()=>{v=null}),ge()),O&&O.p&&(!g||P[0]&16777216)&&Pt(O,V,N,N[24],g?Rt(V,N[24],P,os):Ut(N[24]),El),(!g||P[0]&1024)&&Ve(n,"--bw-svt-p-top",N[10]+"px"),(!g||P[0]&64)&&Ve(n,"--bw-svt-p-bottom",N[6]+"px"),(!g||P[0]&256)&&Ve(n,"--bw-svt-head-height",N[8]+"px"),(!g||P[0]&512)&&Ve(n,"--bw-svt-foot-height",N[9]+"px"),(!g||P[0]&16)&&Ve(n,"--bw-svt-avg-row-height",N[4]+"px"),(!g||P[0]&2)&&Ve(n,"--max-height",N[1]+"px"),(!g||P[0]&4)&&$(n,"disable-scroll",N[2])},i(N){g||(y(k,N),y(v),y(O,N),g=!0)},o(N){M(k,N),M(v),M(O,N),g=!1},d(N){N&&d(e),q&&q.d(),k&&k.d(N),r(),v&&v.d(),l[27](null),O&&O.d(N),_(),l[29](null),c(),C=!1,w()}}}let hs="100%";function ds(l,e,t){let n,{$$slots:i={},$$scope:s}=e,{items:r=[]}=e,{max_height:a}=e,{actual_height:u}=e,{table_scrollbar_width:f}=e,{start:o=0}=e,{end:_=20}=e,{selected:c}=e,{disable_scroll:g=!1}=e,{show_scroll_button:C=!1}=e,{viewport:w}=e,{label:q=null}=e;pt();let b=30,k=0,v,V=0,O=0,N=[],P,W,I=0,F=200,J=[],K;const Y=typeof window<"u",ne=Y?window.requestAnimationFrame:p=>p();async function ae(){if(!w)return;n.length<o&&await be(n.length-1,{behavior:"auto"});const p=Math.max(0,w.scrollTop);t(17,C=p>100),t(16,f=w.offsetWidth-w.clientWidth);for(let X=0;X<W.length;X+=1)N[o+X]=W[X].getBoundingClientRect().height;let S=0,T=V;for(;S<n.length;){const X=N[S]||b;if(T+X>p-a){t(13,o=S),t(10,I=T-V);break}T+=X,S+=1}let D=V;for(;S<n.length;){const X=N[S]||b;if(D+=X,S+=1,D-V>3*a)break}t(14,_=S);const Te=n.length-_,he=w.offsetHeight-w.clientHeight;he>0&&(D+=he);let j=N.filter(X=>typeof X=="number");for(t(4,b=j.reduce((X,He)=>X+He,0)/j.length||30),t(6,k=Te*b),isFinite(k)||t(6,k=2e5),N.length=n.length;S<n.length;)S+=1,N[S]=b;a&&D>a?t(15,u=a):t(15,u=D)}async function ee(p){ne(async()=>{if(typeof p!="number")return;const S=typeof p!="number"?!1:ce(p);S!==!0&&(S==="back"&&await be(p,{behavior:"instant"}),S==="forwards"&&await be(p,{behavior:"instant"},!0))})}function ce(p){const S=W&&W[p-o];if(!S&&p<o)return"back";if(!S&&p>=_-1)return"forwards";const{top:T}=w.getBoundingClientRect(),{top:D,bottom:Te}=S.getBoundingClientRect();return D-T<37?"back":Te-T>F?"forwards":!0}async function be(p,S,T=!1){await rt();const D=b;let Te=p*D;T&&(Te=Te-F+D+V);const he=w.offsetHeight-w.clientHeight;he>0&&(Te+=he);const j={top:Te,behavior:"smooth",...S};w.scrollTo(j)}_t(()=>{W=v.children,t(21,P=!0)});function Ne(){V=this.offsetHeight,t(8,V)}function de(p){ve[p?"unshift":"push"](()=>{v=p,t(7,v)})}function te(){O=this.offsetHeight,t(9,O)}function L(p){ve[p?"unshift":"push"](()=>{w=p,t(0,w)})}function A(){var p;K=(p=vi.entries.get(this))==null?void 0:p.contentRect,t(5,K)}return l.$$set=p=>{"items"in p&&t(18,r=p.items),"max_height"in p&&t(1,a=p.max_height),"actual_height"in p&&t(15,u=p.actual_height),"table_scrollbar_width"in p&&t(16,f=p.table_scrollbar_width),"start"in p&&t(13,o=p.start),"end"in p&&t(14,_=p.end),"selected"in p&&t(19,c=p.selected),"disable_scroll"in p&&t(2,g=p.disable_scroll),"show_scroll_button"in p&&t(17,C=p.show_scroll_button),"viewport"in p&&t(0,w=p.viewport),"label"in p&&t(3,q=p.label),"$$scope"in p&&t(24,s=p.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&32&&t(22,F=(K==null?void 0:K.height)||200),l.$$.dirty[0]&262144&&t(23,n=r),l.$$.dirty[0]&14680065&&P&&F&&w.offsetParent&&ne(ae),l.$$.dirty[0]&524288&&ee(c),l.$$.dirty[0]&8413202&&t(11,J=Y?n.slice(o,_).map((p,S)=>({index:S+o,data:p})):n.slice(0,a/n.length*b+1).map((p,S)=>({index:S+o,data:p})))},[w,a,g,q,b,K,k,v,V,O,I,J,ae,o,_,u,f,C,r,c,be,P,F,n,s,i,Ne,de,te,L,A]}class ms extends Oe{constructor(e){super(),je(this,e,ds,cs,ze,{items:18,max_height:1,actual_height:15,table_scrollbar_width:16,start:13,end:14,selected:19,disable_scroll:2,show_scroll_button:17,viewport:0,label:3,scroll_to_index:20},null,[-1,-1])}get scroll_to_index(){return this.$$.ctx[20]}}function ql(l,e,t){const n=l.slice();return n[15]=e[t],n}function Ml(l){let e,t=We(l[6][l[2]]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Dl(ql(l,t,i));return{c(){e=U("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=R(i,"DIV",{class:!0});var s=B(e);for(let r=0;r<n.length;r+=1)n[r].l(s);s.forEach(d),this.h()},h(){h(e,"class","dropdown-filter-options svelte-1nf5kyf")},m(i,s){H(i,e,s);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,s){if(s&92){t=We(i[6][i[2]]);let r;for(r=0;r<t.length;r+=1){const a=ql(i,t,r);n[r]?n[r].p(a,s):(n[r]=Dl(a),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&d(e),pi(n,i)}}}function Dl(l){let e,t=l[15]+"",n,i,s,r;function a(){return l[11](l[15])}return{c(){e=U("button"),n=Se(t),i=Z(),this.h()},l(u){e=R(u,"BUTTON",{class:!0});var f=B(e);n=Be(f,t),i=x(f),f.forEach(d),this.h()},h(){h(e,"class","filter-option svelte-1nf5kyf")},m(u,f){H(u,e,f),E(e,n),E(e,i),s||(r=fe(e,"click",Xe(a)),s=!0)},p(u,f){l=u,f&4&&t!==(t=l[15]+"")&&qe(n,t)},d(u){u&&d(e),s=!1,r()}}}function gs(l){let e,t,n,i,s,r,a="Filter as",u,f,o,_,c,g,C,w,q,b,k,v,V,O,N,P,W,I,F,J,K;k=new ji({});let Y=l[4]&&Ml(l);return I=new Ft({}),{c(){e=U("div"),t=U("div"),n=Z(),i=U("div"),s=U("div"),r=U("span"),r.textContent=a,u=Z(),f=U("button"),o=Se(l[2]),c=Z(),g=U("div"),C=U("div"),w=U("button"),q=Se(l[3]),b=Z(),ie(k.$$.fragment),V=Z(),Y&&Y.c(),O=Z(),N=U("input"),P=Z(),W=U("button"),ie(I.$$.fragment),this.h()},l(ne){e=R(ne,"DIV",{});var ae=B(e);t=R(ae,"DIV",{class:!0}),B(t).forEach(d),n=x(ae),i=R(ae,"DIV",{class:!0});var ee=B(i);s=R(ee,"DIV",{class:!0});var ce=B(s);r=R(ce,"SPAN",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-1ox9ptg"&&(r.textContent=a),u=x(ce),f=R(ce,"BUTTON",{"aria-label":!0,class:!0});var be=B(f);o=Be(be,l[2]),be.forEach(d),ce.forEach(d),c=x(ee),g=R(ee,"DIV",{class:!0});var Ne=B(g);C=R(Ne,"DIV",{class:!0});var de=B(C);w=R(de,"BUTTON",{"aria-label":!0,class:!0});var te=B(w);q=Be(te,l[3]),b=x(te),_e(k.$$.fragment,te),te.forEach(d),V=x(de),Y&&Y.l(de),de.forEach(d),O=x(Ne),N=R(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),Ne.forEach(d),P=x(ee),W=R(ee,"BUTTON",{class:!0});var L=B(W);_e(I.$$.fragment,L),L.forEach(d),ee.forEach(d),ae.forEach(d),this.h()},h(){h(t,"class","background svelte-1nf5kyf"),h(r,"class","svelte-1nf5kyf"),h(f,"aria-label",_=`Change filter type. Filtering ${l[2]}s`),h(f,"class","svelte-1nf5kyf"),h(s,"class","filter-datatype-container svelte-1nf5kyf"),h(w,"aria-label",v=`Change filter. Using '${l[3]}'`),h(w,"class","svelte-1nf5kyf"),h(C,"class","filter-dropdown"),h(N,"type","text"),N.value=l[5],h(N,"placeholder","Type a value"),h(N,"class","filter-input svelte-1nf5kyf"),h(g,"class","input-container svelte-1nf5kyf"),h(W,"class","check-button svelte-1nf5kyf"),h(i,"class","filter-menu svelte-1nf5kyf")},m(ne,ae){H(ne,e,ae),E(e,t),E(e,n),E(e,i),E(i,s),E(s,r),E(s,u),E(s,f),E(f,o),E(i,c),E(i,g),E(g,C),E(C,w),E(w,q),E(w,b),re(k,w,null),E(C,V),Y&&Y.m(C,null),E(g,O),E(g,N),E(i,P),E(i,W),re(I,W,null),l[13](i),F=!0,J||(K=[fe(f,"click",Xe(l[9])),fe(w,"click",Xe(l[10])),fe(N,"click",Xe(l[8])),fe(N,"input",l[7]),fe(W,"click",l[12])],J=!0)},p(ne,[ae]){(!F||ae&4)&&qe(o,ne[2]),(!F||ae&4&&_!==(_=`Change filter type. Filtering ${ne[2]}s`))&&h(f,"aria-label",_),(!F||ae&8)&&qe(q,ne[3]),(!F||ae&8&&v!==(v=`Change filter. Using '${ne[3]}'`))&&h(w,"aria-label",v),ne[4]?Y?Y.p(ne,ae):(Y=Ml(ne),Y.c(),Y.m(C,null)):Y&&(Y.d(1),Y=null),(!F||ae&32&&N.value!==ne[5])&&(N.value=ne[5])},i(ne){F||(y(k.$$.fragment,ne),y(I.$$.fragment,ne),F=!0)},o(ne){M(k.$$.fragment,ne),M(I.$$.fragment,ne),F=!1},d(ne){ne&&d(e),se(k),Y&&Y.d(),se(I),l[13](null),J=!1,Qe(K)}}}function bs(l,e,t){let{on_filter:n=()=>{}}=e,i,s="string",r="Contains",a=!1,u="";const f={string:["Contains","Does not contain","Starts with","Ends with","Is","Is not","Is empty","Is not empty"],number:["=","≠",">","<","≥","≤","Is empty","Is not empty"]};_t(()=>{o()});function o(){if(!i)return;const k=window.innerWidth,v=window.innerHeight,V=i.getBoundingClientRect(),O=(k-V.width)/2,N=(v-V.height)/2;t(1,i.style.left=`${O}px`,i),t(1,i.style.top=`${N}px`,i)}function _(k){const v=k.target;t(5,u=v.value)}function c(k){$e.call(this,l,k)}const g=()=>{t(2,s=s==="string"?"number":"string"),t(3,r=f[s][0])},C=()=>t(4,a=!a),w=k=>{t(3,r=k),t(4,a=!a)},q=()=>n(s,r,u);function b(k){ve[k?"unshift":"push"](()=>{i=k,t(1,i)})}return l.$$set=k=>{"on_filter"in k&&t(0,n=k.on_filter)},[n,i,s,r,a,u,f,_,c,g,C,w,q,b]}class ws extends Oe{constructor(e){super(),je(this,e,bs,gs,ze,{on_filter:0})}}function Il(l){let e,t,n,i=l[15]("dataframe.sort_ascending")+"",s,r,a,u,f,o,_=l[15]("dataframe.sort_descending")+"",c,g,C,w,q,b,k=l[15]("dataframe.clear_sort")+"",v,V,O,N,P,W=l[15]("dataframe.filter")+"",I,F,J,K,Y,ne,ae=l[15]("dataframe.clear_filter")+"",ee,ce,be,Ne;t=new Ke({props:{icon:"sort-asc"}});let de=l[10]==="asc"&&l[11]!==null&&Ll(l);f=new Ke({props:{icon:"sort-desc"}});let te=l[10]==="desc"&&l[11]!==null&&Ol(l);q=new Ke({props:{icon:"clear-sort"}}),N=new Ke({props:{icon:"filter"}});let L=l[14]&&jl();return Y=new Ke({props:{icon:"clear-filter"}}),{c(){e=U("button"),ie(t.$$.fragment),n=Z(),s=Se(i),r=Z(),de&&de.c(),a=Z(),u=U("button"),ie(f.$$.fragment),o=Z(),c=Se(_),g=Z(),te&&te.c(),C=Z(),w=U("button"),ie(q.$$.fragment),b=Z(),v=Se(k),V=Z(),O=U("button"),ie(N.$$.fragment),P=Z(),I=Se(W),F=Z(),L&&L.c(),J=Z(),K=U("button"),ie(Y.$$.fragment),ne=Z(),ee=Se(ae),this.h()},l(A){e=R(A,"BUTTON",{role:!0,class:!0});var p=B(e);_e(t.$$.fragment,p),n=x(p),s=Be(p,i),r=x(p),de&&de.l(p),p.forEach(d),a=x(A),u=R(A,"BUTTON",{role:!0,class:!0});var S=B(u);_e(f.$$.fragment,S),o=x(S),c=Be(S,_),g=x(S),te&&te.l(S),S.forEach(d),C=x(A),w=R(A,"BUTTON",{role:!0,class:!0});var T=B(w);_e(q.$$.fragment,T),b=x(T),v=Be(T,k),T.forEach(d),V=x(A),O=R(A,"BUTTON",{role:!0,class:!0});var D=B(O);_e(N.$$.fragment,D),P=x(D),I=Be(D,W),F=x(D),L&&L.l(D),D.forEach(d),J=x(A),K=R(A,"BUTTON",{role:!0,class:!0});var Te=B(K);_e(Y.$$.fragment,Te),ne=x(Te),ee=Be(Te,ae),Te.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","svelte-42thj4"),$(e,"active",l[10]==="asc"),h(u,"role","menuitem"),h(u,"class","svelte-42thj4"),$(u,"active",l[10]==="desc"),h(w,"role","menuitem"),h(w,"class","svelte-42thj4"),h(O,"role","menuitem"),h(O,"class","svelte-42thj4"),$(O,"active",l[14]||l[17]),h(K,"role","menuitem"),h(K,"class","svelte-42thj4")},m(A,p){H(A,e,p),re(t,e,null),E(e,n),E(e,s),E(e,r),de&&de.m(e,null),H(A,a,p),H(A,u,p),re(f,u,null),E(u,o),E(u,c),E(u,g),te&&te.m(u,null),H(A,C,p),H(A,w,p),re(q,w,null),E(w,b),E(w,v),H(A,V,p),H(A,O,p),re(N,O,null),E(O,P),E(O,I),E(O,F),L&&L.m(O,null),H(A,J,p),H(A,K,p),re(Y,K,null),E(K,ne),E(K,ee),ce=!0,be||(Ne=[fe(e,"click",l[28]),fe(u,"click",l[29]),fe(w,"click",function(){Ge(l[9])&&l[9].apply(this,arguments)}),fe(O,"click",Xe(l[21])),fe(K,"click",function(){Ge(l[13])&&l[13].apply(this,arguments)})],be=!0)},p(A,p){l=A,(!ce||p[0]&32768)&&i!==(i=l[15]("dataframe.sort_ascending")+"")&&qe(s,i),l[10]==="asc"&&l[11]!==null?de?de.p(l,p):(de=Ll(l),de.c(),de.m(e,null)):de&&(de.d(1),de=null),(!ce||p[0]&1024)&&$(e,"active",l[10]==="asc"),(!ce||p[0]&32768)&&_!==(_=l[15]("dataframe.sort_descending")+"")&&qe(c,_),l[10]==="desc"&&l[11]!==null?te?te.p(l,p):(te=Ol(l),te.c(),te.m(u,null)):te&&(te.d(1),te=null),(!ce||p[0]&1024)&&$(u,"active",l[10]==="desc"),(!ce||p[0]&32768)&&k!==(k=l[15]("dataframe.clear_sort")+"")&&qe(v,k),(!ce||p[0]&32768)&&W!==(W=l[15]("dataframe.filter")+"")&&qe(I,W),l[14]?L||(L=jl(),L.c(),L.m(O,null)):L&&(L.d(1),L=null),(!ce||p[0]&147456)&&$(O,"active",l[14]||l[17]),(!ce||p[0]&32768)&&ae!==(ae=l[15]("dataframe.clear_filter")+"")&&qe(ee,ae)},i(A){ce||(y(t.$$.fragment,A),y(f.$$.fragment,A),y(q.$$.fragment,A),y(N.$$.fragment,A),y(Y.$$.fragment,A),ce=!0)},o(A){M(t.$$.fragment,A),M(f.$$.fragment,A),M(q.$$.fragment,A),M(N.$$.fragment,A),M(Y.$$.fragment,A),ce=!1},d(A){A&&(d(e),d(a),d(u),d(C),d(w),d(V),d(O),d(J),d(K)),se(t),de&&de.d(),se(f),te&&te.d(),se(q),se(N),L&&L.d(),se(Y),be=!1,Qe(Ne)}}}function Ll(l){let e,t;return{c(){e=U("span"),t=Se(l[11]),this.h()},l(n){e=R(n,"SPAN",{class:!0});var i=B(e);t=Be(i,l[11]),i.forEach(d),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){H(n,e,i),E(e,t)},p(n,i){i[0]&2048&&qe(t,n[11])},d(n){n&&d(e)}}}function Ol(l){let e,t;return{c(){e=U("span"),t=Se(l[11]),this.h()},l(n){e=R(n,"SPAN",{class:!0});var i=B(e);t=Be(i,l[11]),i.forEach(d),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){H(n,e,i),E(e,t)},p(n,i){i[0]&2048&&qe(t,n[11])},d(n){n&&d(e)}}}function jl(l){let e,t="1";return{c(){e=U("span"),e.textContent=t,this.h()},l(n){e=R(n,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1abh2by"&&(e.textContent=t),this.h()},h(){h(e,"class","priority svelte-42thj4")},m(n,i){H(n,e,i)},d(n){n&&d(e)}}}function zl(l){let e,t,n,i=l[15]("dataframe.add_row_above")+"",s,r,a,u,f,o=l[15]("dataframe.add_row_below")+"",_,c,g,C,w,q;t=new Ke({props:{icon:"add-row-above"}}),u=new Ke({props:{icon:"add-row-below"}});let b=l[6]&&Hl(l);return{c(){e=U("button"),ie(t.$$.fragment),n=Z(),s=Se(i),r=Z(),a=U("button"),ie(u.$$.fragment),f=Z(),_=Se(o),c=Z(),b&&b.c(),g=pe(),this.h()},l(k){e=R(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var v=B(e);_e(t.$$.fragment,v),n=x(v),s=Be(v,i),v.forEach(d),r=x(k),a=R(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var V=B(a);_e(u.$$.fragment,V),f=x(V),_=Be(V,o),V.forEach(d),c=x(k),b&&b.l(k),g=pe(),this.h()},h(){h(e,"role","menuitem"),h(e,"aria-label","Add row above"),h(e,"class","svelte-42thj4"),h(a,"role","menuitem"),h(a,"aria-label","Add row below"),h(a,"class","svelte-42thj4")},m(k,v){H(k,e,v),re(t,e,null),E(e,n),E(e,s),H(k,r,v),H(k,a,v),re(u,a,null),E(a,f),E(a,_),H(k,c,v),b&&b.m(k,v),H(k,g,v),C=!0,w||(q=[fe(e,"click",l[30]),fe(a,"click",l[31])],w=!0)},p(k,v){(!C||v[0]&32768)&&i!==(i=k[15]("dataframe.add_row_above")+"")&&qe(s,i),(!C||v[0]&32768)&&o!==(o=k[15]("dataframe.add_row_below")+"")&&qe(_,o),k[6]?b?(b.p(k,v),v[0]&64&&y(b,1)):(b=Hl(k),b.c(),y(b,1),b.m(g.parentNode,g)):b&&(me(),M(b,1,1,()=>{b=null}),ge())},i(k){C||(y(t.$$.fragment,k),y(u.$$.fragment,k),y(b),C=!0)},o(k){M(t.$$.fragment,k),M(u.$$.fragment,k),M(b),C=!1},d(k){k&&(d(e),d(r),d(a),d(c),d(g)),se(t),se(u),b&&b.d(k),w=!1,Qe(q)}}}function Hl(l){let e,t,n,i=l[15]("dataframe.delete_row")+"",s,r,a,u;return t=new Ke({props:{icon:"delete-row"}}),{c(){e=U("button"),ie(t.$$.fragment),n=Z(),s=Se(i),this.h()},l(f){e=R(f,"BUTTON",{role:!0,class:!0,"aria-label":!0});var o=B(e);_e(t.$$.fragment,o),n=x(o),s=Be(o,i),o.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","delete svelte-42thj4"),h(e,"aria-label","Delete row")},m(f,o){H(f,e,o),re(t,e,null),E(e,n),E(e,s),r=!0,a||(u=fe(e,"click",function(){Ge(l[4])&&l[4].apply(this,arguments)}),a=!0)},p(f,o){l=f,(!r||o[0]&32768)&&i!==(i=l[15]("dataframe.delete_row")+"")&&qe(s,i)},i(f){r||(y(t.$$.fragment,f),r=!0)},o(f){M(t.$$.fragment,f),r=!1},d(f){f&&d(e),se(t),a=!1,u()}}}function Vl(l){let e,t,n,i=l[15]("dataframe.add_column_left")+"",s,r,a,u,f,o=l[15]("dataframe.add_column_right")+"",_,c,g,C,w,q;t=new Ke({props:{icon:"add-column-left"}}),u=new Ke({props:{icon:"add-column-right"}});let b=l[7]&&Pl(l);return{c(){e=U("button"),ie(t.$$.fragment),n=Z(),s=Se(i),r=Z(),a=U("button"),ie(u.$$.fragment),f=Z(),_=Se(o),c=Z(),b&&b.c(),g=pe(),this.h()},l(k){e=R(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var v=B(e);_e(t.$$.fragment,v),n=x(v),s=Be(v,i),v.forEach(d),r=x(k),a=R(k,"BUTTON",{role:!0,"aria-label":!0,class:!0});var V=B(a);_e(u.$$.fragment,V),f=x(V),_=Be(V,o),V.forEach(d),c=x(k),b&&b.l(k),g=pe(),this.h()},h(){h(e,"role","menuitem"),h(e,"aria-label","Add column to the left"),h(e,"class","svelte-42thj4"),h(a,"role","menuitem"),h(a,"aria-label","Add column to the right"),h(a,"class","svelte-42thj4")},m(k,v){H(k,e,v),re(t,e,null),E(e,n),E(e,s),H(k,r,v),H(k,a,v),re(u,a,null),E(a,f),E(a,_),H(k,c,v),b&&b.m(k,v),H(k,g,v),C=!0,w||(q=[fe(e,"click",l[32]),fe(a,"click",l[33])],w=!0)},p(k,v){(!C||v[0]&32768)&&i!==(i=k[15]("dataframe.add_column_left")+"")&&qe(s,i),(!C||v[0]&32768)&&o!==(o=k[15]("dataframe.add_column_right")+"")&&qe(_,o),k[7]?b?(b.p(k,v),v[0]&128&&y(b,1)):(b=Pl(k),b.c(),y(b,1),b.m(g.parentNode,g)):b&&(me(),M(b,1,1,()=>{b=null}),ge())},i(k){C||(y(t.$$.fragment,k),y(u.$$.fragment,k),y(b),C=!0)},o(k){M(t.$$.fragment,k),M(u.$$.fragment,k),M(b),C=!1},d(k){k&&(d(e),d(r),d(a),d(c),d(g)),se(t),se(u),b&&b.d(k),w=!1,Qe(q)}}}function Pl(l){let e,t,n,i=l[15]("dataframe.delete_column")+"",s,r,a,u;return t=new Ke({props:{icon:"delete-column"}}),{c(){e=U("button"),ie(t.$$.fragment),n=Z(),s=Se(i),this.h()},l(f){e=R(f,"BUTTON",{role:!0,class:!0,"aria-label":!0});var o=B(e);_e(t.$$.fragment,o),n=x(o),s=Be(o,i),o.forEach(d),this.h()},h(){h(e,"role","menuitem"),h(e,"class","delete svelte-42thj4"),h(e,"aria-label","Delete column")},m(f,o){H(f,e,o),re(t,e,null),E(e,n),E(e,s),r=!0,a||(u=fe(e,"click",function(){Ge(l[5])&&l[5].apply(this,arguments)}),a=!0)},p(f,o){l=f,(!r||o[0]&32768)&&i!==(i=l[15]("dataframe.delete_column")+"")&&qe(s,i)},i(f){r||(y(t.$$.fragment,f),r=!0)},o(f){M(t.$$.fragment,f),r=!1},d(f){f&&d(e),se(t),a=!1,u()}}}function Ul(l){let e,t;return e=new ws({props:{on_filter:l[12]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[0]&4096&&(s.on_filter=n[12]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ks(l){let e,t,n,i,s,r,a=l[20]&&Il(l),u=!l[20]&&l[19]&&zl(l),f=l[18]&&Vl(l),o=l[17]&&Ul(l);return{c(){e=U("div"),a&&a.c(),t=Z(),u&&u.c(),n=Z(),f&&f.c(),i=Z(),o&&o.c(),s=pe(),this.h()},l(_){e=R(_,"DIV",{class:!0,role:!0});var c=B(e);a&&a.l(c),t=x(c),u&&u.l(c),n=x(c),f&&f.l(c),c.forEach(d),i=x(_),o&&o.l(_),s=pe(),this.h()},h(){h(e,"class","cell-menu svelte-42thj4"),h(e,"role","menu")},m(_,c){H(_,e,c),a&&a.m(e,null),E(e,t),u&&u.m(e,null),E(e,n),f&&f.m(e,null),l[34](e),H(_,i,c),o&&o.m(_,c),H(_,s,c),r=!0},p(_,c){_[20]?a?(a.p(_,c),c[0]&1048576&&y(a,1)):(a=Il(_),a.c(),y(a,1),a.m(e,t)):a&&(me(),M(a,1,1,()=>{a=null}),ge()),!_[20]&&_[19]?u?(u.p(_,c),c[0]&1572864&&y(u,1)):(u=zl(_),u.c(),y(u,1),u.m(e,n)):u&&(me(),M(u,1,1,()=>{u=null}),ge()),_[18]?f?(f.p(_,c),c[0]&262144&&y(f,1)):(f=Vl(_),f.c(),y(f,1),f.m(e,null)):f&&(me(),M(f,1,1,()=>{f=null}),ge()),_[17]?o?(o.p(_,c),c[0]&131072&&y(o,1)):(o=Ul(_),o.c(),y(o,1),o.m(s.parentNode,s)):o&&(me(),M(o,1,1,()=>{o=null}),ge())},i(_){r||(y(a),y(u),y(f),y(o),r=!0)},o(_){M(a),M(u),M(f),M(o),r=!1},d(_){_&&(d(e),d(i),d(s)),a&&a.d(),u&&u.d(),f&&f.d(),l[34](null),o&&o.d(_)}}}function vs(l,e,t){let n,i,s,{x:r}=e,{y:a}=e,{on_add_row_above:u}=e,{on_add_row_below:f}=e,{on_add_column_left:o}=e,{on_add_column_right:_}=e,{row:c}=e,{col_count:g}=e,{row_count:C}=e,{on_delete_row:w}=e,{on_delete_col:q}=e,{can_delete_rows:b}=e,{can_delete_cols:k}=e,{on_sort:v=()=>{}}=e,{on_clear_sort:V=()=>{}}=e,{sort_direction:O=null}=e,{sort_priority:N=null}=e,{on_filter:P=()=>{}}=e,{on_clear_filter:W=()=>{}}=e,{filter_active:I=null}=e,{editable:F=!0}=e,{i18n:J}=e,K,Y=null;_t(()=>{ne()});function ne(){if(!K)return;const A=window.innerWidth,p=window.innerHeight,S=K.getBoundingClientRect();let T=r-30,D=a-20;T+S.width>A&&(T=r-S.width+10),D+S.height>p&&(D=a-S.height+10),t(16,K.style.left=`${T}px`,K),t(16,K.style.top=`${D}px`,K)}function ae(){if(I){P("string","","");return}const A=K.getBoundingClientRect();t(17,Y={x:A.right,y:A.top+A.height/2})}const ee=()=>v("asc"),ce=()=>v("desc"),be=()=>u(),Ne=()=>f(),de=()=>o(),te=()=>_();function L(A){ve[A?"unshift":"push"](()=>{K=A,t(16,K)})}return l.$$set=A=>{"x"in A&&t(22,r=A.x),"y"in A&&t(23,a=A.y),"on_add_row_above"in A&&t(0,u=A.on_add_row_above),"on_add_row_below"in A&&t(1,f=A.on_add_row_below),"on_add_column_left"in A&&t(2,o=A.on_add_column_left),"on_add_column_right"in A&&t(3,_=A.on_add_column_right),"row"in A&&t(24,c=A.row),"col_count"in A&&t(25,g=A.col_count),"row_count"in A&&t(26,C=A.row_count),"on_delete_row"in A&&t(4,w=A.on_delete_row),"on_delete_col"in A&&t(5,q=A.on_delete_col),"can_delete_rows"in A&&t(6,b=A.can_delete_rows),"can_delete_cols"in A&&t(7,k=A.can_delete_cols),"on_sort"in A&&t(8,v=A.on_sort),"on_clear_sort"in A&&t(9,V=A.on_clear_sort),"sort_direction"in A&&t(10,O=A.sort_direction),"sort_priority"in A&&t(11,N=A.sort_priority),"on_filter"in A&&t(12,P=A.on_filter),"on_clear_filter"in A&&t(13,W=A.on_clear_filter),"filter_active"in A&&t(14,I=A.filter_active),"editable"in A&&t(27,F=A.editable),"i18n"in A&&t(15,J=A.i18n)},l.$$.update=()=>{l.$$.dirty[0]&16777216&&t(20,n=c===-1),l.$$.dirty[0]&201326592&&t(19,i=F&&C[1]==="dynamic"),l.$$.dirty[0]&167772160&&t(18,s=F&&g[1]==="dynamic")},[u,f,o,_,w,q,b,k,v,V,O,N,P,W,I,J,K,Y,s,i,n,ae,r,a,c,g,C,F,ee,ce,be,Ne,de,te,L]}class ps extends Oe{constructor(e){super(),je(this,e,vs,ks,ze,{x:22,y:23,on_add_row_above:0,on_add_row_below:1,on_add_column_left:2,on_add_column_right:3,row:24,col_count:25,row_count:26,on_delete_row:4,on_delete_col:5,can_delete_rows:6,can_delete_cols:7,on_sort:8,on_clear_sort:9,sort_direction:10,sort_priority:11,on_filter:12,on_clear_filter:13,filter_active:14,editable:27,i18n:15},null,[-1,-1])}}function Rl(l){let e,t,n,i,s,r,a,u,f,o=l[0]&&l[3]==="filter"&&Fl(l);return{c(){e=U("div"),t=U("input"),r=Z(),o&&o.c(),this.h()},l(_){e=R(_,"DIV",{class:!0});var c=B(e);t=R(c,"INPUT",{type:!0,placeholder:!0,class:!0,title:!0}),r=x(c),o&&o.l(c),c.forEach(d),this.h()},h(){h(t,"type","text"),t.value=n=l[0]||"",h(t,"placeholder",i=l[3]==="filter"?"Filter...":"Search..."),h(t,"class","search-input svelte-gxwu54"),h(t,"title",s=`Enter text to ${l[3]} the table`),$(t,"filter-mode",l[3]==="filter"),h(e,"class","search-container svelte-gxwu54")},m(_,c){H(_,e,c),E(e,t),E(e,r),o&&o.m(e,null),a=!0,u||(f=fe(t,"input",l[7]),u=!0)},p(_,c){(!a||c&1&&n!==(n=_[0]||"")&&t.value!==n)&&(t.value=n),(!a||c&8&&i!==(i=_[3]==="filter"?"Filter...":"Search..."))&&h(t,"placeholder",i),(!a||c&8&&s!==(s=`Enter text to ${_[3]} the table`))&&h(t,"title",s),(!a||c&8)&&$(t,"filter-mode",_[3]==="filter"),_[0]&&_[3]==="filter"?o?(o.p(_,c),c&9&&y(o,1)):(o=Fl(_),o.c(),y(o,1),o.m(e,null)):o&&(me(),M(o,1,1,()=>{o=null}),ge())},i(_){a||(y(o),a=!0)},o(_){M(o),a=!1},d(_){_&&d(e),o&&o.d(),u=!1,f()}}}function Fl(l){let e,t,n,i,s;return t=new Ft({}),{c(){e=U("button"),ie(t.$$.fragment),this.h()},l(r){e=R(r,"BUTTON",{class:!0,"aria-label":!0,title:!0});var a=B(e);_e(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","toolbar-button check-button svelte-gxwu54"),h(e,"aria-label","Apply filter and update dataframe values"),h(e,"title","Apply filter and update dataframe values")},m(r,a){H(r,e,a),re(t,e,null),n=!0,i||(s=fe(e,"click",function(){Ge(l[5])&&l[5].apply(this,arguments)}),i=!0)},p(r,a){l=r},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){M(t.$$.fragment,r),n=!1},d(r){r&&d(e),se(t),i=!1,s()}}}function Jl(l){let e,t,n,i,s,r,a,u;const f=[Es,ys],o=[];function _(c,g){return c[6]?0:1}return t=_(l),n=o[t]=f[t](l),{c(){e=U("button"),n.c(),this.h()},l(c){e=R(c,"BUTTON",{class:!0,"aria-label":!0,title:!0});var g=B(e);n.l(g),g.forEach(d),this.h()},h(){h(e,"class","toolbar-button svelte-gxwu54"),h(e,"aria-label",i=l[6]?"Copied to clipboard":"Copy table data"),h(e,"title",s=l[6]?"Copied to clipboard":"Copy table data")},m(c,g){H(c,e,g),o[t].m(e,null),r=!0,a||(u=fe(e,"click",l[8]),a=!0)},p(c,g){let C=t;t=_(c),t!==C&&(me(),M(o[C],1,1,()=>{o[C]=null}),ge(),n=o[t],n||(n=o[t]=f[t](c),n.c()),y(n,1),n.m(e,null)),(!r||g&64&&i!==(i=c[6]?"Copied to clipboard":"Copy table data"))&&h(e,"aria-label",i),(!r||g&64&&s!==(s=c[6]?"Copied to clipboard":"Copy table data"))&&h(e,"title",s)},i(c){r||(y(n),r=!0)},o(c){M(n),r=!1},d(c){c&&d(e),o[t].d(),a=!1,u()}}}function ys(l){let e,t;return e=new Mi({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Es(l){let e,t;return e=new Ft({}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Kl(l){let e,t;return e=new zi({props:{fullscreen:l[4]}}),e.$on("fullscreen",l[10]),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.fullscreen=n[4]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Ns(l){let e,t,n,i,s,r=l[3]!=="none"&&Rl(l),a=l[2]&&Jl(l),u=l[1]&&Kl(l);return{c(){e=U("div"),t=U("div"),r&&r.c(),n=Z(),a&&a.c(),i=Z(),u&&u.c(),this.h()},l(f){e=R(f,"DIV",{class:!0,role:!0,"aria-label":!0});var o=B(e);t=R(o,"DIV",{class:!0});var _=B(t);r&&r.l(_),n=x(_),a&&a.l(_),i=x(_),u&&u.l(_),_.forEach(d),o.forEach(d),this.h()},h(){h(t,"class","toolbar-buttons svelte-gxwu54"),h(e,"class","toolbar svelte-gxwu54"),h(e,"role","toolbar"),h(e,"aria-label","Table actions")},m(f,o){H(f,e,o),E(e,t),r&&r.m(t,null),E(t,n),a&&a.m(t,null),E(t,i),u&&u.m(t,null),s=!0},p(f,[o]){f[3]!=="none"?r?(r.p(f,o),o&8&&y(r,1)):(r=Rl(f),r.c(),y(r,1),r.m(t,n)):r&&(me(),M(r,1,1,()=>{r=null}),ge()),f[2]?a?(a.p(f,o),o&4&&y(a,1)):(a=Jl(f),a.c(),y(a,1),a.m(t,i)):a&&(me(),M(a,1,1,()=>{a=null}),ge()),f[1]?u?(u.p(f,o),o&2&&y(u,1)):(u=Kl(f),u.c(),y(u,1),u.m(t,null)):u&&(me(),M(u,1,1,()=>{u=null}),ge())},i(f){s||(y(r),y(a),y(u),s=!0)},o(f){M(r),M(a),M(u),s=!1},d(f){f&&d(e),r&&r.d(),a&&a.d(),u&&u.d()}}}function Ts(l,e,t){let{show_fullscreen_button:n=!1}=e,{show_copy_button:i=!1}=e,{show_search:s="none"}=e,{fullscreen:r=!1}=e,{on_copy:a}=e,{on_commit_filter:u}=e;const f=pt();let o=!1,_,{current_search_query:c=null}=e,g="";function C(k){g=k.target.value;const V=g||null;c!==V&&(t(0,c=V),f("search",c))}function w(){t(6,o=!0),_&&clearTimeout(_),_=setTimeout(()=>{t(6,o=!1)},2e3)}async function q(){await a(),w()}yi(()=>{_&&clearTimeout(_)});function b(k){$e.call(this,l,k)}return l.$$set=k=>{"show_fullscreen_button"in k&&t(1,n=k.show_fullscreen_button),"show_copy_button"in k&&t(2,i=k.show_copy_button),"show_search"in k&&t(3,s=k.show_search),"fullscreen"in k&&t(4,r=k.fullscreen),"on_copy"in k&&t(9,a=k.on_copy),"on_commit_filter"in k&&t(5,u=k.on_commit_filter),"current_search_query"in k&&t(0,c=k.current_search_query)},[c,n,i,s,r,u,o,C,q,a,b]}class Cs extends Oe{constructor(e){super(),je(this,e,Ts,Ns,ze,{show_fullscreen_button:1,show_copy_button:2,show_search:3,fullscreen:4,on_copy:9,on_commit_filter:5,current_search_query:0})}}function As(l,e){if(e==="number"){const t=Number(l);return isNaN(t)?l:t}if(e==="bool"){if(typeof l=="boolean")return l;if(typeof l=="number")return l!==0;const t=String(l).toLowerCase();return t==="true"||t==="1"?!0:t==="false"||t==="0"?!1:l}if(e==="date"){const t=new Date(l);return isNaN(t.getTime())?l:t.toISOString()}return l}function kt(l,e,t,n){let i=l||[];if(e[1]==="fixed"&&i.length<e[0]){const s=Array(e[0]-i.length).fill("").map((r,a)=>`${a+i.length}`);i=i.concat(s)}return!i||i.length===0?Array(e[0]).fill(0).map((s,r)=>{const a=n();return t[a]={cell:null,input:null},{id:a,value:JSON.stringify(r+1)}}):i.map((s,r)=>{const a=n();return t[a]={cell:null,input:null},{id:a,value:s??""}})}function Ss(l,e,t,n,i=null,s){return!l||l.length===0?[]:l.map((a,u)=>a.map((f,o)=>{var C;const _=n();e[_]={cell:null,input:null},t[_]=f;let c=(C=i==null?void 0:i[u])==null?void 0:C[o];c===void 0&&(c=String(f));const g=Array.isArray(s)?s[o]:s;return{id:_,value:As(f,g),display_value:c}}))}async function bn(l,e,t,n){var s;if(!e.data||!e.data[t]||!e.data[t][n])return;const i=e.data[t][n].value;e.data[t][n].value=l,e.data[t][n].display_value!==void 0&&(e.data[t][n].display_value=l),i!==l&&e.dispatch&&e.dispatch("change",{data:e.data.map(r=>r.map(a=>a.value)),headers:((s=e.headers)==null?void 0:s.map(r=>r.value))||[],metadata:null}),e.actions.set_selected([t,n])}async function Bs(l,e,t){if(!e.data||!e.headers||!e.els)return;const n=l.target;!n||n.value===void 0||await bn(n.value,e,t[0],t[1])}function qs(l,e){const t=Pe(e.state),n=t.ui_state.selected_header,i=t.ui_state.header_edit,s=e.headers||[];if(n===!1||i!==!1)return!1;switch(l.key){case"ArrowDown":return e.actions.set_selected_header(!1),e.actions.set_selected([0,n]),e.actions.set_selected_cells([[0,n]]),!0;case"ArrowLeft":return e.actions.set_selected_header(n>0?n-1:n),!0;case"ArrowRight":return e.actions.set_selected_header(n<s.length-1?n+1:n),!0;case"Escape":return l.preventDefault(),e.actions.set_selected_header(!1),!0;case"Enter":return l.preventDefault(),t.config.editable&&e.actions.set_header_edit(n),!0}return!1}function wn(l,e){var r;if(!e.data||!e.headers||!e.els||!e.dispatch)return!1;const t=Pe(e.state);if(!t.config.editable||l.key!=="Delete"&&l.key!=="Backspace")return!1;const n=t.ui_state.editing,i=t.ui_state.selected_cells,s=t.config.static_columns||[];if(i.some(([a,u])=>s.includes(u)))return!1;if(n){const[a,u]=n,f=(r=e.els[e.data[a][u].id])==null?void 0:r.input;if(f&&f.selectionStart!==f.selectionEnd||l.key==="Delete"&&(f==null?void 0:f.selectionStart)!==(f==null?void 0:f.value.length)||l.key==="Backspace"&&(f==null?void 0:f.selectionStart)!==0)return!1}if(l.preventDefault(),i.length>0){const a=Zi(e.data,i);e.dispatch("change",{data:a.map(u=>u.map(f=>f.value)),headers:e.headers.map(u=>u.value),metadata:null})}return!0}function Ms(l,e,t,n){const i=Pe(e.state),s=i.ui_state.editing,r=i.ui_state.selected_cells;if(s||!e.data)return!1;l.preventDefault();const a=e.actions.move_cursor(l,[t,n],e.data);return a?(l.shiftKey?(e.actions.set_selected_cells(e.actions.get_range_selection(r.length>0?r[0]:[t,n],a)),e.actions.set_editing(!1)):(e.actions.set_selected_cells([a]),e.actions.set_editing(!1)),e.actions.set_selected(a)):a===!1&&l.key==="ArrowUp"&&t===0&&(e.actions.set_selected_header(n),e.actions.set_selected(!1),e.actions.set_selected_cells([]),e.actions.set_editing(!1)),!0}async function Ds(l,e,t,n){var r,a;if(!e.data||!e.els)return!1;const i=Pe(e.state);if(!i.config.editable)return!1;const s=i.ui_state.editing;if(s&&l.shiftKey)return!1;if(l.preventDefault(),s&&ut(s,[t,n])){const u=e.data[t][n].id,f=(r=e.els[u])==null?void 0:r.input;f&&await bn(f.value,e,t,n),e.actions.set_editing(!1),await rt(),(a=e.parent_element)==null||a.focus()}else e.actions.set_editing([t,n]);return!0}function Is(l,e,t,n){if(!e.data)return!1;l.preventDefault(),e.actions.set_editing(!1);const i=e.actions.get_next_cell_coordinates([t,n],e.data,l.shiftKey);return i&&(e.actions.set_selected_cells([i]),e.actions.set_selected(i),Pe(e.state).config.editable&&e.actions.set_editing(i)),!0}function Ls(l,e,t,n){const i=Pe(e.state);if(!i.config.editable)return!1;const s=i.ui_state.editing;return l.key.length===1&&(!s||!ut(s,[t,n]))?(e.actions.set_editing([t,n]),!0):!1}async function Os(l,e){if(!e.data)return!1;const t=Pe(e.state),n=t.ui_state.selected,i=t.ui_state.selected_cells;if(!n)return!1;if(l.key==="c"&&(l.metaKey||l.ctrlKey))return l.preventDefault(),i.length>0&&await dn(e.data,i),e.actions.set_copy_flash(!0),!0;const[s,r]=n;switch(l.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":return Ms(l,e,s,r);case"Escape":return t.config.editable?(l.preventDefault(),e.actions.set_editing(!1),rt().then(()=>{e.parent_element&&e.parent_element.focus()}),!0):!1;case"Enter":return await Ds(l,e,s,r);case"Tab":return Is(l,e,s,r);case"Delete":case"Backspace":return wn(l,e);default:return Ls(l,e,s,r)}}async function js(l,e){qs(l,e)||wn(l,e)||await Os(l,e)}function zs(l,e,t,n,i,s,r){const a=(o,_,c)=>{const g=o.target,C=g.type==="checkbox"||g.closest('input[type="checkbox"]')||g.closest(".bool-cell");o.target instanceof HTMLAnchorElement||s&&c===-1||C||(o.preventDefault(),o.stopPropagation(),l.mouse_down_pos={x:o.clientX,y:o.clientY},l.drag_start=[_,c],!o.shiftKey&&!o.metaKey&&!o.ctrlKey&&(t([[_,c]]),n([_,c]),i(o,_,c)))},u=o=>{const _=o.target.closest("td");if(!_)return;const c=parseInt(_.getAttribute("data-row")||"0"),g=parseInt(_.getAttribute("data-col")||"0");if(isNaN(c)||isNaN(g))return;const C=Jt(l.drag_start,[c,g]);t(C),n([c,g])},f=o=>{!l.is_dragging&&l.drag_start?i(o,l.drag_start[0],l.drag_start[1]):l.is_dragging&&r&&r.focus(),l.is_dragging=!1,e(!1),l.drag_start=null,l.mouse_down_pos=null};return{handle_mouse_down:a,handle_mouse_move(o){if(!l.drag_start||!l.mouse_down_pos)return;if(!(o.buttons&1)){f(o);return}const _=Math.abs(o.clientX-l.mouse_down_pos.x),c=Math.abs(o.clientY-l.mouse_down_pos.y);!l.is_dragging&&(_>3||c>3)&&(l.is_dragging=!0,e(!0)),l.is_dragging&&u(o)},handle_mouse_up:f}}const{Map:vt,window:Hs}=Ti;function Wl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[151]=e,n[152]=t,n}function Yl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[149]=e,n[150]=t,n}function Xl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[153]=e,n[150]=t,n}function Gl(l,e,t){const n=l.slice();return n[147]=e[t].value,n[148]=e[t].id,n[154]=e,n[152]=t,n}function Ql(l){let e,t,n,i,s=l[3]&&l[3].length!==0&&l[4]&&Zl(l);return n=new Cs({props:{show_fullscreen_button:l[18],fullscreen:l[23],on_copy:l[90],show_copy_button:l[19],show_search:l[21],on_commit_filter:l[68],current_search_query:l[33].current_search_query}}),n.$on("search",l[91]),n.$on("fullscreen",l[92]),{c(){e=U("div"),s&&s.c(),t=Z(),ie(n.$$.fragment),this.h()},l(r){e=R(r,"DIV",{class:!0});var a=B(e);s&&s.l(a),t=x(a),_e(n.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","header-row svelte-ymqqp")},m(r,a){H(r,e,a),s&&s.m(e,null),E(e,t),re(n,e,null),i=!0},p(r,a){r[3]&&r[3].length!==0&&r[4]?s?s.p(r,a):(s=Zl(r),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const u={};a[0]&262144&&(u.show_fullscreen_button=r[18]),a[0]&8388608&&(u.fullscreen=r[23]),a[0]&67108864&&(u.on_copy=r[90]),a[0]&524288&&(u.show_copy_button=r[19]),a[0]&2097152&&(u.show_search=r[21]),a[1]&4&&(u.current_search_query=r[33].current_search_query),n.$set(u)},i(r){i||(y(n.$$.fragment,r),i=!0)},o(r){M(n.$$.fragment,r),i=!1},d(r){r&&d(e),s&&s.d(),se(n)}}}function Zl(l){let e,t,n;return{c(){e=U("div"),t=U("p"),n=Se(l[3]),this.h()},l(i){e=R(i,"DIV",{class:!0});var s=B(e);t=R(s,"P",{class:!0});var r=B(t);n=Be(r,l[3]),r.forEach(d),s.forEach(d),this.h()},h(){h(t,"class","svelte-ymqqp"),h(e,"class","label svelte-ymqqp")},m(i,s){H(i,e,s),E(e,t),E(t,n)},p(i,s){s[0]&8&&qe(n,i[3])},d(i){i&&d(e)}}}function xl(l){let e,t;return{c(){e=U("caption"),t=Se(l[3]),this.h()},l(n){e=R(n,"CAPTION",{class:!0});var i=B(e);t=Be(i,l[3]),i.forEach(d),this.h()},h(){h(e,"class","sr-only svelte-ymqqp")},m(n,i){H(n,e,i),E(e,t)},p(n,i){i[0]&8&&qe(t,n[3])},d(n){n&&d(e)}}}function $l(l){let e,t;return e=new yt({props:{is_header:!0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function en(l,e){let t,n,i,s,r;function a(o){e[93](o,e[152])}function u(o){e[94](o,e[148])}let f={i:e[152],actual_pinned_columns:e[53],header_edit:e[52],selected_header:e[51],headers:e[0],get_cell_width:Wt,handle_header_click:e[60],toggle_header_menu:e[65],end_header_edit:e[61],sort_columns:e[33].sort_state.sort_columns,filter_columns:e[33].filter_state.filter_columns,latex_delimiters:e[7],line_breaks:e[14],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[152]),i18n:e[12],col_count:e[5],datatype:Array.isArray(e[2])?e[2][e[152]]:e[2],data:e[26],on_select_all:e[72]};return e[25][e[152]].value!==void 0&&(f.value=e[25][e[152]].value),e[24][e[148]].input!==void 0&&(f.el=e[24][e[148]].input),n=new gn({props:f}),ve.push(()=>De(n,"value",a)),ve.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=pe(),ie(n.$$.fragment),this.h()},l(o){t=pe(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,_){H(o,t,_),re(n,o,_),r=!0},p(o,_){e=o;const c={};_[0]&33554432&&(c.i=e[152]),_[1]&4194304&&(c.actual_pinned_columns=e[53]),_[1]&2097152&&(c.header_edit=e[52]),_[1]&1048576&&(c.selected_header=e[51]),_[0]&1&&(c.headers=e[0]),_[1]&4&&(c.sort_columns=e[33].sort_state.sort_columns),_[1]&4&&(c.filter_columns=e[33].filter_state.filter_columns),_[0]&128&&(c.latex_delimiters=e[7]),_[0]&16384&&(c.line_breaks=e[14]),_[0]&1048576&&(c.max_chars=e[20]),_[0]&512&&(c.editable=e[9]),_[0]&37748736&&(c.is_static=e[22].includes(e[152])),_[0]&4096&&(c.i18n=e[12]),_[0]&32&&(c.col_count=e[5]),_[0]&33554436&&(c.datatype=Array.isArray(e[2])?e[2][e[152]]:e[2]),_[0]&67108864&&(c.data=e[26]),!i&&_[0]&33554432&&(i=!0,c.value=e[25][e[152]].value,Ie(()=>i=!1)),!s&&_[0]&50331648&&(s=!0,c.el=e[24][e[148]].input,Ie(()=>s=!1)),n.$set(c)},i(o){r||(y(n.$$.fragment,o),r=!0)},o(o){M(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function tn(l){let e,t;return e=new yt({props:{index:0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function ln(l,e){let t,n,i,s,r=e[150],a;i=new Kt({props:{value:e[147],latex_delimiters:e[7],line_breaks:e[14],datatype:Array.isArray(e[2])?e[2][e[150]]:e[2],edit:!1,el:null,editable:e[9],i18n:e[12],show_selection_buttons:e[31].length===1&&e[31][0][0]===0&&e[31][0][1]===e[150],coords:e[39],on_select_column:e[55].handle_select_column,on_select_row:e[55].handle_select_row,is_dragging:e[42]}}),i.$on("blur",e[64]);const u=()=>e[95](t,r),f=()=>e[95](null,r);return{key:l,first:null,c(){t=U("td"),n=U("div"),ie(i.$$.fragment),s=Z(),this.h()},l(o){t=R(o,"TD",{tabindex:!0,class:!0});var _=B(t);n=R(_,"DIV",{class:!0});var c=B(n);_e(i.$$.fragment,c),c.forEach(d),s=x(_),_.forEach(d),this.h()},h(){h(n,"class","cell-wrap svelte-ymqqp"),h(t,"tabindex","-1"),h(t,"class","svelte-ymqqp"),this.first=t},m(o,_){H(o,t,_),E(t,n),re(i,n,null),E(t,s),u(),a=!0},p(o,_){e=o;const c={};_[1]&524288&&(c.value=e[147]),_[0]&128&&(c.latex_delimiters=e[7]),_[0]&16384&&(c.line_breaks=e[14]),_[0]&4|_[1]&524288&&(c.datatype=Array.isArray(e[2])?e[2][e[150]]:e[2]),_[0]&512&&(c.editable=e[9]),_[0]&4096&&(c.i18n=e[12]),_[1]&524289&&(c.show_selection_buttons=e[31].length===1&&e[31][0][0]===0&&e[31][0][1]===e[150]),_[1]&256&&(c.coords=e[39]),_[1]&2048&&(c.is_dragging=e[42]),i.$set(c),r!==e[150]&&(f(),r=e[150],u())},i(o){a||(y(i.$$.fragment,o),a=!0)},o(o){M(i.$$.fragment,o),a=!1},d(o){o&&d(t),se(i),f()}}}function nn(l){let e,t;return e=new yt({props:{is_header:!0}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function rn(l,e){let t,n,i,s,r;function a(o){e[100](o,e[152])}function u(o){e[101](o,e[148])}let f={i:e[152],actual_pinned_columns:e[53],header_edit:e[52],selected_header:e[51],headers:e[0],get_cell_width:Wt,handle_header_click:e[60],toggle_header_menu:e[65],end_header_edit:e[61],sort_columns:e[33].sort_state.sort_columns,filter_columns:e[33].filter_state.filter_columns,latex_delimiters:e[7],line_breaks:e[14],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[152]),i18n:e[12],col_count:e[5],datatype:Array.isArray(e[2])?e[2][e[152]]:e[2],data:e[26],on_select_all:e[72]};return e[25][e[152]].value!==void 0&&(f.value=e[25][e[152]].value),e[24][e[148]].input!==void 0&&(f.el=e[24][e[148]].input),n=new gn({props:f}),ve.push(()=>De(n,"value",a)),ve.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=pe(),ie(n.$$.fragment),this.h()},l(o){t=pe(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,_){H(o,t,_),re(n,o,_),r=!0},p(o,_){e=o;const c={};_[0]&33554432&&(c.i=e[152]),_[1]&4194304&&(c.actual_pinned_columns=e[53]),_[1]&2097152&&(c.header_edit=e[52]),_[1]&1048576&&(c.selected_header=e[51]),_[0]&1&&(c.headers=e[0]),_[1]&4&&(c.sort_columns=e[33].sort_state.sort_columns),_[1]&4&&(c.filter_columns=e[33].filter_state.filter_columns),_[0]&128&&(c.latex_delimiters=e[7]),_[0]&16384&&(c.line_breaks=e[14]),_[0]&1048576&&(c.max_chars=e[20]),_[0]&512&&(c.editable=e[9]),_[0]&37748736&&(c.is_static=e[22].includes(e[152])),_[0]&4096&&(c.i18n=e[12]),_[0]&32&&(c.col_count=e[5]),_[0]&33554436&&(c.datatype=Array.isArray(e[2])?e[2][e[152]]:e[2]),_[0]&67108864&&(c.data=e[26]),!i&&_[0]&33554432&&(i=!0,c.value=e[25][e[152]].value,Ie(()=>i=!1)),!s&&_[0]&50331648&&(s=!0,c.el=e[24][e[148]].input,Ie(()=>s=!1)),n.$set(c)},i(o){r||(y(n.$$.fragment,o),r=!0)},o(o){M(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function Vs(l){let e,t,n=[],i=new vt,s,r=l[15]&&nn(),a=We(l[25]);const u=f=>f[148];for(let f=0;f<a.length;f+=1){let o=Wl(l,a,f),_=u(o);i.set(_,n[f]=rn(_,o))}return{c(){e=U("tr"),r&&r.c(),t=Z();for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=R(f,"TR",{slot:!0,class:!0});var o=B(e);r&&r.l(o),t=x(o);for(let _=0;_<n.length;_+=1)n[_].l(o);o.forEach(d),this.h()},h(){h(e,"slot","thead"),h(e,"class","svelte-ymqqp")},m(f,o){H(f,e,o),r&&r.m(e,null),E(e,t);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);s=!0},p(f,o){f[15]?r?o[0]&32768&&y(r,1):(r=nn(),r.c(),y(r,1),r.m(e,t)):r&&(me(),M(r,1,1,()=>{r=null}),ge()),o[0]&122704549|o[1]&1617952772|o[2]&1032&&(a=We(f[25]),me(),n=ft(n,o,u,1,f,a,i,e,ct,rn,null,Wl),ge())},i(f){if(!s){y(r);for(let o=0;o<a.length;o+=1)y(n[o]);s=!0}},o(f){M(r);for(let o=0;o<n.length;o+=1)M(n[o]);s=!1},d(f){f&&d(e),r&&r.d();for(let o=0;o<n.length;o+=1)n[o].d()}}}function sn(l){let e,t;return e=new yt({props:{index:l[145]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p(n,i){const s={};i[4]&2097152&&(s.index=n[145]),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function an(l,e){let t,n,i,s,r;function a(o){e[98](o,e[145],e[150])}function u(o){e[99](o,e[148])}let f={display_value:e[73](e[145],e[150]),index:e[33].current_search_query!==void 0&&e[27][e[145]]!==void 0?e[27][e[145]]:e[145],j:e[150],actual_pinned_columns:e[53],get_cell_width:Wt,handle_cell_click:e[97],handle_blur:e[64],toggle_cell_menu:e[55].toggle_cell_menu,is_cell_selected:Gi,should_show_cell_menu:xi,selected_cells:e[31],copy_flash:e[32],active_cell_menu:e[47],styling:e[35][e[145]][e[150]].styling,latex_delimiters:e[7],line_breaks:e[14],datatype:Array.isArray(e[2])?e[2][e[150]]:e[2],editing:e[48],max_chars:e[20],editable:e[9],is_static:e[22].includes(e[150]),i18n:e[12],components:e[8],handle_select_column:e[55].handle_select_column,handle_select_row:e[55].handle_select_row,is_dragging:e[42],wrap:e[10]};return e[35][e[145]][e[150]].value!==void 0&&(f.value=e[35][e[145]][e[150]].value),e[24][e[148]]!==void 0&&(f.el=e[24][e[148]]),n=new is({props:f}),ve.push(()=>De(n,"value",a)),ve.push(()=>De(n,"el",u)),{key:l,first:null,c(){t=pe(),ie(n.$$.fragment),this.h()},l(o){t=pe(),_e(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,_){H(o,t,_),re(n,o,_),r=!0},p(o,_){e=o;const c={};_[4]&6291456&&(c.display_value=e[73](e[145],e[150])),_[0]&134217728|_[1]&4|_[4]&2097152&&(c.index=e[33].current_search_query!==void 0&&e[27][e[145]]!==void 0?e[27][e[145]]:e[145]),_[4]&4194304&&(c.j=e[150]),_[1]&4194304&&(c.actual_pinned_columns=e[53]),_[1]&16384&&(c.handle_cell_click=e[97]),_[1]&1&&(c.selected_cells=e[31]),_[1]&2&&(c.copy_flash=e[32]),_[1]&65536&&(c.active_cell_menu=e[47]),_[1]&16|_[4]&6291456&&(c.styling=e[35][e[145]][e[150]].styling),_[0]&128&&(c.latex_delimiters=e[7]),_[0]&16384&&(c.line_breaks=e[14]),_[0]&4|_[4]&4194304&&(c.datatype=Array.isArray(e[2])?e[2][e[150]]:e[2]),_[1]&131072&&(c.editing=e[48]),_[0]&1048576&&(c.max_chars=e[20]),_[0]&512&&(c.editable=e[9]),_[0]&4194304|_[4]&4194304&&(c.is_static=e[22].includes(e[150])),_[0]&4096&&(c.i18n=e[12]),_[0]&256&&(c.components=e[8]),_[1]&2048&&(c.is_dragging=e[42]),_[0]&1024&&(c.wrap=e[10]),!i&&_[1]&16|_[4]&6291456&&(i=!0,c.value=e[35][e[145]][e[150]].value,Ie(()=>i=!1)),!s&&_[0]&16777216|_[4]&4194304&&(s=!0,c.el=e[24][e[148]],Ie(()=>s=!1)),n.$set(c)},i(o){r||(y(n.$$.fragment,o),r=!0)},o(o){M(n.$$.fragment,o),r=!1},d(o){o&&d(t),se(n,o)}}}function Ps(l){let e,t,n=[],i=new vt,s,r=l[15]&&sn(l),a=We(l[146]);const u=f=>f[148];for(let f=0;f<a.length;f+=1){let o=Yl(l,a,f),_=u(o);i.set(_,n[f]=an(_,o))}return{c(){e=U("tr"),r&&r.c(),t=Z();for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=R(f,"TR",{slot:!0,class:!0});var o=B(e);r&&r.l(o),t=x(o);for(let _=0;_<n.length;_+=1)n[_].l(o);o.forEach(d),this.h()},h(){h(e,"slot","tbody"),h(e,"class","svelte-ymqqp"),$(e,"row-odd",l[145]%2===0)},m(f,o){H(f,e,o),r&&r.m(e,null),E(e,t);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);s=!0},p(f,o){f[15]?r?(r.p(f,o),o[0]&32768&&y(r,1)):(r=sn(f),r.c(),y(r,1),r.m(e,t)):r&&(me(),M(r,1,1,()=>{r=null}),ge()),o[0]&156260228|o[1]&21186583|o[2]&2052|o[4]&6291456&&(a=We(f[146]),me(),n=ft(n,o,u,1,f,a,i,e,ct,an,null,Yl),ge()),(!s||o[4]&2097152)&&$(e,"row-odd",f[145]%2===0)},i(f){if(!s){y(r);for(let o=0;o<a.length;o+=1)y(n[o]);s=!0}},o(f){M(r);for(let o=0;o<n.length;o+=1)M(n[o]);s=!1},d(f){f&&d(e),r&&r.d();for(let o=0;o<n.length;o+=1)n[o].d()}}}function Us(l){let e,t,n,i,s,r,a,u;function f(w){l[102](w)}function o(w){l[103](w)}function _(w){l[104](w)}function c(w){l[105](w)}function g(w){l[106](w)}let C={max_height:l[13],selected:l[49],disable_scroll:l[47]!==null||l[46]!==null,label:l[3],$$slots:{tbody:[Ps,({index:w,item:q})=>({145:w,146:q}),({index:w,item:q})=>[0,0,0,0,(w?2097152:0)|(q?4194304:0)]],thead:[Vs]},$$scope:{ctx:l}};return l[35]!==void 0&&(C.items=l[35]),l[37]!==void 0&&(C.actual_height=l[37]),l[38]!==void 0&&(C.table_scrollbar_width=l[38]),l[40]!==void 0&&(C.viewport=l[40]),l[41]!==void 0&&(C.show_scroll_button=l[41]),t=new ms({props:C}),ve.push(()=>De(t,"items",f)),ve.push(()=>De(t,"actual_height",o)),ve.push(()=>De(t,"table_scrollbar_width",_)),ve.push(()=>De(t,"viewport",c)),ve.push(()=>De(t,"show_scroll_button",g)),t.$on("scroll_top",Fs),{c(){e=U("div"),ie(t.$$.fragment),this.h()},l(w){e=R(w,"DIV",{class:!0});var q=B(e);_e(t.$$.fragment,q),q.forEach(d),this.h()},h(){h(e,"class","table-wrap svelte-ymqqp")},m(w,q){H(w,e,q),re(t,e,null),u=!0},p(w,q){const b={};q[0]&8192&&(b.max_height=w[13]),q[1]&262144&&(b.selected=w[49]),q[1]&98304&&(b.disable_scroll=w[47]!==null||w[46]!==null),q[0]&8&&(b.label=w[3]),q[0]&256956325|q[1]&7555095|q[4]&6291456|q[5]&1&&(b.$$scope={dirty:q,ctx:w}),!n&&q[1]&16&&(n=!0,b.items=w[35],Ie(()=>n=!1)),!i&&q[1]&64&&(i=!0,b.actual_height=w[37],Ie(()=>i=!1)),!s&&q[1]&128&&(s=!0,b.table_scrollbar_width=w[38],Ie(()=>s=!1)),!r&&q[1]&512&&(r=!0,b.viewport=w[40],Ie(()=>r=!1)),!a&&q[1]&1024&&(a=!0,b.show_scroll_button=w[41],Ie(()=>a=!1)),t.$set(b)},i(w){u||(y(t.$$.fragment,w),u=!0)},o(w){M(t.$$.fragment,w),u=!1},d(w){w&&d(e),se(t)}}}function on(l){let e,t="↑",n,i;return{c(){e=U("button"),e.textContent=t,this.h()},l(s){e=R(s,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-oaisf6"&&(e.textContent=t),this.h()},h(){h(e,"class","scroll-top-button svelte-ymqqp")},m(s,r){H(s,e,r),n||(i=fe(e,"click",l[69]),n=!0)},p:Ce,d(s){s&&d(e),n=!1,i()}}}function un(l){let e,t;return e=new as({props:{on_click:l[111]}}),{c(){ie(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,i){re(e,n,i),t=!0},p:Ce,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function _n(l){var n,i,s,r,a,u,f;let e,t;return e=new ps({props:{x:((n=l[47])==null?void 0:n.x)??((i=l[46])==null?void 0:i.x)??0,y:((s=l[47])==null?void 0:s.y)??((r=l[46])==null?void 0:r.y)??0,row:l[46]?-1:((a=l[47])==null?void 0:a.row)??0,col_count:l[5],row_count:l[6],on_add_row_above:l[112],on_add_row_below:l[113],on_add_column_left:l[114],on_add_column_right:l[115],on_delete_row:l[116],on_delete_col:l[117],editable:l[9],can_delete_rows:!l[46]&&l[26].length>1&&l[9],can_delete_cols:l[26].length>0&&((u=l[26][0])==null?void 0:u.length)>1&&l[9],i18n:l[12],on_sort:l[46]?l[118]:void 0,on_clear_sort:l[46]?l[119]:void 0,sort_direction:l[46]?((f=l[33].sort_state.sort_columns.find(l[120]))==null?void 0:f.direction)??null:null,sort_priority:l[46]&&l[33].sort_state.sort_columns.findIndex(l[121])+1||null,on_filter:l[46]?l[122]:void 0,on_clear_filter:l[46]?l[123]:void 0,filter_active:l[46]?l[33].filter_state.filter_columns.some(l[124]):null}}),{c(){ie(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,_){re(e,o,_),t=!0},p(o,_){var g,C,w,q,b,k,v;const c={};_[1]&98304&&(c.x=((g=o[47])==null?void 0:g.x)??((C=o[46])==null?void 0:C.x)??0),_[1]&98304&&(c.y=((w=o[47])==null?void 0:w.y)??((q=o[46])==null?void 0:q.y)??0),_[1]&98304&&(c.row=o[46]?-1:((b=o[47])==null?void 0:b.row)??0),_[0]&32&&(c.col_count=o[5]),_[0]&64&&(c.row_count=o[6]),_[1]&65536&&(c.on_add_row_above=o[112]),_[1]&65536&&(c.on_add_row_below=o[113]),_[1]&98304&&(c.on_add_column_left=o[114]),_[1]&98304&&(c.on_add_column_right=o[115]),_[1]&65536&&(c.on_delete_row=o[116]),_[1]&98304&&(c.on_delete_col=o[117]),_[0]&512&&(c.editable=o[9]),_[0]&67109376|_[1]&32768&&(c.can_delete_rows=!o[46]&&o[26].length>1&&o[9]),_[0]&67109376&&(c.can_delete_cols=o[26].length>0&&((k=o[26][0])==null?void 0:k.length)>1&&o[9]),_[0]&4096&&(c.i18n=o[12]),_[1]&32768&&(c.on_sort=o[46]?o[118]:void 0),_[1]&32768&&(c.on_clear_sort=o[46]?o[119]:void 0),_[1]&32772&&(c.sort_direction=o[46]?((v=o[33].sort_state.sort_columns.find(o[120]))==null?void 0:v.direction)??null:null),_[1]&32772&&(c.sort_priority=o[46]&&o[33].sort_state.sort_columns.findIndex(o[121])+1||null),_[1]&32768&&(c.on_filter=o[46]?o[122]:void 0),_[1]&32768&&(c.on_clear_filter=o[46]?o[123]:void 0),_[1]&32772&&(c.filter_active=o[46]?o[33].filter_state.filter_columns.some(o[124]):null),e.$set(c)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){M(e.$$.fragment,o),t=!1},d(o){se(e,o)}}}function Rs(l){let e,t,n,i,s,r,a,u,f=[],o=new vt,_,c,g,C,w=[],q=new vt,b,k,v,V,O,N,P,W,I,F,J=(l[3]&&l[3].length!==0&&l[4]||l[18]||l[19]||l[21]!=="none")&&Ql(l),K=l[3]&&l[3].length!==0&&xl(l),Y=l[15]&&$l(),ne=We(l[25]);const ae=p=>p[148];for(let p=0;p<ne.length;p+=1){let S=Gl(l,ne,p),T=ae(S);o.set(T,f[p]=en(T,S))}let ee=l[15]&&tn(),ce=We(l[50]);const be=p=>p[148];for(let p=0;p<ce.length;p+=1){let S=Xl(l,ce,p),T=be(S);q.set(T,w[p]=ln(T,S))}function Ne(p){l[107](p)}let de={upload:l[16],stream_handler:l[17],flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:l[11],aria_label:l[12]("dataframe.drop_to_upload"),$$slots:{default:[Us]},$$scope:{ctx:l}};l[36]!==void 0&&(de.dragging=l[36]),k=new Oi({props:de}),ve.push(()=>De(k,"dragging",Ne)),k.$on("load",l[108]);let te=l[41]&&on(l),L=l[26].length===0&&l[9]&&l[6][1]==="dynamic"&&un(l),A=(l[47]||l[46])&&_n(l);return{c(){e=U("div"),J&&J.c(),t=Z(),n=U("div"),i=U("table"),K&&K.c(),s=Z(),r=U("thead"),a=U("tr"),Y&&Y.c(),u=Z();for(let p=0;p<f.length;p+=1)f[p].c();_=Z(),c=U("tbody"),g=U("tr"),ee&&ee.c(),C=Z();for(let p=0;p<w.length;p+=1)w[p].c();b=Z(),ie(k.$$.fragment),V=Z(),te&&te.c(),O=Z(),L&&L.c(),N=Z(),A&&A.c(),P=pe(),this.h()},l(p){e=R(p,"DIV",{class:!0});var S=B(e);J&&J.l(S),t=x(S),n=R(S,"DIV",{class:!0,role:!0,tabindex:!0});var T=B(n);i=R(T,"TABLE",{"aria-hidden":!0,class:!0});var D=B(i);K&&K.l(D),s=x(D),r=R(D,"THEAD",{class:!0});var Te=B(r);a=R(Te,"TR",{class:!0});var he=B(a);Y&&Y.l(he),u=x(he);for(let He=0;He<f.length;He+=1)f[He].l(he);he.forEach(d),Te.forEach(d),_=x(D),c=R(D,"TBODY",{class:!0});var j=B(c);g=R(j,"TR",{class:!0});var X=B(g);ee&&ee.l(X),C=x(X);for(let He=0;He<w.length;He+=1)w[He].l(X);X.forEach(d),j.forEach(d),D.forEach(d),b=x(T),_e(k.$$.fragment,T),V=x(T),te&&te.l(T),T.forEach(d),S.forEach(d),O=x(p),L&&L.l(p),N=x(p),A&&A.l(p),P=pe(),this.h()},h(){h(a,"class","svelte-ymqqp"),h(r,"class","svelte-ymqqp"),h(g,"class","svelte-ymqqp"),h(c,"class","svelte-ymqqp"),h(i,"aria-hidden","true"),h(i,"class","svelte-ymqqp"),h(n,"class","table-wrap svelte-ymqqp"),h(n,"role","grid"),h(n,"tabindex","0"),$(n,"dragging",l[42]),$(n,"no-wrap",!l[10]),$(n,"menu-open",l[47]||l[46]),h(e,"class","table-container svelte-ymqqp")},m(p,S){H(p,e,S),J&&J.m(e,null),E(e,t),E(e,n),E(n,i),K&&K.m(i,null),E(i,s),E(i,r),E(r,a),Y&&Y.m(a,null),E(a,u);for(let T=0;T<f.length;T+=1)f[T]&&f[T].m(a,null);E(i,_),E(i,c),E(c,g),ee&&ee.m(g,null),E(g,C);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(g,null);l[96](i),E(n,b),re(k,n,null),E(n,V),te&&te.m(n,null),l[109](n),H(p,O,S),L&&L.m(p,S),H(p,N,S),A&&A.m(p,S),H(p,P,S),W=!0,I||(F=[fe(Hs,"resize",l[89]),fe(n,"keydown",l[110]),fe(n,"mousemove",function(){Ge(l[44])&&l[44].apply(this,arguments)}),fe(n,"mouseup",function(){Ge(l[43])&&l[43].apply(this,arguments)}),fe(n,"mouseleave",function(){Ge(l[43])&&l[43].apply(this,arguments)})],I=!0)},p(p,S){l=p,l[3]&&l[3].length!==0&&l[4]||l[18]||l[19]||l[21]!=="none"?J?(J.p(l,S),S[0]&2883608&&y(J,1)):(J=Ql(l),J.c(),y(J,1),J.m(e,t)):J&&(me(),M(J,1,1,()=>{J=null}),ge()),l[3]&&l[3].length!==0?K?K.p(l,S):(K=xl(l),K.c(),K.m(i,s)):K&&(K.d(1),K=null),l[15]?Y?S[0]&32768&&y(Y,1):(Y=$l(),Y.c(),y(Y,1),Y.m(a,u)):Y&&(me(),M(Y,1,1,()=>{Y=null}),ge()),S[0]&122704549|S[1]&1617952772|S[2]&1032&&(ne=We(l[25]),me(),f=ft(f,S,ae,1,l,ne,o,a,ct,en,null,Gl),ge()),l[15]?ee?S[0]&32768&&y(ee,1):(ee=tn(),ee.c(),y(ee,1),ee.m(g,C)):ee&&(me(),M(ee,1,1,()=>{ee=null}),ge()),S[0]&268456580|S[1]&17303809|S[2]&4&&(ce=We(l[50]),me(),w=ft(w,S,be,1,l,ce,q,g,ct,ln,null,Xl),ge());const T={};S[0]&65536&&(T.upload=l[16]),S[0]&131072&&(T.stream_handler=l[17]),S[0]&2048&&(T.root=l[11]),S[0]&4096&&(T.aria_label=l[12]("dataframe.drop_to_upload")),S[0]&256964525|S[1]&7851735|S[5]&1&&(T.$$scope={dirty:S,ctx:l}),!v&&S[1]&32&&(v=!0,T.dragging=l[36],Ie(()=>v=!1)),k.$set(T),l[41]?te?te.p(l,S):(te=on(l),te.c(),te.m(n,null)):te&&(te.d(1),te=null),(!W||S[1]&2048)&&$(n,"dragging",l[42]),(!W||S[0]&1024)&&$(n,"no-wrap",!l[10]),(!W||S[1]&98304)&&$(n,"menu-open",l[47]||l[46]),l[26].length===0&&l[9]&&l[6][1]==="dynamic"?L?(L.p(l,S),S[0]&67109440&&y(L,1)):(L=un(l),L.c(),y(L,1),L.m(N.parentNode,N)):L&&(me(),M(L,1,1,()=>{L=null}),ge()),l[47]||l[46]?A?(A.p(l,S),S[1]&98304&&y(A,1)):(A=_n(l),A.c(),y(A,1),A.m(P.parentNode,P)):A&&(me(),M(A,1,1,()=>{A=null}),ge())},i(p){if(!W){y(J),y(Y);for(let S=0;S<ne.length;S+=1)y(f[S]);y(ee);for(let S=0;S<ce.length;S+=1)y(w[S]);y(k.$$.fragment,p),y(L),y(A),W=!0}},o(p){M(J),M(Y);for(let S=0;S<f.length;S+=1)M(f[S]);M(ee);for(let S=0;S<w.length;S+=1)M(w[S]);M(k.$$.fragment,p),M(L),M(A),W=!1},d(p){p&&(d(e),d(O),d(N),d(P)),J&&J.d(),K&&K.d(),Y&&Y.d();for(let S=0;S<f.length;S+=1)f[S].d();ee&&ee.d();for(let S=0;S<w.length;S+=1)w[S].d();l[96](null),se(k),te&&te.d(),l[109](null),L&&L.d(p),A&&A.d(p),I=!1,Qe(F)}}}function nt(){return Math.random().toString(36).substring(2,15)}function Wt(l){return`var(--cell-width-${l})`}const Fs=l=>{};function Js(l,e,t){let n,i,s,r,a,u,f,o,_,c,g,C,w,q,b,{datatype:k}=e,{label:v=null}=e,{show_label:V=!0}=e,{headers:O=[]}=e,{values:N=[]}=e,{col_count:P}=e,{row_count:W}=e,{latex_delimiters:I}=e,{components:F={}}=e,{editable:J=!0}=e,{wrap:K=!1}=e,{root:Y}=e,{i18n:ne}=e,{max_height:ae=500}=e,{line_breaks:ee=!0}=e,{column_widths:ce=[]}=e,{show_row_numbers:be=!1}=e,{upload:Ne}=e,{stream_handler:de}=e,{show_fullscreen_button:te=!1}=e,{show_copy_button:L=!1}=e,{value_is_output:A=!1}=e,{max_chars:p=void 0}=e,{show_search:S="none"}=e,{pinned_columns:T=0}=e,{static_columns:D=[]}=e,{fullscreen:Te=!1}=e;const he=rr({show_fullscreen_button:te,show_copy_button:L,show_search:S,show_row_numbers:be,editable:J,pinned_columns:T,show_label:V,line_breaks:ee,wrap:K,max_height:ae,column_widths:ce,max_chars:p,static_columns:D}),{state:j,actions:X}=he;Ei(l,j,m=>t(33,b=m)),_t(()=>{t(34,he.parent_element=ye,he),t(34,he.get_data_at=kn,he),t(34,he.get_column=vn,he),t(34,he.get_row=pn,he),t(34,he.dispatch=He,he),rl();const m=new IntersectionObserver(G=>{G.forEach(le=>{le.isIntersecting&&!$t&&t(85,tt=!1),$t=le.isIntersecting})});m.observe(ye),document.addEventListener("click",xt),window.addEventListener("resize",nl);const z=G=>{(ot||zt)&&q(G)};return document.addEventListener("mouseup",z),()=>{m.disconnect(),document.removeEventListener("click",xt),window.removeEventListener("resize",nl),document.removeEventListener("mouseup",z)}});const He=pt();let we={},Et={},Le=kt(O,P,we,nt),st=O,Q=[[]],Je,Re=[[]],Nt=!1,Yt,it=[];_t(()=>{Yt=getComputedStyle(document.documentElement).getPropertyValue("--color-accent").trim()+"40",document.documentElement.style.setProperty("--color-accent-copied",Yt)});const kn=(m,z)=>{var G,le;return(le=(G=Q==null?void 0:Q[m])==null?void 0:G[z])==null?void 0:le.value},vn=m=>(Q==null?void 0:Q.map(z=>{var G;return(G=z[m])==null?void 0:G.value}))??[],pn=m=>{var z;return((z=Q==null?void 0:Q[m])==null?void 0:z.map(G=>G.value))??[]};let{display_value:Fe=null}=e,{styling:Ue=null}=e,Tt=Le.map(m=>m.value),Ct=Q.map(m=>m.map(z=>z.value));function Xt(m,z){X.handle_sort(m,z),dt(Q,Fe,Ue)}function Gt(){X.reset_sort_state(),dt(Q,Fe,Ue)}function Qt(m,z,G,le){X.handle_filter(m,z,G,le),mt(Q,Fe,Ue)}function Zt(){X.reset_filter_state(),mt(Q,Fe,Ue)}async function yn(m,z=!1){!J||r===m||P[1]!=="dynamic"||X.set_header_edit(m)}function En(m,z){m.target instanceof HTMLAnchorElement||(m.preventDefault(),m.stopPropagation(),J&&(X.set_editing(!1),X.handle_header_click(z,J),ye.focus()))}function Nn(m){J&&(X.end_header_edit(m.detail.key),ye.focus())}async function At(m){var G;if(ye.focus(),W[1]!=="dynamic")return;const z=Array(((G=Q[0])==null?void 0:G.length)||O.length).fill(0).map((le,Ae)=>{const Me=nt();return t(24,we[Me]={cell:null,input:null},we),{id:Me,value:""}});Q.length===0?t(26,Q=[z]):m!==void 0&&m>=0&&m<=Q.length?Q.splice(m,0,z):Q.push(z),t(88,i=[m!==void 0?m:Q.length-1,0])}async function Tn(m){if(ye.focus(),P[1]!=="dynamic")return;const z=X.add_col(Q,O,nt,m);z.data.forEach(G=>{G.forEach(le=>{we[le.id]||t(24,we[le.id]={cell:null,input:null},we)})}),t(26,Q=z.data),t(0,O=z.headers),await rt(),requestAnimationFrame(()=>{yn(m!==void 0?m:Q[0].length-1,!0);const G=ye.querySelectorAll("tbody")[1].offsetWidth;ye.querySelectorAll("table")[1].scrollTo({left:G})})}function xt(m){tr(m,ye)&&(X.clear_ui_state(),t(52,r=!1),t(51,a=!1))}let St,tt=!1,Ze=[],ye,ht,Bt=0,qt=0;function at(){var G;const m=((G=Q[0])==null?void 0:G.length)||0;if(b.filter_state.filter_columns.length>0||Bt===Q.length&&qt===m&&b.sort_state.sort_columns.length>0||!ye)return;Bt=Q.length,qt=m;const z=Ze.map(le=>(le==null?void 0:le.clientWidth)||0);if(z.length!==0){be&&ye.style.setProperty("--cell-width-row-number",`${z[0]}px`);for(let le=0;le<50;le++)if(!ce[le])ye.style.removeProperty(`--cell-width-${le}`);else if(ce[le].endsWith("%")){const Ae=parseFloat(ce[le]),Me=Math.floor(Ae/100*ye.clientWidth);ye.style.setProperty(`--cell-width-${le}`,`${Me}px`)}else ye.style.setProperty(`--cell-width-${le}`,ce[le]);z.forEach((le,Ae)=>{if(!ce[Ae]){const Me=`${Math.max(le,45)}px`;ye.style.setProperty(`--cell-width-${Ae}`,Me)}})}}let Mt=N.slice(0,ae/N.length*37).length*37+37,Dt=0;function dt(m,z,G){const le=Pi(m,z,G,b.sort_state.sort_columns,i,cl);t(26,Q=le.data),t(88,i=le.selected)}function mt(m,z,G){var Ae,Me,Ee;const le=Ri(m,z,G,b.filter_state.filter_columns,i,cl,(Ae=b.filter_state.initial_data)==null?void 0:Ae.data,(Me=b.filter_state.initial_data)==null?void 0:Me.display_value,(Ee=b.filter_state.initial_data)==null?void 0:Ee.styling);t(26,Q=le.data),t(88,i=le.selected)}let $t=!1;const Cn=m=>{X.set_copy_flash(m)};let It=[];function An(m){const{blur_event:z,coords:G}=m.detail;Bs(z,he,G)}function Sn(m,z){if(m.stopPropagation(),f&&f.col===z)X.set_active_header_menu(null);else{const G=m.target.closest("th");if(G){const le=G.getBoundingClientRect();X.set_active_header_menu({col:z,x:le.right,y:le.bottom})}}}Ni(()=>{t(74,A=!1)});function el(m){if(P[1]!=="dynamic"||Q[0].length<=1)return;const z=X.delete_col_at(Q,O,m);t(26,Q=z.data),t(0,O=z.headers),t(25,Le=kt(O,P,we,nt)),X.set_active_cell_menu(null),X.set_active_header_menu(null),X.set_selected(!1),X.set_selected_cells([]),X.set_editing(!1)}function tl(m){t(26,Q=X.delete_row_at(Q,m)),X.set_active_cell_menu(null),X.set_active_header_menu(null)}let ll;function Bn(){if(b.current_search_query&&S==="filter"){const m=[],z=[],G=[];Re.forEach(Ae=>{const Me=[],Ee=[],lt=[];Ae.forEach(xe=>{Me.push(xe.value),Ee.push(xe.display_value!==void 0?xe.display_value:String(xe.value)),lt.push(xe.styling||"")}),m.push(Me),z.push(Ee),G.push(lt)});const le={data:m,headers:Le.map(Ae=>Ae.value),metadata:{display_value:z,styling:G}};He("change",le),A||He("input"),X.handle_search(null)}}let gt,Lt=!1;function qn(){gt.scrollTo({top:0})}function nl(){X.set_active_cell_menu(null),X.set_active_header_menu(null),t(31,n=[]),t(88,i=!1),t(48,s=!1),t(85,tt=!1),at()}function Ot(m,z){const G=z==="above"?m:m+1;At(G),t(47,u=null),t(46,f=null)}function jt(m,z){const G=z==="left"?m:m+1;Tn(G),t(47,u=null),t(46,f=null)}function Mn(){X.reset_sort_state()}function Dn(m,z){t(26,Q=Q.map(G=>{const le=[...G];return le[m]&&(le[m]={...le[m],value:z.toString()}),le}))}let ot=!1,zt=null,il=null;const bt={is_dragging:ot,drag_start:zt,mouse_down_pos:il};let Ye;function rl(){t(87,Ye=zs(bt,m=>t(42,ot=m),m=>X.set_selected_cells(m),m=>X.set_selected(m),(m,z,G)=>X.handle_cell_click(m,z,G),be,ye))}function In(m,z){var le,Ae;return b.current_search_query!==void 0&&((le=Re==null?void 0:Re[m])!=null&&le[z])?Re[m][z].display_value!==void 0?Re[m][z].display_value:String(Re[m][z].value):(Ae=Q==null?void 0:Q[m])!=null&&Ae[z]?Q[m][z].display_value!==void 0?Q[m][z].display_value:String(Q[m][z].value):""}const Ln=()=>at(),On=async()=>await dn(Q,null),jn=m=>X.handle_search(m.detail);function zn(m){$e.call(this,l,m)}function Hn(m,z){l.$$.not_equal(Le[z].value,m)&&(Le[z].value=m,t(25,Le),t(0,O),t(80,st),t(5,P),t(24,we))}function Vn(m,z){l.$$.not_equal(we[z].input,m)&&(we[z].input=m,t(24,we))}function Pn(m,z){ve[m?"unshift":"push"](()=>{Ze[z]=m,t(28,Ze)})}function Un(m){ve[m?"unshift":"push"](()=>{ht=m,t(30,ht)})}const Rn=(m,z,G)=>C(m,z,G);function Fn(m,z,G){l.$$.not_equal(Re[z][G].value,m)&&(Re[z][G].value=m,t(35,Re),t(33,b),t(26,Q),t(27,it),t(78,Ue),t(1,N),t(81,Je),t(29,ye),t(24,we),t(132,Et),t(77,Fe),t(2,k),t(28,Ze))}function Jn(m,z){l.$$.not_equal(we[z],m)&&(we[z]=m,t(24,we))}function Kn(m,z){l.$$.not_equal(Le[z].value,m)&&(Le[z].value=m,t(25,Le),t(0,O),t(80,st),t(5,P),t(24,we))}function Wn(m,z){l.$$.not_equal(we[z].input,m)&&(we[z].input=m,t(24,we))}function Yn(m){Re=m,t(35,Re),t(33,b),t(26,Q),t(27,it),t(78,Ue),t(1,N),t(81,Je),t(29,ye),t(24,we),t(132,Et),t(77,Fe),t(2,k),t(28,Ze)}function Xn(m){Mt=m,t(37,Mt)}function Gn(m){Dt=m,t(38,Dt)}function Qn(m){gt=m,t(40,gt)}function Zn(m){Lt=m,t(41,Lt)}function xn(m){Nt=m,t(36,Nt)}const $n=({detail:m})=>Yi(m.data,z=>(t(25,Le=kt(z.map(G=>G??""),P,we,nt)),Le),z=>{t(1,N=z)});function ei(m){ve[m?"unshift":"push"](()=>{ye=m,t(29,ye)})}const ti=m=>js(m,he),li=()=>At(),ni=()=>Ot((u==null?void 0:u.row)??-1,"above"),ii=()=>Ot((u==null?void 0:u.row)??-1,"below"),ri=()=>jt((u==null?void 0:u.col)??(f==null?void 0:f.col)??-1,"left"),si=()=>jt((u==null?void 0:u.col)??(f==null?void 0:f.col)??-1,"right"),ai=()=>tl((u==null?void 0:u.row)??-1),oi=()=>el((u==null?void 0:u.col)??(f==null?void 0:f.col)??-1),ui=m=>{f&&(Xt(f.col,m),X.set_active_header_menu(null))},_i=()=>{Gt(),X.set_active_header_menu(null)},fi=m=>m.col===((f==null?void 0:f.col)??-1),ci=m=>m.col===((f==null?void 0:f.col)??-1),hi=(m,z,G)=>{f&&(Qt(f.col,m,z,G),X.set_active_header_menu(null))},di=()=>{Zt(),X.set_active_header_menu(null)},mi=m=>m.col===((f==null?void 0:f.col)??-1);return l.$$set=m=>{"datatype"in m&&t(2,k=m.datatype),"label"in m&&t(3,v=m.label),"show_label"in m&&t(4,V=m.show_label),"headers"in m&&t(0,O=m.headers),"values"in m&&t(1,N=m.values),"col_count"in m&&t(5,P=m.col_count),"row_count"in m&&t(6,W=m.row_count),"latex_delimiters"in m&&t(7,I=m.latex_delimiters),"components"in m&&t(8,F=m.components),"editable"in m&&t(9,J=m.editable),"wrap"in m&&t(10,K=m.wrap),"root"in m&&t(11,Y=m.root),"i18n"in m&&t(12,ne=m.i18n),"max_height"in m&&t(13,ae=m.max_height),"line_breaks"in m&&t(14,ee=m.line_breaks),"column_widths"in m&&t(75,ce=m.column_widths),"show_row_numbers"in m&&t(15,be=m.show_row_numbers),"upload"in m&&t(16,Ne=m.upload),"stream_handler"in m&&t(17,de=m.stream_handler),"show_fullscreen_button"in m&&t(18,te=m.show_fullscreen_button),"show_copy_button"in m&&t(19,L=m.show_copy_button),"value_is_output"in m&&t(74,A=m.value_is_output),"max_chars"in m&&t(20,p=m.max_chars),"show_search"in m&&t(21,S=m.show_search),"pinned_columns"in m&&t(76,T=m.pinned_columns),"static_columns"in m&&t(22,D=m.static_columns),"fullscreen"in m&&t(23,Te=m.fullscreen),"display_value"in m&&t(77,Fe=m.display_value),"styling"in m&&t(78,Ue=m.styling)},l.$$.update=()=>{var m,z;if(l.$$.dirty[1]&4&&t(31,n=b.ui_state.selected_cells),l.$$.dirty[1]&4&&t(88,i=b.ui_state.selected),l.$$.dirty[1]&4&&t(48,s=b.ui_state.editing),l.$$.dirty[1]&4&&t(52,r=b.ui_state.header_edit),l.$$.dirty[1]&4&&t(51,a=b.ui_state.selected_header),l.$$.dirty[1]&4&&t(47,u=b.ui_state.active_cell_menu),l.$$.dirty[1]&4&&t(46,f=b.ui_state.active_header_menu),l.$$.dirty[1]&4&&t(32,o=b.ui_state.copy_flash),l.$$.dirty[0]&889192454|l.$$.dirty[1]&4|l.$$.dirty[2]&622592&&!ut(N,Je)){if(ye){const Ae=N.length===0||N.length===1&&N[0].length===0,Me=Je!==void 0&&(N.length!==Je.length||N[0]&&Je[0]&&N[0].length!==Je[0].length);if(Ae||Me){for(let Ee=0;Ee<50;Ee++)ye.style.removeProperty(`--cell-width-${Ee}`);Bt=0,qt=0,t(85,tt=!1)}}const G=N.length===0||N.length===1&&N[0].length===0,le=Je!==void 0&&(N.length!==Je.length||N[0]&&Je[0]&&N[0].length!==Je[0].length);t(26,Q=Ss(N,we,Et,nt,Fe,k)),t(81,Je=JSON.parse(JSON.stringify(N))),G||le?X.reset_sort_state():b.sort_state.sort_columns.length>0?dt(Q,Fe,Ue):(X.handle_sort(-1,"asc"),X.reset_sort_state()),b.filter_state.filter_columns.length>0?mt(Q,Fe,Ue):X.reset_filter_state(),b.current_search_query&&X.handle_search(null),ye&&Ze.length>0&&(G||le)&&t(85,tt=!1)}if(l.$$.dirty[0]&67108864|l.$$.dirty[2]&16384&&t(53,_=T&&((m=Q==null?void 0:Q[0])!=null&&m.length)?Math.min(T,Q[0].length):0),l.$$.dirty[0]&16777249|l.$$.dirty[2]&262144&&(ut(O,st)||(t(25,Le=kt(O,P,we,nt)),t(80,st=JSON.parse(JSON.stringify(O))))),l.$$.dirty[0]&117440512|l.$$.dirty[2]&98304&&(Q||Le||we)&&(t(34,he.data=Q,he),t(34,he.headers=Le,he),t(34,he.els=we,he),t(34,he.display_value=Fe,he),t(34,he.styling=Ue,he)),l.$$.dirty[0]&201326592|l.$$.dirty[1]&4|l.$$.dirty[2]&65536)if(b.current_search_query!==void 0){const G=new Map;t(27,it=[]),Q.forEach((Ae,Me)=>{Ae.some(Ee=>{var lt;return String(Ee==null?void 0:Ee.value).toLowerCase().includes(((lt=b.current_search_query)==null?void 0:lt.toLowerCase())||"")})&&it.push(Me),Ae.forEach((Ee,lt)=>{var xe;G.set(Ee.id,{value:Ee.value,display_value:Ee.display_value!==void 0?Ee.display_value:String(Ee.value),styling:((xe=Ue==null?void 0:Ue[Me])==null?void 0:xe[lt])||""})})});const le=X.filter_data(Q);t(35,Re=le.map(Ae=>Ae.map(Me=>{const Ee=G.get(Me.id);return{...Me,display_value:(Ee==null?void 0:Ee.display_value)!==void 0?Ee.display_value:String(Me.value),styling:(Ee==null?void 0:Ee.styling)||""}})))}else t(27,it=[]);if(l.$$.dirty[0]&100663296|l.$$.dirty[2]&3149824&&(Q||Le)&&(X.trigger_change(Q,Le,Ct,Tt,A,He),t(83,Ct=Q.map(G=>G.map(le=>le.value))),t(82,Tt=Le.map(G=>G.value))),l.$$.dirty[0]&67108864|l.$$.dirty[1]&4|l.$$.dirty[2]&98304&&(b.filter_state.filter_columns.length>0&&mt(Q,Fe,Ue),b.sort_state.sort_columns.length>0&&(dt(Q,Fe,Ue),X.update_row_order(Q))),l.$$.dirty[0]&67108864&&t(50,c=Fi(Q)),l.$$.dirty[0]&268435456|l.$$.dirty[2]&4194304&&Ze[0]&&(z=Ze[0])!=null&&z.clientWidth&&(clearTimeout(St),t(84,St=setTimeout(()=>at(),100))),l.$$.dirty[0]&268435456|l.$$.dirty[2]&8388608&&Ze[0]&&!tt&&(at(),t(85,tt=!0)),l.$$.dirty[2]&67108864&&t(49,g=!!i&&i[0]),l.$$.dirty[1]&3|l.$$.dirty[2]&16777216&&(o&&!ut(n,It)&&Cn(!1),t(86,It=n)),l.$$.dirty[2]&67108864&&i!==!1&&t(39,ll=i),l.$$.dirty[0]&1694498816|l.$$.dirty[2]&67108864&&i!==!1){const G=lr(i,Q,we,ye,ht);document.documentElement.style.setProperty("--selected-col-pos",G.col_pos),document.documentElement.style.setProperty("--selected-row-pos",G.row_pos||"0px")}l.$$.dirty[0]&536870912&&ye&&rl(),l.$$.dirty[2]&33554432&&t(45,C=(Ye==null?void 0:Ye.handle_mouse_down)||(()=>{})),l.$$.dirty[2]&33554432&&t(44,w=(Ye==null?void 0:Ye.handle_mouse_move)||(()=>{})),l.$$.dirty[2]&33554432&&t(43,q=(Ye==null?void 0:Ye.handle_mouse_up)||(()=>{}))},t(42,ot=bt.is_dragging),zt=bt.drag_start,il=bt.mouse_down_pos,[O,N,k,v,V,P,W,I,F,J,K,Y,ne,ae,ee,be,Ne,de,te,L,p,S,D,Te,we,Le,Q,it,Ze,ye,ht,n,o,b,he,Re,Nt,Mt,Dt,ll,gt,Lt,ot,q,w,C,f,u,s,g,c,a,r,_,j,X,Xt,Gt,Qt,Zt,En,Nn,At,at,An,Sn,el,tl,Bn,qn,Ot,jt,Dn,In,A,ce,T,Fe,Ue,Mn,st,Je,Tt,Ct,St,tt,It,Ye,i,Ln,On,jn,zn,Hn,Vn,Pn,Un,Rn,Fn,Jn,Kn,Wn,Yn,Xn,Gn,Qn,Zn,xn,$n,ei,ti,li,ni,ii,ri,si,ai,oi,ui,_i,fi,ci,hi,di,mi]}class Ks extends Oe{constructor(e){super(),je(this,e,Js,Rs,ze,{datatype:2,label:3,show_label:4,headers:0,values:1,col_count:5,row_count:6,latex_delimiters:7,components:8,editable:9,wrap:10,root:11,i18n:12,max_height:13,line_breaks:14,column_widths:75,show_row_numbers:15,upload:16,stream_handler:17,show_fullscreen_button:18,show_copy_button:19,value_is_output:74,max_chars:20,show_search:21,pinned_columns:76,static_columns:22,fullscreen:23,display_value:77,styling:78,reset_sort_state:79},null,[-1,-1,-1,-1,-1,-1])}get reset_sort_state(){return this.$$.ctx[79]}}const Ws=Ks;function Ys(l){var o,_;let e,t,n,i,s;const r=[{autoscroll:l[17].autoscroll},{i18n:l[17].i18n},l[20]];let a={};for(let c=0;c<r.length;c+=1)a=Ci(a,r[c]);e=new Ii({props:a}),e.$on("clear_status",l[29]);function u(c){l[32](c)}let f={root:l[14],label:l[8],show_label:l[9],row_count:l[7],col_count:l[6],values:l[0].data,display_value:(o=l[0].metadata)==null?void 0:o.display_value,styling:(_=l[0].metadata)==null?void 0:_.styling,headers:l[0].headers,fullscreen:l[2],wrap:l[10],datatype:l[11],latex_delimiters:l[18],editable:l[21],max_height:l[19],i18n:l[17].i18n,line_breaks:l[15],column_widths:l[16],upload:l[30],stream_handler:l[31],show_fullscreen_button:l[22],max_chars:l[23],show_copy_button:l[24],show_row_numbers:l[25],show_search:l[26],pinned_columns:l[27],components:{image:Hi},static_columns:l[28]};return l[1]!==void 0&&(f.value_is_output=l[1]),n=new Ws({props:f}),ve.push(()=>De(n,"value_is_output",u)),n.$on("change",l[33]),n.$on("input",l[34]),n.$on("select",l[35]),n.$on("edit",l[36]),n.$on("fullscreen",l[37]),{c(){ie(e.$$.fragment),t=Z(),ie(n.$$.fragment)},l(c){_e(e.$$.fragment,c),t=x(c),_e(n.$$.fragment,c)},m(c,g){re(e,c,g),H(c,t,g),re(n,c,g),s=!0},p(c,g){var q,b;const C=g[0]&1179648?Ai(r,[g[0]&131072&&{autoscroll:c[17].autoscroll},g[0]&131072&&{i18n:c[17].i18n},g[0]&1048576&&Si(c[20])]):{};e.$set(C);const w={};g[0]&16384&&(w.root=c[14]),g[0]&256&&(w.label=c[8]),g[0]&512&&(w.show_label=c[9]),g[0]&128&&(w.row_count=c[7]),g[0]&64&&(w.col_count=c[6]),g[0]&1&&(w.values=c[0].data),g[0]&1&&(w.display_value=(q=c[0].metadata)==null?void 0:q.display_value),g[0]&1&&(w.styling=(b=c[0].metadata)==null?void 0:b.styling),g[0]&1&&(w.headers=c[0].headers),g[0]&4&&(w.fullscreen=c[2]),g[0]&1024&&(w.wrap=c[10]),g[0]&2048&&(w.datatype=c[11]),g[0]&262144&&(w.latex_delimiters=c[18]),g[0]&2097152&&(w.editable=c[21]),g[0]&524288&&(w.max_height=c[19]),g[0]&131072&&(w.i18n=c[17].i18n),g[0]&32768&&(w.line_breaks=c[15]),g[0]&65536&&(w.column_widths=c[16]),g[0]&131072&&(w.upload=c[30]),g[0]&131072&&(w.stream_handler=c[31]),g[0]&4194304&&(w.show_fullscreen_button=c[22]),g[0]&8388608&&(w.max_chars=c[23]),g[0]&16777216&&(w.show_copy_button=c[24]),g[0]&33554432&&(w.show_row_numbers=c[25]),g[0]&67108864&&(w.show_search=c[26]),g[0]&134217728&&(w.pinned_columns=c[27]),g[0]&268435456&&(w.static_columns=c[28]),!i&&g[0]&2&&(i=!0,w.value_is_output=c[1],Ie(()=>i=!1)),n.$set(w)},i(c){s||(y(e.$$.fragment,c),y(n.$$.fragment,c),s=!0)},o(c){M(e.$$.fragment,c),M(n.$$.fragment,c),s=!1},d(c){c&&d(t),se(e,c),se(n,c)}}}function Xs(l){let e,t,n;function i(r){l[38](r)}let s={visible:l[5],padding:!1,elem_id:l[3],elem_classes:l[4],container:!1,scale:l[12],min_width:l[13],overflow_behavior:"visible",$$slots:{default:[Ys]},$$scope:{ctx:l}};return l[2]!==void 0&&(s.fullscreen=l[2]),e=new Di({props:s}),ve.push(()=>De(e,"fullscreen",i)),{c(){ie(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,a){re(e,r,a),n=!0},p(r,a){const u={};a[0]&32&&(u.visible=r[5]),a[0]&8&&(u.elem_id=r[3]),a[0]&16&&(u.elem_classes=r[4]),a[0]&4096&&(u.scale=r[12]),a[0]&8192&&(u.min_width=r[13]),a[0]&536858567|a[1]&256&&(u.$$scope={dirty:a,ctx:r}),!t&&a[0]&4&&(t=!0,u.fullscreen=r[2],Ie(()=>t=!1)),e.$set(u)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){M(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Gs(l,e,t){let{elem_id:n=""}=e,{elem_classes:i=[]}=e,{visible:s=!0}=e,{value:r={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,{value_is_output:a=!1}=e,{col_count:u}=e,{row_count:f}=e,{label:o=null}=e,{show_label:_=!0}=e,{wrap:c}=e,{datatype:g}=e,{scale:C=null}=e,{min_width:w=void 0}=e,{root:q}=e,{line_breaks:b=!0}=e,{column_widths:k=[]}=e,{gradio:v}=e,{latex_delimiters:V}=e,{max_height:O=void 0}=e,{loading_status:N}=e,{interactive:P}=e,{show_fullscreen_button:W=!1}=e,{max_chars:I=void 0}=e,{show_copy_button:F=!1}=e,{show_row_numbers:J=!1}=e,{show_search:K="none"}=e,{pinned_columns:Y=0}=e,{static_columns:ne=[]}=e,{fullscreen:ae=!1}=e;const ee=()=>v.dispatch("clear_status",N),ce=(...T)=>v.client.upload(...T),be=(...T)=>v.client.stream(...T);function Ne(T){a=T,t(1,a)}const de=T=>{t(0,r.data=T.detail.data,r),t(0,r.headers=T.detail.headers,r),v.dispatch("change")},te=T=>v.dispatch("input"),L=T=>v.dispatch("select",T.detail),A=T=>v.dispatch("edit",T.detail),p=({detail:T})=>{t(2,ae=T)};function S(T){ae=T,t(2,ae)}return l.$$set=T=>{"elem_id"in T&&t(3,n=T.elem_id),"elem_classes"in T&&t(4,i=T.elem_classes),"visible"in T&&t(5,s=T.visible),"value"in T&&t(0,r=T.value),"value_is_output"in T&&t(1,a=T.value_is_output),"col_count"in T&&t(6,u=T.col_count),"row_count"in T&&t(7,f=T.row_count),"label"in T&&t(8,o=T.label),"show_label"in T&&t(9,_=T.show_label),"wrap"in T&&t(10,c=T.wrap),"datatype"in T&&t(11,g=T.datatype),"scale"in T&&t(12,C=T.scale),"min_width"in T&&t(13,w=T.min_width),"root"in T&&t(14,q=T.root),"line_breaks"in T&&t(15,b=T.line_breaks),"column_widths"in T&&t(16,k=T.column_widths),"gradio"in T&&t(17,v=T.gradio),"latex_delimiters"in T&&t(18,V=T.latex_delimiters),"max_height"in T&&t(19,O=T.max_height),"loading_status"in T&&t(20,N=T.loading_status),"interactive"in T&&t(21,P=T.interactive),"show_fullscreen_button"in T&&t(22,W=T.show_fullscreen_button),"max_chars"in T&&t(23,I=T.max_chars),"show_copy_button"in T&&t(24,F=T.show_copy_button),"show_row_numbers"in T&&t(25,J=T.show_row_numbers),"show_search"in T&&t(26,K=T.show_search),"pinned_columns"in T&&t(27,Y=T.pinned_columns),"static_columns"in T&&t(28,ne=T.static_columns),"fullscreen"in T&&t(2,ae=T.fullscreen)},[r,a,ae,n,i,s,u,f,o,_,c,g,C,w,q,b,k,v,V,O,N,P,W,I,F,J,K,Y,ne,ee,ce,be,Ne,de,te,L,A,p,S]}class aa extends Oe{constructor(e){super(),je(this,e,Gs,Xs,ze,{elem_id:3,elem_classes:4,visible:5,value:0,value_is_output:1,col_count:6,row_count:7,label:8,show_label:9,wrap:10,datatype:11,scale:12,min_width:13,root:14,line_breaks:15,column_widths:16,gradio:17,latex_delimiters:18,max_height:19,loading_status:20,interactive:21,show_fullscreen_button:22,max_chars:23,show_copy_button:24,show_row_numbers:25,show_search:26,pinned_columns:27,static_columns:28,fullscreen:2},null,[-1,-1])}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),ke()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),ke()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),ke()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),ke()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),ke()}get col_count(){return this.$$.ctx[6]}set col_count(e){this.$$set({col_count:e}),ke()}get row_count(){return this.$$.ctx[7]}set row_count(e){this.$$set({row_count:e}),ke()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),ke()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),ke()}get wrap(){return this.$$.ctx[10]}set wrap(e){this.$$set({wrap:e}),ke()}get datatype(){return this.$$.ctx[11]}set datatype(e){this.$$set({datatype:e}),ke()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),ke()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),ke()}get root(){return this.$$.ctx[14]}set root(e){this.$$set({root:e}),ke()}get line_breaks(){return this.$$.ctx[15]}set line_breaks(e){this.$$set({line_breaks:e}),ke()}get column_widths(){return this.$$.ctx[16]}set column_widths(e){this.$$set({column_widths:e}),ke()}get gradio(){return this.$$.ctx[17]}set gradio(e){this.$$set({gradio:e}),ke()}get latex_delimiters(){return this.$$.ctx[18]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),ke()}get max_height(){return this.$$.ctx[19]}set max_height(e){this.$$set({max_height:e}),ke()}get loading_status(){return this.$$.ctx[20]}set loading_status(e){this.$$set({loading_status:e}),ke()}get interactive(){return this.$$.ctx[21]}set interactive(e){this.$$set({interactive:e}),ke()}get show_fullscreen_button(){return this.$$.ctx[22]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),ke()}get max_chars(){return this.$$.ctx[23]}set max_chars(e){this.$$set({max_chars:e}),ke()}get show_copy_button(){return this.$$.ctx[24]}set show_copy_button(e){this.$$set({show_copy_button:e}),ke()}get show_row_numbers(){return this.$$.ctx[25]}set show_row_numbers(e){this.$$set({show_row_numbers:e}),ke()}get show_search(){return this.$$.ctx[26]}set show_search(e){this.$$set({show_search:e}),ke()}get pinned_columns(){return this.$$.ctx[27]}set pinned_columns(e){this.$$set({pinned_columns:e}),ke()}get static_columns(){return this.$$.ctx[28]}set static_columns(e){this.$$set({static_columns:e}),ke()}get fullscreen(){return this.$$.ctx[2]}set fullscreen(e){this.$$set({fullscreen:e}),ke()}}export{Ws as BaseDataFrame,_a as BaseExample,aa as default};
//# sourceMappingURL=Index.C2hLITrf.js.map
