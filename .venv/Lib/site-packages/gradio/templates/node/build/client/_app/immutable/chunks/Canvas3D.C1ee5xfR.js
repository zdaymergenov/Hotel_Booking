const __vite__fileDeps=["./index.BoI39RQH.js","./preload-helper.D6kgxu3v.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as v}from"./preload-helper.D6kgxu3v.js";import{SvelteComponent as z,init as E,safe_not_equal as O,element as R,claim_element as S,children as x,detach as A,insert_hydration as D,noop as y,onMount as L,binding_callbacks as k}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";function B(r){let t;return{c(){t=R("canvas")},l(i){t=S(i,"CANVAS",{}),x(t).forEach(A)},m(i,l){D(i,t,l),r[11](t)},p:y,i:y,o:y,d(i){i&&A(t),r[11](null)}}}function N(r,t,i){let l,p,{value:d}=t,{display_mode:c}=t,{clear_color:_}=t,{camera_position:m}=t,{zoom_speed:f}=t,{pan_speed:h}=t,u,o,s,b=!1;L(()=>((async()=>{p=await v(()=>import("./index.BoI39RQH.js").then(n=>n.bY),__vite__mapDeps([0,1]),import.meta.url),p.createViewerForCanvas(u,{clearColor:_,useRightHandedSystem:!0,animationAutoPlay:!0,cameraAutoOrbit:{enabled:!1},onInitialized:n=>{s=n}}).then(n=>{o=n,i(9,b=!0)})})(),()=>{o==null||o.dispose()}));function C(e,n){s.scene.forcePointsCloud=e,s.scene.forceWireframe=n}function P(e){o&&(e?o.loadModel(e,{pluginOptions:{obj:{importVertexColors:!0}}}).then(()=>{c==="point_cloud"?C(!0,!1):c==="wireframe"?C(!1,!0):g(m,f,h)}):o.resetModel())}function g(e,n,M){const a=s.camera;e[0]!==null&&(a.alpha=e[0]*Math.PI/180),e[1]!==null&&(a.beta=e[1]*Math.PI/180),e[2]!==null&&(a.radius=e[2]),a.lowerRadiusLimit=.1;const w=()=>{a.wheelPrecision=250/(a.radius*n),a.panningSensibility=1e4*M/a.radius};w(),a.onAfterCheckInputsObservable.add(w)}function V(){s&&o.resetCamera()}function I(e){k[e?"unshift":"push"](()=>{u=e,i(0,u)})}return r.$$set=e=>{"value"in e&&i(1,d=e.value),"display_mode"in e&&i(2,c=e.display_mode),"clear_color"in e&&i(3,_=e.clear_color),"camera_position"in e&&i(4,m=e.camera_position),"zoom_speed"in e&&i(5,f=e.zoom_speed),"pan_speed"in e&&i(6,h=e.pan_speed)},r.$$.update=()=>{r.$$.dirty&2&&i(10,l=d.url),r.$$.dirty&1536&&b&&P(l)},[u,d,c,_,m,f,h,g,V,b,l,I]}class q extends z{constructor(t){super(),E(this,t,N,B,O,{value:1,display_mode:2,clear_color:3,camera_position:4,zoom_speed:5,pan_speed:6,update_camera:7,reset_camera_position:8})}get update_camera(){return this.$$.ctx[7]}get reset_camera_position(){return this.$$.ctx[8]}}export{q as default};
//# sourceMappingURL=Canvas3D.C1ee5xfR.js.map
