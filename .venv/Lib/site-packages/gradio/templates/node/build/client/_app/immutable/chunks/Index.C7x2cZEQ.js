import{SvelteComponent as R,init as U,safe_not_equal as W,create_slot as X,element as Y,space as Z,claim_element as x,children as $,claim_space as ee,detach as H,attr as b,toggle_class as p,insert_hydration as te,append_hydration as ne,transition_in as L,group_outros as re,transition_out as T,check_outros as ae,update_slot_base as se,get_all_dirty_from_scope as ie,get_slot_changes as oe,onMount as le,assign as de,create_component as ce,claim_component as fe,mount_component as ue,get_spread_update as _e,get_spread_object as ge,destroy_component as me,binding_callbacks as he,tick as ve}from"../../../svelte/svelte.js";import"../../../svelte/svelte-submodules.js";import{S as be}from"./2.BPD7TSJN.js";function y(s){let r,l;const h=[{autoscroll:s[5].autoscroll},{i18n:s[5].i18n},s[4],{status:s[4]?s[4].status=="pending"?"generating":s[4].status:null}];let c={};for(let t=0;t<h.length;t+=1)c=de(c,h[t]);return r=new be({props:c}),{c(){ce(r.$$.fragment)},l(t){fe(r.$$.fragment,t)},m(t,g){ue(r,t,g),l=!0},p(t,g){const f=g&48?_e(h,[g&32&&{autoscroll:t[5].autoscroll},g&32&&{i18n:t[5].i18n},g&16&&ge(t[4]),g&16&&{status:t[4]?t[4].status=="pending"?"generating":t[4].status:null}]):{};r.$set(f)},i(t){l||(L(r.$$.fragment,t),l=!0)},o(t){T(r.$$.fragment,t),l=!1},d(t){me(r,t)}}}function pe(s){let r,l,h,c,t=s[4]&&s[6]&&s[5]&&y(s);const g=s[9].default,f=X(g,s,s[8],null);return{c(){r=Y("div"),t&&t.c(),l=Z(),f&&f.c(),this.h()},l(i){r=x(i,"DIV",{id:!0,class:!0,role:!0,"aria-label":!0});var d=$(r);t&&t.l(d),l=ee(d),f&&f.l(d),d.forEach(H),this.h()},h(){b(r,"id",s[0]),b(r,"class",h="draggable "+s[1].join(" ")+" svelte-1hk0575"),b(r,"role","region"),b(r,"aria-label","Draggable items container"),p(r,"hide",!s[2]),p(r,"horizontal",s[3]==="row"),p(r,"vertical",s[3]==="column")},m(i,d){te(i,r,d),t&&t.m(r,null),ne(r,l),f&&f.m(r,null),s[10](r),c=!0},p(i,[d]){i[4]&&i[6]&&i[5]?t?(t.p(i,d),d&112&&L(t,1)):(t=y(i),t.c(),L(t,1),t.m(r,l)):t&&(re(),T(t,1,1,()=>{t=null}),ae()),f&&f.p&&(!c||d&256)&&se(f,g,i,i[8],c?oe(g,i[8],d,null):ie(i[8]),null),(!c||d&1)&&b(r,"id",i[0]),(!c||d&2&&h!==(h="draggable "+i[1].join(" ")+" svelte-1hk0575"))&&b(r,"class",h),(!c||d&6)&&p(r,"hide",!i[2]),(!c||d&10)&&p(r,"horizontal",i[3]==="row"),(!c||d&10)&&p(r,"vertical",i[3]==="column")},i(i){c||(L(t),L(f,i),c=!0)},o(i){T(t),T(f,i),c=!1},d(i){i&&H(r),t&&t.d(),f&&f.d(i),s[10](null)}}}function Ee(s){return s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="move"),!1}function Le(s,r,l){let{$$slots:h={},$$scope:c}=r,{elem_id:t}=r,{elem_classes:g=[]}=r,{visible:f=!0}=r,{orientation:i="row"}=r,{loading_status:d=void 0}=r,{gradio:D=void 0}=r,{show_progress:q=!1}=r,u,_=null,E=[],v=null;const I=[{event:"dragstart",handler:V},{event:"dragend",handler:F}],M=[{event:"dragover",handler:Ee},{event:"drop",handler:J},{event:"dragenter",handler:G}];function N(e){I.forEach(({event:a,handler:n})=>{e.addEventListener(a,n)})}function P(e){I.forEach(({event:a,handler:n})=>{e.removeEventListener(a,n)})}function O(e){M.forEach(({event:a,handler:n})=>{e.addEventListener(a,n)})}function j(e){M.forEach(({event:a,handler:n})=>{e.removeEventListener(a,n)})}function B(e,a){e.classList.add("draggable-item"),e.setAttribute("data-index",a.toString()),e.style.position="relative";const n=document.createElement("div");n.className="drag-handle",n.setAttribute("draggable","true"),n.setAttribute("aria-grabbed","false"),n.setAttribute("data-index",a.toString()),n.innerHTML="⋮⋮",e.appendChild(n),N(n),O(e)}function w(){if(!u)return;E.forEach(n=>{const o=n.querySelector(".drag-handle");o&&(P(o),o.remove()),j(n)}),E=[];const e=Array.from(u.children);let a=0;e.forEach(n=>{n.classList.contains("status-tracker")||(n.classList.contains("form")&&n.children.length>0?Array.from(n.children).forEach(m=>{E.push(m),B(m,a),a++}):(E.push(n),B(n,a),a++))})}function V(e){var o;(o=e.stopPropagation)==null||o.call(e);const a=e.currentTarget,n=a.parentElement;_=n,parseInt(a.dataset.index||"-1"),a.setAttribute("aria-grabbed","true"),n.classList.add("dragging"),e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",n.outerHTML),e.dataTransfer.setDragImage(n,10,10))}function F(e){var o;(o=e.stopPropagation)==null||o.call(e);const a=e.currentTarget;a.parentElement.classList.remove("dragging"),a.setAttribute("aria-grabbed","false"),v&&(v.classList.remove("drop-target"),v=null),_=null}function G(e){var S;(S=e.stopPropagation)==null||S.call(e);const a=e.currentTarget;if(a===_||!_||!u)return;const n=_.parentElement,o=a.parentElement,m=(n==null?void 0:n.classList.contains("form"))&&n.parentElement===u,A=(o==null?void 0:o.classList.contains("form"))&&o.parentElement===u;(m||n===u)&&(A||o===u)&&(v&&v!==a&&v.classList.remove("drop-target"),a.classList.add("drop-target"),v=a)}async function J(e){var n;(n=e.stopPropagation)==null||n.call(e);const a=e.currentTarget;if(a.classList.remove("drop-target"),v&&(v.classList.remove("drop-target"),v=null),_&&_!==a&&u){const o=_.parentElement,m=a.parentElement,A=(o==null?void 0:o.classList.contains("form"))&&o.parentElement===u,z=(m==null?void 0:m.classList.contains("form"))&&m.parentElement===u;if(!((A||o===u)&&(z||m===u)))return!1;const k=document.createElement("div");k.style.display="none",o.insertBefore(k,_),m.insertBefore(_,a),o.insertBefore(a,k),k.remove(),_==null||_.classList.remove("dragging");const C=_==null?void 0:_.querySelector(".drag-handle");C&&C.setAttribute("aria-grabbed","false"),await ve(),w()}return!1}le(()=>{w();const e=new MutationObserver(w);return u&&e.observe(u,{childList:!0,subtree:!1}),()=>{e.disconnect(),E.forEach(a=>{const n=a.querySelector(".drag-handle");n&&P(n),j(a)})}});function K(e){he[e?"unshift":"push"](()=>{u=e,l(7,u)})}return s.$$set=e=>{"elem_id"in e&&l(0,t=e.elem_id),"elem_classes"in e&&l(1,g=e.elem_classes),"visible"in e&&l(2,f=e.visible),"orientation"in e&&l(3,i=e.orientation),"loading_status"in e&&l(4,d=e.loading_status),"gradio"in e&&l(5,D=e.gradio),"show_progress"in e&&l(6,q=e.show_progress),"$$scope"in e&&l(8,c=e.$$scope)},[t,g,f,i,d,D,q,u,c,h,K]}class Ae extends R{constructor(r){super(),U(this,r,Le,pe,W,{elem_id:0,elem_classes:1,visible:2,orientation:3,loading_status:4,gradio:5,show_progress:6})}}export{Ae as default};
//# sourceMappingURL=Index.C7x2cZEQ.js.map
