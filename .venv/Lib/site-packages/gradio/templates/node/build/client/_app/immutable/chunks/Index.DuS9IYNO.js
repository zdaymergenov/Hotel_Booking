var vt=Object.defineProperty;var kt=(i,e,n)=>e in i?vt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var q=(i,e,n)=>(kt(i,typeof e!="symbol"?e+"":e,n),n);import{SvelteComponent as ge,init as de,safe_not_equal as me,create_slot as Me,element as K,space as x,claim_element as Z,children as $,detach as C,claim_space as ee,get_svelte_dataset as Ge,attr as G,set_style as Q,toggle_class as V,insert_hydration as j,append_hydration as y,listen as nt,update_slot_base as Te,get_all_dirty_from_scope as Ie,get_slot_changes as Re,transition_in as k,transition_out as E,onMount as Ae,binding_callbacks as A,assign as ve,set_attributes as Je,get_spread_update as Fe,src_url_equal as zt,noop as we,compute_rest_props as qe,createEventDispatcher as Se,tick as it,exclude_internal_props as Xt,create_component as L,empty as _e,claim_component as B,mount_component as P,group_outros as se,check_outros as ae,destroy_component as N,component_subscribe as Yt,bubble as ce,bind as te,add_render_callback as lt,add_iframe_resize_listener as st,add_flush_callback as ne,flush as S,afterUpdate as Et,get_spread_object as at}from"../../../svelte/svelte.js";import{tweened as Dt}from"../../../svelte/svelte-submodules.js";import{s as ke}from"./select.BigU4G0v.js";import{d as Mt}from"./dispatch.kxCwF96_.js";import{I as Tt,j as Xe,C as ot,B as rt,S as ut}from"./2.BPD7TSJN.js";import{B as ft}from"./BlockLabel.B6sjuoOP.js";import{D as ht}from"./DownloadLink.DGlcG7fv.js";import{E as He}from"./Empty.D5XVnMZ_.js";import{D as _t}from"./Download.CpfEFmFf.js";import{I as Ye}from"./Image.CTVzPhL7.js";import{U as It}from"./Undo.LhwFM5M8.js";import{F as Rt}from"./FullscreenButton.L5WHtCWr.js";import{a as ct}from"./Upload.DYS5R487.js";import{U as gt}from"./UploadText.MrdMBxY9.js";function St(i){let e;for(;e=i.sourceEvent;)i=e;return i}function Ke(i,e){if(i=St(i),e===void 0&&(e=i.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var t=n.createSVGPoint();return t.x=i.clientX,t.y=i.clientY,t=t.matrixTransform(e.getScreenCTM().inverse()),[t.x,t.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[i.clientX-l.left-e.clientLeft,i.clientY-l.top-e.clientTop]}}return[i.pageX,i.pageY]}const Ct={passive:!1},ze={capture:!0,passive:!1};function We(i){i.stopImmediatePropagation()}function be(i){i.preventDefault(),i.stopImmediatePropagation()}function Lt(i){var e=i.document.documentElement,n=ke(i).on("dragstart.drag",be,ze);"onselectstart"in e?n.on("selectstart.drag",be,ze):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Bt(i,e){var n=i.document.documentElement,t=ke(i).on("dragstart.drag",null);e&&(t.on("click.drag",be,ze),setTimeout(function(){t.on("click.drag",null)},0)),"onselectstart"in n?t.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ee=i=>()=>i;function je(i,{sourceEvent:e,subject:n,target:t,identifier:l,active:s,x:u,y:r,dx:a,dy:f,dispatch:o}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:o}})}je.prototype.on=function(){var i=this._.on.apply(this._,arguments);return i===this._?this:i};function Pt(i){return!i.ctrlKey&&!i.button}function Nt(){return this.parentNode}function Ut(i,e){return e??{x:i.x,y:i.y}}function Vt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wt(){var i=Pt,e=Nt,n=Ut,t=Vt,l={},s=Mt("start","drag","end"),u=0,r,a,f,o,_=0;function v(b){b.on("mousedown.drag",g).filter(t).on("touchstart.drag",d).on("touchmove.drag",X,Ct).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,w){if(!(o||!i.call(this,b,w))){var z=T(this,e.call(this,b,w),b,w,"mouse");z&&(ke(b.view).on("mousemove.drag",h,ze).on("mouseup.drag",m,ze),Lt(b.view),We(b),f=!1,r=b.clientX,a=b.clientY,z("start",b))}}function h(b){if(be(b),!f){var w=b.clientX-r,z=b.clientY-a;f=w*w+z*z>_}l.mouse("drag",b)}function m(b){ke(b.view).on("mousemove.drag mouseup.drag",null),Bt(b.view,f),be(b),l.mouse("end",b)}function d(b,w){if(i.call(this,b,w)){var z=b.changedTouches,I=e.call(this,b,w),R=z.length,c,H;for(c=0;c<R;++c)(H=T(this,I,b,w,z[c].identifier,z[c]))&&(We(b),H("start",b,z[c]))}}function X(b){var w=b.changedTouches,z=w.length,I,R;for(I=0;I<z;++I)(R=l[w[I].identifier])&&(be(b),R("drag",b,w[I]))}function D(b){var w=b.changedTouches,z=w.length,I,R;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),I=0;I<z;++I)(R=l[w[I].identifier])&&(We(b),R("end",b,w[I]))}function T(b,w,z,I,R,c){var H=s.copy(),U=Ke(c||z,w),F,W,O;if((O=n.call(b,new je("beforestart",{sourceEvent:z,target:v,identifier:R,active:u,x:U[0],y:U[1],dx:0,dy:0,dispatch:H}),I))!=null)return F=O.x-U[0]||0,W=O.y-U[1]||0,function J(oe,fe,M){var le=U,ie;switch(oe){case"start":l[R]=J,ie=u++;break;case"end":delete l[R],--u;case"drag":U=Ke(M||fe,w),ie=u;break}H.call(oe,b,new je(oe,{sourceEvent:fe,subject:O,target:v,identifier:R,active:ie,x:U[0]+F,y:U[1]+W,dx:U[0]-le[0],dy:U[1]-le[1],dispatch:H}),I)}}return v.filter=function(b){return arguments.length?(i=typeof b=="function"?b:Ee(!!b),v):i},v.container=function(b){return arguments.length?(e=typeof b=="function"?b:Ee(b),v):e},v.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ee(b),v):n},v.touchable=function(b){return arguments.length?(t=typeof b=="function"?b:Ee(!!b),v):t},v.on=function(){var b=s.on.apply(s,arguments);return b===s?v:b},v.clickDistance=function(b){return arguments.length?(_=(b=+b)*b,v):Math.sqrt(_)},v}function Ot(i){let e,n,t,l,s,u,r="◢",a,f,o="◢",_,v,g,h,m;const d=i[11].default,X=Me(d,i,i[10],null);return{c(){e=K("div"),n=K("div"),X&&X.c(),t=x(),l=K("div"),s=K("span"),u=K("span"),u.textContent=r,a=K("span"),f=K("span"),f.textContent=o,_=x(),v=K("div"),this.h()},l(D){e=Z(D,"DIV",{class:!0,role:!0});var T=$(e);n=Z(T,"DIV",{class:!0});var b=$(n);X&&X.l(b),b.forEach(C),t=ee(T),l=Z(T,"DIV",{class:!0,role:!0,style:!0});var w=$(l);s=Z(w,"SPAN",{class:!0});var z=$(s);u=Z(z,"SPAN",{class:!0,"data-svelte-h":!0}),Ge(u)!=="svelte-9lsvah"&&(u.textContent=r),a=Z(z,"SPAN",{class:!0}),$(a).forEach(C),f=Z(z,"SPAN",{class:!0,"data-svelte-h":!0}),Ge(f)!=="svelte-1lu38by"&&(f.textContent=o),z.forEach(C),_=ee(w),v=Z(w,"DIV",{class:!0}),$(v).forEach(C),w.forEach(C),T.forEach(C),this.h()},h(){G(n,"class","content svelte-fpmna9"),G(u,"class","icon left svelte-fpmna9"),G(a,"class","icon center svelte-fpmna9"),Q(a,"--color",i[4]),G(f,"class","icon right svelte-fpmna9"),G(s,"class","icon-wrap svelte-fpmna9"),V(s,"active",i[7]),V(s,"disabled",i[3]),G(v,"class","inner svelte-fpmna9"),Q(v,"--color",i[4]),G(l,"class","outer svelte-fpmna9"),G(l,"role","none"),Q(l,"transform","translateX("+i[6]+"px)"),V(l,"disabled",i[3]),V(l,"grab",i[7]),G(e,"class","wrap svelte-fpmna9"),G(e,"role","none")},m(D,T){j(D,e,T),y(e,n),X&&X.m(n,null),i[13](n),y(e,t),y(e,l),y(l,s),y(s,u),y(s,a),y(s,f),y(l,_),y(l,v),i[14](l),i[15](e),g=!0,h||(m=nt(window,"resize",i[12]),h=!0)},p(D,[T]){X&&X.p&&(!g||T&1024)&&Te(X,d,D,D[10],g?Re(d,D[10],T,null):Ie(D[10]),null),T&16&&Q(a,"--color",D[4]),(!g||T&128)&&V(s,"active",D[7]),(!g||T&8)&&V(s,"disabled",D[3]),T&16&&Q(v,"--color",D[4]),(!g||T&64)&&Q(l,"transform","translateX("+D[6]+"px)"),(!g||T&8)&&V(l,"disabled",D[3]),(!g||T&128)&&V(l,"grab",D[7])},i(D){g||(k(X,D),g=!0)},o(D){E(X,D),g=!1},d(D){D&&C(e),X&&X.d(D),i[13](null),i[14](null),i[15](null),h=!1,m()}}}function Oe(i,e,n){return Math.min(Math.max(i,e),n)}function jt(i,e){const n=Math.pow(10,e);return Math.round((i+Number.EPSILON)*n)/n}function At(i,e,n){let{$$slots:t={},$$scope:l}=e,{position:s=.5}=e,{disabled:u=!1}=e,{slider_color:r="var(--border-color-primary)"}=e,{image_size:a={top:0,left:0,width:0,height:0}}=e,{el:f=void 0}=e,{parent_el:o=void 0}=e,_,v=0,g=!1,h=0;function m(c){h=(o==null?void 0:o.getBoundingClientRect().width)||0,c===0&&n(0,a.width=(f==null?void 0:f.getBoundingClientRect().width)||0,a),n(6,v=Oe(a.width*s+a.left,0,h))}function d(c){n(6,v=Oe(c,0,h)),n(9,s=jt((c-a.left)/a.width,5))}function X(c){u||(n(7,g=!0),d(c.x))}function D(c){u||d(c.x)}function T(){u||n(7,g=!1)}function b(c){n(6,v=Oe(a.width*c+a.left,0,h))}Ae(()=>{m(a.width);const c=Wt().on("start",X).on("drag",D).on("end",T);ke(_).call(c)});const w=()=>m(a.width);function z(c){A[c?"unshift":"push"](()=>{f=c,n(1,f)})}function I(c){A[c?"unshift":"push"](()=>{_=c,n(5,_)})}function R(c){A[c?"unshift":"push"](()=>{o=c,n(2,o)})}return i.$$set=c=>{"position"in c&&n(9,s=c.position),"disabled"in c&&n(3,u=c.disabled),"slider_color"in c&&n(4,r=c.slider_color),"image_size"in c&&n(0,a=c.image_size),"el"in c&&n(1,f=c.el),"parent_el"in c&&n(2,o=c.parent_el),"$$scope"in c&&n(10,l=c.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&m(a.width),i.$$.dirty&512&&b(s)},[a,f,o,u,r,_,v,g,m,s,l,t,w,z,I,R]}class dt extends ge{constructor(e){super(),de(this,e,At,Ot,me,{position:9,disabled:3,slider_color:4,image_size:0,el:1,parent_el:2})}}function Ft(i){let e,n,t,l,s=[{src:n=i[1]},i[9]],u={};for(let r=0;r<s.length;r+=1)u=ve(u,s[r]);return{c(){e=K("img"),this.h()},l(r){e=Z(r,"IMG",{src:!0}),this.h()},h(){Je(e,u),V(e,"fixed",i[3]),V(e,"hidden",i[5]),V(e,"preview",i[6]==="preview"),V(e,"slider",i[6]==="upload"),V(e,"fullscreen",i[2]),V(e,"small",!i[2]),Q(e,"transform",i[4]),Q(e,"max-height",i[7]&&!i[2]?`${i[7]}px`:null),V(e,"svelte-k63p1v",!0)},m(r,a){j(r,e,a),i[10](e),t||(l=nt(e,"load",i[11]),t=!0)},p(r,[a]){Je(e,u=Fe(s,[a&2&&!zt(e.src,n=r[1])&&{src:n},a&512&&r[9]])),V(e,"fixed",r[3]),V(e,"hidden",r[5]),V(e,"preview",r[6]==="preview"),V(e,"slider",r[6]==="upload"),V(e,"fullscreen",r[2]),V(e,"small",!r[2]),Q(e,"transform",r[4]),Q(e,"max-height",r[7]&&!r[2]?`${r[7]}px`:null),V(e,"svelte-k63p1v",!0)},i:we,o:we,d(r){r&&C(e),i[10](null),t=!1,l()}}}function Ze(i){var a;if(!i)return{top:0,left:0,width:0,height:0};const e=(a=i.parentElement)==null?void 0:a.getBoundingClientRect();if(!e)return{top:0,left:0,width:0,height:0};const n=i.naturalWidth/i.naturalHeight,t=e.width/e.height;let l,s;n>t?(l=e.width,s=e.width/n):(s=e.height,l=e.height*n);const u=(e.width-l)/2;return{top:(e.height-s)/2,left:u,width:l,height:s}}function Ht(i,e,n){const t=["src","fullscreen","fixed","transform","img_el","hidden","variant","max_height"];let l=qe(e,t),{src:s=void 0}=e,{fullscreen:u=!1}=e,{fixed:r=!1}=e,{transform:a="translate(0px, 0px) scale(1)"}=e,{img_el:f=null}=e,{hidden:o=!1}=e,{variant:_="upload"}=e,{max_height:v=500}=e;const g=Se();Ae(()=>{const d=new ResizeObserver(async X=>{for(const D of X)await it(),g("load",Ze(f))});return d.observe(f),()=>{d.disconnect()}});function h(d){A[d?"unshift":"push"](()=>{f=d,n(0,f)})}const m=()=>g("load",Ze(f));return i.$$set=d=>{e=ve(ve({},e),Xt(d)),n(9,l=qe(e,t)),"src"in d&&n(1,s=d.src),"fullscreen"in d&&n(2,u=d.fullscreen),"fixed"in d&&n(3,r=d.fixed),"transform"in d&&n(4,a=d.transform),"img_el"in d&&n(0,f=d.img_el),"hidden"in d&&n(5,o=d.hidden),"variant"in d&&n(6,_=d.variant),"max_height"in d&&n(7,v=d.max_height)},[f,s,u,r,a,o,_,v,g,l,h,m]}class De extends ge{constructor(e){super(),de(this,e,Ht,Ft,me,{src:1,fullscreen:2,fixed:3,transform:4,img_el:0,hidden:5,variant:6,max_height:7})}}class Gt{constructor(e,n){q(this,"container");q(this,"image");q(this,"scale");q(this,"offsetX");q(this,"offsetY");q(this,"isDragging");q(this,"lastX");q(this,"lastY");q(this,"initial_left_padding");q(this,"initial_top_padding");q(this,"initial_width");q(this,"initial_height");q(this,"subscribers");q(this,"handleImageLoad");q(this,"real_image_size",{top:0,left:0,width:0,height:0});q(this,"last_touch_distance");this.container=e,this.image=n,this.scale=1,this.offsetX=0,this.offsetY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.initial_left_padding=0,this.initial_top_padding=0,this.initial_width=0,this.initial_height=0,this.subscribers=[],this.last_touch_distance=0,this.handleWheel=this.handleWheel.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleImageLoad=this.init.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.image.addEventListener("load",this.handleImageLoad),this.container.addEventListener("wheel",this.handleWheel),this.container.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.container.addEventListener("touchstart",this.handleTouchStart),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchend",this.handleTouchEnd),new ResizeObserver(l=>{for(const s of l)s.target===this.container&&(this.handleResize(),this.get_image_size(this.image))}).observe(this.container)}handleResize(){this.init()}init(){const e=this.container.getBoundingClientRect(),n=this.image.getBoundingClientRect();this.initial_left_padding=n.left-e.left,this.initial_top_padding=n.top-e.top,this.initial_width=n.width,this.initial_height=n.height,this.reset_zoom(),this.updateTransform()}reset_zoom(){this.scale=1,this.offsetX=0,this.offsetY=0,this.updateTransform()}handleMouseDown(e){const n=this.image.getBoundingClientRect();if(e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom){if(e.preventDefault(),this.scale===1)return;this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.image.style.cursor="grabbing"}}handleMouseMove(e){if(!this.isDragging)return;const n=e.clientX-this.lastX,t=e.clientY-this.lastY;this.offsetX+=n,this.offsetY+=t,this.lastX=e.clientX,this.lastY=e.clientY,this.updateTransform(),this.updateTransform()}handleMouseUp(){this.isDragging&&(this.constrain_to_bounds(!0),this.updateTransform(),this.isDragging=!1,this.image.style.cursor=this.scale>1?"grab":"zoom-in")}async handleWheel(e){e.preventDefault();const n=this.container.getBoundingClientRect(),t=this.image.getBoundingClientRect();if(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)return;const l=1.05,s=this.scale,u=-Math.sign(e.deltaY)>0?Math.min(15,s*l):Math.max(1,s/l);if(u===s)return;const r=e.clientX-n.left-this.initial_left_padding,a=e.clientY-n.top-this.initial_top_padding;this.scale=u,this.offsetX=this.compute_new_offset({cursor_position:r,current_offset:this.offsetX,new_scale:u,old_scale:s}),this.offsetY=this.compute_new_offset({cursor_position:a,current_offset:this.offsetY,new_scale:u,old_scale:s}),this.updateTransform(),this.constrain_to_bounds(),this.updateTransform(),this.image.style.cursor=this.scale>1?"grab":"zoom-in"}compute_new_position({position:e,scale:n,anchor_position:t}){return e-(e-t)*(n/this.scale)}compute_new_offset({cursor_position:e,current_offset:n,new_scale:t,old_scale:l}){return e-t/l*(e-n)}constrain_to_bounds(e=!1){if(this.scale===1){this.offsetX=0,this.offsetY=0;return}const n={top:this.real_image_size.top*this.scale+this.offsetY,left:this.real_image_size.left*this.scale+this.offsetX,width:this.real_image_size.width*this.scale,height:this.real_image_size.height*this.scale,bottom:this.real_image_size.top*this.scale+this.offsetY+this.real_image_size.height*this.scale,right:this.real_image_size.left*this.scale+this.offsetX+this.real_image_size.width*this.scale},t=this.real_image_size.left+this.real_image_size.width,l=this.real_image_size.top+this.real_image_size.height;e&&(n.top>this.real_image_size.top?this.offsetY=this.calculate_position(this.real_image_size.top,0,"y"):n.bottom<l&&(this.offsetY=this.calculate_position(l,1,"y")),n.left>this.real_image_size.left?this.offsetX=this.calculate_position(this.real_image_size.left,0,"x"):n.right<t&&(this.offsetX=this.calculate_position(t,1,"x")))}updateTransform(){this.notify({x:this.offsetX,y:this.offsetY,scale:this.scale})}destroy(){this.container.removeEventListener("wheel",this.handleWheel),this.container.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.container.removeEventListener("touchstart",this.handleTouchStart),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd),this.image.removeEventListener("load",this.handleImageLoad)}subscribe(e){this.subscribers.push(e)}unsubscribe(e){this.subscribers=this.subscribers.filter(n=>n!==e)}notify({x:e,y:n,scale:t}){this.subscribers.forEach(l=>l({x:e,y:n,scale:t}))}handleTouchStart(e){e.preventDefault();const n=this.image.getBoundingClientRect(),t=e.touches[0];if(t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom){if(e.touches.length===1&&this.scale>1)this.isDragging=!0,this.lastX=t.clientX,this.lastY=t.clientY;else if(e.touches.length===2){const l=e.touches[0],s=e.touches[1];this.last_touch_distance=Math.hypot(s.clientX-l.clientX,s.clientY-l.clientY)}}}get_image_size(e){var f;if(!e)return;const n=(f=e.parentElement)==null?void 0:f.getBoundingClientRect();if(!n)return;const t=e.naturalWidth/e.naturalHeight,l=n.width/n.height;let s,u;t>l?(s=n.width,u=n.width/t):(u=n.height,s=n.height*t);const r=(n.width-s)/2,a=(n.height-u)/2;this.real_image_size={top:a,left:r,width:s,height:u}}handleTouchMove(e){if(e.touches.length===1&&this.isDragging){e.preventDefault();const n=e.touches[0],t=n.clientX-this.lastX,l=n.clientY-this.lastY;this.offsetX+=t,this.offsetY+=l,this.lastX=n.clientX,this.lastY=n.clientY,this.updateTransform()}else if(e.touches.length===2){e.preventDefault();const n=e.touches[0],t=e.touches[1],l=Math.hypot(t.clientX-n.clientX,t.clientY-n.clientY);if(this.last_touch_distance===0){this.last_touch_distance=l;return}const s=l/this.last_touch_distance,u=this.scale,r=Math.min(15,Math.max(1,u*s));if(r===u){this.last_touch_distance=l;return}const a=this.container.getBoundingClientRect(),f=(n.clientX+t.clientX)/2-a.left-this.initial_left_padding,o=(n.clientY+t.clientY)/2-a.top-this.initial_top_padding;this.scale=r,this.offsetX=this.compute_new_offset({cursor_position:f,current_offset:this.offsetX,new_scale:r,old_scale:u}),this.offsetY=this.compute_new_offset({cursor_position:o,current_offset:this.offsetY,new_scale:r,old_scale:u}),this.updateTransform(),this.constrain_to_bounds(),this.updateTransform(),this.last_touch_distance=l,this.image.style.cursor=this.scale>1?"grab":"zoom-in"}}handleTouchEnd(e){this.isDragging&&(this.constrain_to_bounds(!0),this.updateTransform(),this.isDragging=!1),e.touches.length===0&&(this.last_touch_distance=0)}calculate_position(e,n,t){if(this.container.getBoundingClientRect(),t==="x"){const l=e,s=this.real_image_size.left+n*this.real_image_size.width;return l-s*this.scale}if(t==="y"){const l=e,s=this.real_image_size.top+n*this.real_image_size.height;return l-s*this.scale}return 0}}function Jt(i){let e,n,t,l,s,u,r,a,f,o;n=new Tt({props:{$$slots:{default:[Zt]},$$scope:{ctx:i}}});function _(m){i[32](m)}function v(m){i[33](m)}function g(m){i[34](m)}let h={slider_color:i[9],image_size:i[16],$$slots:{default:[Qt]},$$scope:{ctx:i}};return i[0]!==void 0&&(h.position=i[0]),i[15]!==void 0&&(h.el=i[15]),i[19]!==void 0&&(h.parent_el=i[19]),s=new dt({props:h}),A.push(()=>te(s,"position",_)),A.push(()=>te(s,"el",v)),A.push(()=>te(s,"parent_el",g)),{c(){e=K("div"),L(n.$$.fragment),t=x(),l=K("div"),L(s.$$.fragment),this.h()},l(m){e=Z(m,"DIV",{class:!0});var d=$(e);B(n.$$.fragment,d),t=ee(d),l=Z(d,"DIV",{class:!0});var X=$(l);B(s.$$.fragment,X),X.forEach(C),d.forEach(C),this.h()},h(){G(l,"class","slider-wrap svelte-eb87wk"),lt(()=>i[36].call(l)),V(l,"limit_height",!i[11]),G(e,"class","image-container svelte-eb87wk")},m(m,d){j(m,e,d),P(n,e,null),y(e,t),y(e,l),P(s,l,null),i[35](l),f=st(l,i[36].bind(l)),i[37](e),o=!0},p(m,d){const X={};d[0]&1190994|d[1]&1024&&(X.$$scope={dirty:d,ctx:m}),n.$set(X);const D={};d[0]&512&&(D.slider_color=m[9]),d[0]&65536&&(D.image_size=m[16]),d[0]&4348034|d[1]&1024&&(D.$$scope={dirty:d,ctx:m}),!u&&d[0]&1&&(u=!0,D.position=m[0],ne(()=>u=!1)),!r&&d[0]&32768&&(r=!0,D.el=m[15],ne(()=>r=!1)),!a&&d[0]&524288&&(a=!0,D.parent_el=m[19],ne(()=>a=!1)),s.$set(D),(!o||d[0]&2048)&&V(l,"limit_height",!m[11])},i(m){o||(k(n.$$.fragment,m),k(s.$$.fragment,m),o=!0)},o(m){E(n.$$.fragment,m),E(s.$$.fragment,m),o=!1},d(m){m&&C(e),N(n),N(s),i[35](null),f(),i[37](null)}}}function qt(i){let e,n;return e=new He({props:{unpadded_box:!0,size:"large",$$slots:{default:[yt]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[1]&1024&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Qe(i){let e,n;return e=new Rt({props:{fullscreen:i[11]}}),e.$on("fullscreen",i[29]),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[0]&2048&&(s.fullscreen=t[11]),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function ye(i){var t,l;let e,n;return e=new ht({props:{href:(t=i[1][1])==null?void 0:t.url,download:((l=i[1][1])==null?void 0:l.orig_name)||"image",$$slots:{default:[Kt]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,u){P(e,s,u),n=!0},p(s,u){var a,f;const r={};u[0]&2&&(r.href=(a=s[1][1])==null?void 0:a.url),u[0]&2&&(r.download=((f=s[1][1])==null?void 0:f.orig_name)||"image"),u[0]&64|u[1]&1024&&(r.$$scope={dirty:u,ctx:s}),e.$set(r)},i(s){n||(k(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function Kt(i){let e,n;return e=new Xe({props:{Icon:_t,label:i[6]("common.download")}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[0]&64&&(s.label=t[6]("common.download")),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function $e(i){let e,n;return e=new Xe({props:{Icon:ot,label:"Remove Image"}}),e.$on("click",i[30]),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p:we,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Zt(i){let e,n,t,l,s,u;e=new Xe({props:{Icon:It,label:i[6]("common.undo"),disabled:i[17].z===1}}),e.$on("click",i[28]);let r=i[10]&&Qe(i),a=i[4]&&ye(i),f=i[13]&&$e(i);return{c(){L(e.$$.fragment),n=x(),r&&r.c(),t=x(),a&&a.c(),l=x(),f&&f.c(),s=_e()},l(o){B(e.$$.fragment,o),n=ee(o),r&&r.l(o),t=ee(o),a&&a.l(o),l=ee(o),f&&f.l(o),s=_e()},m(o,_){P(e,o,_),j(o,n,_),r&&r.m(o,_),j(o,t,_),a&&a.m(o,_),j(o,l,_),f&&f.m(o,_),j(o,s,_),u=!0},p(o,_){const v={};_[0]&64&&(v.label=o[6]("common.undo")),_[0]&131072&&(v.disabled=o[17].z===1),e.$set(v),o[10]?r?(r.p(o,_),_[0]&1024&&k(r,1)):(r=Qe(o),r.c(),k(r,1),r.m(t.parentNode,t)):r&&(se(),E(r,1,1,()=>{r=null}),ae()),o[4]?a?(a.p(o,_),_[0]&16&&k(a,1)):(a=ye(o),a.c(),k(a,1),a.m(l.parentNode,l)):a&&(se(),E(a,1,1,()=>{a=null}),ae()),o[13]?f?(f.p(o,_),_[0]&8192&&k(f,1)):(f=$e(o),f.c(),k(f,1),f.m(s.parentNode,s)):f&&(se(),E(f,1,1,()=>{f=null}),ae())},i(o){u||(k(e.$$.fragment,o),k(r),k(a),k(f),u=!0)},o(o){E(e.$$.fragment,o),E(r),E(a),E(f),u=!1},d(o){o&&(C(n),C(t),C(l),C(s)),N(e,o),r&&r.d(o),a&&a.d(o),f&&f.d(o)}}}function Qt(i){var a,f,o,_,v,g;let e,n,t,l,s;function u(h){i[31](h)}let r={src:(f=(a=i[1])==null?void 0:a[0])==null?void 0:f.url,alt:"",loading:"lazy",variant:"preview",transform:"translate("+i[17].x+"px, "+i[17].y+"px) scale("+i[17].z+")",fullscreen:i[11],max_height:i[12]};return i[14]!==void 0&&(r.img_el=i[14]),e=new De({props:r}),A.push(()=>te(e,"img_el",u)),e.$on("load",i[25]),l=new De({props:{variant:"preview",fixed:i[7],hidden:!((_=(o=i[1])==null?void 0:o[1])!=null&&_.url),src:(g=(v=i[1])==null?void 0:v[1])==null?void 0:g.url,alt:"",loading:"lazy",style:i[22]+"; background: var(--block-background-fill);",transform:"translate("+i[17].x+"px, "+i[17].y+"px) scale("+i[17].z+")",fullscreen:i[11],max_height:i[12]}}),l.$on("load",i[25]),{c(){L(e.$$.fragment),t=x(),L(l.$$.fragment)},l(h){B(e.$$.fragment,h),t=ee(h),B(l.$$.fragment,h)},m(h,m){P(e,h,m),j(h,t,m),P(l,h,m),s=!0},p(h,m){var D,T,b,w,z,I;const d={};m[0]&2&&(d.src=(T=(D=h[1])==null?void 0:D[0])==null?void 0:T.url),m[0]&131072&&(d.transform="translate("+h[17].x+"px, "+h[17].y+"px) scale("+h[17].z+")"),m[0]&2048&&(d.fullscreen=h[11]),m[0]&4096&&(d.max_height=h[12]),!n&&m[0]&16384&&(n=!0,d.img_el=h[14],ne(()=>n=!1)),e.$set(d);const X={};m[0]&128&&(X.fixed=h[7]),m[0]&2&&(X.hidden=!((w=(b=h[1])==null?void 0:b[1])!=null&&w.url)),m[0]&2&&(X.src=(I=(z=h[1])==null?void 0:z[1])==null?void 0:I.url),m[0]&4194304&&(X.style=h[22]+"; background: var(--block-background-fill);"),m[0]&131072&&(X.transform="translate("+h[17].x+"px, "+h[17].y+"px) scale("+h[17].z+")"),m[0]&2048&&(X.fullscreen=h[11]),m[0]&4096&&(X.max_height=h[12]),l.$set(X)},i(h){s||(k(e.$$.fragment,h),k(l.$$.fragment,h),s=!0)},o(h){E(e.$$.fragment,h),E(l.$$.fragment,h),s=!1},d(h){h&&C(t),N(e,h),N(l,h)}}}function yt(i){let e,n;return e=new Ye({}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function $t(i){let e,n,t,l,s,u;e=new ft({props:{show_label:i[5],Icon:Ye,label:i[3]||i[6]("image.image")}});const r=[qt,Jt],a=[];function f(o,_){return(o[1]===null||o[1][0]===null||o[1][1]===null)&&!o[8]?0:1}return t=f(i),l=a[t]=r[t](i),{c(){L(e.$$.fragment),n=x(),l.c(),s=_e()},l(o){B(e.$$.fragment,o),n=ee(o),l.l(o),s=_e()},m(o,_){P(e,o,_),j(o,n,_),a[t].m(o,_),j(o,s,_),u=!0},p(o,_){const v={};_[0]&32&&(v.show_label=o[5]),_[0]&72&&(v.label=o[3]||o[6]("image.image")),e.$set(v);let g=t;t=f(o),t===g?a[t].p(o,_):(se(),E(a[g],1,1,()=>{a[g]=null}),ae(),l=a[t],l?l.p(o,_):(l=a[t]=r[t](o),l.c()),k(l,1),l.m(s.parentNode,s))},i(o){u||(k(e.$$.fragment,o),k(l),u=!0)},o(o){E(e.$$.fragment,o),E(l),u=!1},d(o){o&&(C(n),C(s)),N(e,o),a[t].d(o)}}}function xt(i,e,n,t,l,s){return(i*n+t-l)/s/e}function en(i,e,n){let t,l,s,{value:u=[null,null]}=e,{label:r=void 0}=e,{show_download_button:a=!0}=e,{show_label:f}=e,{i18n:o}=e,{position:_}=e,{layer_images:v=!0}=e,{show_single:g=!1}=e,{slider_color:h}=e,{show_fullscreen_button:m=!0}=e,{fullscreen:d=!1}=e,{el_width:X=0}=e,{max_height:D}=e,{interactive:T=!0}=e;const b=Se();let w,z,I,R=Dt({x:0,y:0,z:1},{duration:75});Yt(i,R,Y=>n(17,s=Y));let c,H=0,U=null,F=null;function W(Y,re){!Y||!re||(U==null||U.destroy(),F==null||F.disconnect(),Y!=null&&Y.getBoundingClientRect().width,n(26,H=(re==null?void 0:re.getBoundingClientRect().width)||0),n(20,U=new Gt(re,Y)),U.subscribe(({x:pe,y:he,scale:Ve})=>{R.set({x:pe,y:he,z:Ve})}),F=new ResizeObserver(pe=>{for(const he of pe)he.target===re&&n(26,H=he.contentRect.width),he.target===Y&&he.contentRect.width}),F.observe(re),F.observe(Y))}Ae(()=>()=>{U==null||U.destroy(),F==null||F.disconnect()});let O,J={top:0,left:0,width:0,height:0};function oe(Y){n(16,J=Y.detail)}const fe=()=>U==null?void 0:U.reset_zoom();function M(Y){ce.call(this,i,Y)}const le=Y=>{n(1,u=[null,null]),b("clear"),Y.stopPropagation()};function ie(Y){w=Y,n(14,w)}function Ce(Y){_=Y,n(0,_)}function Le(Y){z=Y,n(15,z)}function Be(Y){c=Y,n(19,c)}function Pe(Y){A[Y?"unshift":"push"](()=>{O=Y,n(21,O)})}function Ne(){X=this.clientWidth,n(2,X)}function Ue(Y){A[Y?"unshift":"push"](()=>{I=Y,n(18,I)})}return i.$$set=Y=>{"value"in Y&&n(1,u=Y.value),"label"in Y&&n(3,r=Y.label),"show_download_button"in Y&&n(4,a=Y.show_download_button),"show_label"in Y&&n(5,f=Y.show_label),"i18n"in Y&&n(6,o=Y.i18n),"position"in Y&&n(0,_=Y.position),"layer_images"in Y&&n(7,v=Y.layer_images),"show_single"in Y&&n(8,g=Y.show_single),"slider_color"in Y&&n(9,h=Y.slider_color),"show_fullscreen_button"in Y&&n(10,m=Y.show_fullscreen_button),"fullscreen"in Y&&n(11,d=Y.fullscreen),"el_width"in Y&&n(2,X=Y.el_width),"max_height"in Y&&n(12,D=Y.max_height),"interactive"in Y&&n(13,T=Y.interactive)},i.$$.update=()=>{i.$$.dirty[0]&67305473&&n(27,t=xt(_,H,J.width,J.left,s.x,s.z)),i.$$.dirty[0]&134217856&&n(22,l=v?`clip-path: inset(0 0 0 ${t*100}%)`:""),i.$$.dirty[0]&49152&&W(w,z)},[_,u,X,r,a,f,o,v,g,h,m,d,D,T,w,z,J,s,I,c,U,O,l,b,R,oe,H,t,fe,M,le,ie,Ce,Le,Be,Pe,Ne,Ue]}class tn extends ge{constructor(e){super(),de(this,e,en,$t,me,{value:1,label:3,show_download_button:4,show_label:5,i18n:6,position:0,layer_images:7,show_single:8,slider_color:9,show_fullscreen_button:10,fullscreen:11,el_width:2,max_height:12,interactive:13},null,[-1,-1])}}function nn(i){let e,n,t;return n=new Xe({props:{Icon:ot,label:"Remove Image"}}),n.$on("click",i[1]),{c(){e=K("div"),L(n.$$.fragment),this.h()},l(l){e=Z(l,"DIV",{class:!0});var s=$(e);B(n.$$.fragment,s),s.forEach(C),this.h()},h(){G(e,"class","svelte-s6ybro")},m(l,s){j(l,e,s),P(n,e,null),t=!0},p:we,i(l){t||(k(n.$$.fragment,l),t=!0)},o(l){E(n.$$.fragment,l),t=!1},d(l){l&&C(e),N(n)}}}function ln(i){const e=Se();return[e,t=>{e("remove_image"),t.stopPropagation()}]}class sn extends ge{constructor(e){super(),de(this,e,ln,nn,me,{})}}function xe(i){let e,n;return e=new sn({}),e.$on("remove_image",i[22]),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p:we,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function et(i){let e,n,t=i[7]&&tt(i);return{c(){e=K("div"),t&&t.c(),this.h()},l(l){e=Z(l,"DIV",{class:!0});var s=$(e);t&&t.l(s),s.forEach(C),this.h()},h(){G(e,"class","icon-buttons svelte-143b07a")},m(l,s){j(l,e,s),t&&t.m(e,null),n=!0},p(l,s){l[7]?t?(t.p(l,s),s&128&&k(t,1)):(t=tt(l),t.c(),k(t,1),t.m(e,null)):t&&(se(),E(t,1,1,()=>{t=null}),ae())},i(l){n||(k(t),n=!0)},o(l){E(t),n=!1},d(l){l&&C(e),t&&t.d()}}}function tt(i){let e,n;return e=new ht({props:{href:i[0][1].url,download:i[0][1].orig_name||"image",$$slots:{default:[an]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.href=t[0][1].url),l&1&&(s.download=t[0][1].orig_name||"image"),l&1073741824&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function an(i){let e,n;return e=new Xe({props:{Icon:_t}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p:we,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function on(i){var u;let e,n,t;function l(r){i[25](r)}let s={variant:"upload",src:(u=i[14][0])==null?void 0:u.url,alt:"",max_height:i[13]};return i[15]!==void 0&&(s.img_el=i[15]),e=new De({props:s}),A.push(()=>te(e,"img_el",l)),{c(){L(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,a){P(e,r,a),t=!0},p(r,a){var o;const f={};a&16384&&(f.src=(o=r[14][0])==null?void 0:o.url),a&8192&&(f.max_height=r[13]),!n&&a&32768&&(n=!0,f.img_el=r[15],ne(()=>n=!1)),e.$set(f)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function rn(i){var r;let e,n,t,l;function s(a){i[23](a)}let u={filetype:"image/*",disable_click:!!((r=i[0])!=null&&r[0]),root:i[5],file_count:"multiple",upload:i[9],stream_handler:i[10],max_file_size:i[11],$$slots:{default:[un]},$$scope:{ctx:i}};return i[1]!==void 0&&(u.dragging=i[1]),n=new ct({props:u}),A.push(()=>te(n,"dragging",s)),n.$on("load",i[24]),{c(){e=K("div"),L(n.$$.fragment),this.h()},l(a){e=Z(a,"DIV",{class:!0});var f=$(e);B(n.$$.fragment,f),f.forEach(C),this.h()},h(){G(e,"class","wrap svelte-143b07a"),V(e,"half-wrap",i[6]===1)},m(a,f){j(a,e,f),P(n,e,null),l=!0},p(a,f){var _;const o={};f&1&&(o.disable_click=!!((_=a[0])!=null&&_[0])),f&32&&(o.root=a[5]),f&512&&(o.upload=a[9]),f&1024&&(o.stream_handler=a[10]),f&2048&&(o.max_file_size=a[11]),f&1073741824&&(o.$$scope={dirty:f,ctx:a}),!t&&f&2&&(t=!0,o.dragging=a[1],ne(()=>t=!1)),n.$set(o),(!l||f&64)&&V(e,"half-wrap",a[6]===1)},i(a){l||(k(n.$$.fragment,a),l=!0)},o(a){E(n.$$.fragment,a),l=!1},d(a){a&&C(e),N(n)}}}function un(i){let e;const n=i[21].default,t=Me(n,i,i[30],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&1073741824)&&Te(t,n,l,l[30],e?Re(n,l[30],s,null):Ie(l[30]),null)},i(l){e||(k(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function fn(i){let e,n;return e=new De({props:{variant:"upload",src:i[14][1].url,alt:"",fixed:i[6]===1,transform:"translate(0px, 0px) scale(1)",max_height:i[13]}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l&16384&&(s.src=t[14][1].url),l&64&&(s.fixed=t[6]===1),l&8192&&(s.max_height=t[13]),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function hn(i){let e,n,t=`${i[16]*(1-i[2])}px`,l=`translateX(${i[16]*i[2]}px)`,s;return n=new He({props:{unpadded_box:!0,size:"large",$$slots:{default:[cn]},$$scope:{ctx:i}}}),{c(){e=K("div"),L(n.$$.fragment),this.h()},l(u){e=Z(u,"DIV",{class:!0});var r=$(e);B(n.$$.fragment,r),r.forEach(C),this.h()},h(){var u,r;G(e,"class","empty-wrap fixed svelte-143b07a"),V(e,"white-icon",!((r=(u=i[0])==null?void 0:u[0])!=null&&r.url)),Q(e,"width",t),Q(e,"transform",l)},m(u,r){j(u,e,r),P(n,e,null),s=!0},p(u,r){var f,o;const a={};r&1073741824&&(a.$$scope={dirty:r,ctx:u}),n.$set(a),(!s||r&1)&&V(e,"white-icon",!((o=(f=u[0])==null?void 0:f[0])!=null&&o.url)),r&65540&&t!==(t=`${u[16]*(1-u[2])}px`)&&Q(e,"width",t),r&65540&&l!==(l=`translateX(${u[16]*u[2]}px)`)&&Q(e,"transform",l)},i(u){s||(k(n.$$.fragment,u),s=!0)},o(u){E(n.$$.fragment,u),s=!1},d(u){u&&C(e),N(n)}}}function _n(i){var u;let e,n,t;function l(r){i[26](r)}let s={filetype:"image/*",disable_click:!!((u=i[0])!=null&&u[1]),root:i[5],file_count:"multiple",upload:i[9],stream_handler:i[10],max_file_size:i[11],$$slots:{default:[gn]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.dragging=i[1]),e=new ct({props:s}),A.push(()=>te(e,"dragging",l)),e.$on("load",i[27]),{c(){L(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,a){P(e,r,a),t=!0},p(r,a){var o;const f={};a&1&&(f.disable_click=!!((o=r[0])!=null&&o[1])),a&32&&(f.root=r[5]),a&512&&(f.upload=r[9]),a&1024&&(f.stream_handler=r[10]),a&2048&&(f.max_file_size=r[11]),a&1073741824&&(f.$$scope={dirty:a,ctx:r}),!n&&a&2&&(n=!0,f.dragging=r[1],ne(()=>n=!1)),e.$set(f)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function cn(i){let e,n;return e=new Ye({}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function gn(i){let e;const n=i[21].default,t=Me(n,i,i[30],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&1073741824)&&Te(t,n,l,l[30],e?Re(n,l[30],s,null):Ie(l[30]),null)},i(l){e||(k(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function dn(i){let e,n,t,l,s,u,r;const a=[rn,on],f=[];function o(h,m){var d;return(d=h[14])!=null&&d[0]?1:0}n=o(i),t=f[n]=a[n](i);const _=[_n,hn,fn],v=[];function g(h,m){var d,X,D;return!((d=h[14])!=null&&d[1])&&h[6]===2?0:!((X=h[14])!=null&&X[1])&&h[6]===1?1:(D=h[14])!=null&&D[1]?2:-1}return~(s=g(i))&&(u=v[s]=_[s](i)),{c(){e=K("div"),t.c(),l=x(),u&&u.c(),this.h()},l(h){e=Z(h,"DIV",{class:!0});var m=$(e);t.l(m),l=ee(m),u&&u.l(m),m.forEach(C),this.h()},h(){G(e,"class","upload-wrap svelte-143b07a"),V(e,"side-by-side",i[6]===2),Q(e,"display",i[6]===2?"flex":"block")},m(h,m){j(h,e,m),f[n].m(e,null),y(e,l),~s&&v[s].m(e,null),r=!0},p(h,m){let d=n;n=o(h),n===d?f[n].p(h,m):(se(),E(f[d],1,1,()=>{f[d]=null}),ae(),t=f[n],t?t.p(h,m):(t=f[n]=a[n](h),t.c()),k(t,1),t.m(e,l));let X=s;s=g(h),s===X?~s&&v[s].p(h,m):(u&&(se(),E(v[X],1,1,()=>{v[X]=null}),ae()),~s?(u=v[s],u?u.p(h,m):(u=v[s]=_[s](h),u.c()),k(u,1),u.m(e,null)):u=null),(!r||m&64)&&V(e,"side-by-side",h[6]===2),m&64&&Q(e,"display",h[6]===2?"flex":"block")},i(h){r||(k(t),k(u),r=!0)},o(h){E(t),E(u),r=!1},d(h){h&&C(e),f[n].d(),~s&&v[s].d()}}}function mn(i){var h,m,d,X,D,T,b;let e,n,t,l,s,u,r,a,f;e=new ft({props:{show_label:i[4],Icon:Ye,label:i[3]||i[12]("image.image")}});let o=(((m=(h=i[0])==null?void 0:h[0])==null?void 0:m.url)||((X=(d=i[0])==null?void 0:d[1])==null?void 0:X.url))&&xe(i),_=((T=(D=i[0])==null?void 0:D[1])==null?void 0:T.url)&&et(i);function v(w){i[28](w)}let g={disabled:i[6]==2||!((b=i[0])!=null&&b[0]),slider_color:i[8],$$slots:{default:[dn]},$$scope:{ctx:i}};return i[2]!==void 0&&(g.position=i[2]),u=new dt({props:g}),A.push(()=>te(u,"position",v)),{c(){L(e.$$.fragment),n=x(),t=K("div"),o&&o.c(),l=x(),_&&_.c(),s=x(),L(u.$$.fragment),this.h()},l(w){B(e.$$.fragment,w),n=ee(w),t=Z(w,"DIV",{"data-testid":!0,class:!0});var z=$(t);o&&o.l(z),l=ee(z),_&&_.l(z),s=ee(z),B(u.$$.fragment,z),z.forEach(C),this.h()},h(){G(t,"data-testid","image"),G(t,"class","image-container svelte-143b07a"),lt(()=>i[29].call(t))},m(w,z){P(e,w,z),j(w,n,z),j(w,t,z),o&&o.m(t,null),y(t,l),_&&_.m(t,null),y(t,s),P(u,t,null),a=st(t,i[29].bind(t)),f=!0},p(w,[z]){var c,H,U,F,W,O,J;const I={};z&16&&(I.show_label=w[4]),z&4104&&(I.label=w[3]||w[12]("image.image")),e.$set(I),(H=(c=w[0])==null?void 0:c[0])!=null&&H.url||(F=(U=w[0])==null?void 0:U[1])!=null&&F.url?o?(o.p(w,z),z&1&&k(o,1)):(o=xe(w),o.c(),k(o,1),o.m(t,l)):o&&(se(),E(o,1,1,()=>{o=null}),ae()),(O=(W=w[0])==null?void 0:W[1])!=null&&O.url?_?(_.p(w,z),z&1&&k(_,1)):(_=et(w),_.c(),k(_,1),_.m(t,s)):_&&(se(),E(_,1,1,()=>{_=null}),ae());const R={};z&65&&(R.disabled=w[6]==2||!((J=w[0])!=null&&J[0])),z&256&&(R.slider_color=w[8]),z&1073868391&&(R.$$scope={dirty:z,ctx:w}),!r&&z&4&&(r=!0,R.position=w[2],ne(()=>r=!1)),u.$set(R)},i(w){f||(k(e.$$.fragment,w),k(o),k(_),k(u.$$.fragment,w),f=!0)},o(w){E(e.$$.fragment,w),E(o),E(_),E(u.$$.fragment,w),f=!1},d(w){w&&(C(n),C(t)),N(e,w),o&&o.d(),_&&_.d(),N(u),a()}}}function bn(i,e,n){let{$$slots:t={},$$scope:l}=e,{value:s}=e,{label:u=void 0}=e,{show_label:r}=e,{root:a}=e,{position:f}=e,{upload_count:o=2}=e,{show_download_button:_=!0}=e,{slider_color:v}=e,{upload:g}=e,{stream_handler:h}=e,{max_file_size:m=null}=e,{i18n:d}=e,{max_height:X}=e,D=s||[null,null],T,b,w;async function z({detail:M},le){const ie=[s[0],s[1]];M.length>1?ie[le]=M[0]:ie[le]=M[le],n(0,s=ie),await it(),R("upload",ie)}let I="";const R=Se();let{dragging:c=!1}=e;const H=()=>{n(2,f=.5),n(0,s=[null,null]),R("clear")};function U(M){c=M,n(1,c)}const F=M=>z(M,0);function W(M){T=M,n(15,T)}function O(M){c=M,n(1,c)}const J=M=>z(M,1);function oe(M){f=M,n(2,f)}function fe(){b=this.clientWidth,w=this.clientHeight,n(16,b),n(17,w)}return i.$$set=M=>{"value"in M&&n(0,s=M.value),"label"in M&&n(3,u=M.label),"show_label"in M&&n(4,r=M.show_label),"root"in M&&n(5,a=M.root),"position"in M&&n(2,f=M.position),"upload_count"in M&&n(6,o=M.upload_count),"show_download_button"in M&&n(7,_=M.show_download_button),"slider_color"in M&&n(8,v=M.slider_color),"upload"in M&&n(9,g=M.upload),"stream_handler"in M&&n(10,h=M.stream_handler),"max_file_size"in M&&n(11,m=M.max_file_size),"i18n"in M&&n(12,d=M.i18n),"max_height"in M&&n(13,X=M.max_height),"dragging"in M&&n(1,c=M.dragging),"$$scope"in M&&n(30,l=M.$$scope)},i.$$.update=()=>{i.$$.dirty&1048577&&JSON.stringify(s)!==I&&(n(20,I=JSON.stringify(s)),n(14,D=s)),i.$$.dirty&2&&R("drag",c)},[s,c,f,u,r,a,o,_,v,g,h,m,d,X,D,T,b,w,z,R,I,t,H,U,F,W,O,J,oe,fe,l]}class wn extends ge{constructor(e){super(),de(this,e,bn,mn,me,{value:0,label:3,show_label:4,root:5,position:2,upload_count:6,show_download_button:7,slider_color:8,upload:9,stream_handler:10,max_file_size:11,i18n:12,max_height:13,dragging:1})}}function pn(i){let e;const n=i[11].default,t=Me(n,i,i[21],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&2097152)&&Te(t,n,l,l[21],e?Re(n,l[21],s,null):Ie(l[21]),null)},i(l){e||(k(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function vn(i){let e,n,t,l;function s(a){i[12](a)}function u(a){i[13](a)}let r={slider_color:"var(--border-color-primary)",position:.5,root:i[7],label:i[4],show_label:i[5],upload_count:i[8],stream_handler:i[3],upload:i[2],max_file_size:i[10],max_height:i[9],i18n:i[6],$$slots:{default:[pn]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.value=i[0]),i[1]!==void 0&&(r.dragging=i[1]),e=new wn({props:r}),A.push(()=>te(e,"value",s)),A.push(()=>te(e,"dragging",u)),e.$on("edit",i[14]),e.$on("clear",i[15]),e.$on("stream",i[16]),e.$on("drag",i[17]),e.$on("upload",i[18]),e.$on("select",i[19]),e.$on("share",i[20]),{c(){L(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,f){P(e,a,f),l=!0},p(a,[f]){const o={};f&128&&(o.root=a[7]),f&16&&(o.label=a[4]),f&32&&(o.show_label=a[5]),f&256&&(o.upload_count=a[8]),f&8&&(o.stream_handler=a[3]),f&4&&(o.upload=a[2]),f&1024&&(o.max_file_size=a[10]),f&512&&(o.max_height=a[9]),f&64&&(o.i18n=a[6]),f&2097152&&(o.$$scope={dirty:f,ctx:a}),!n&&f&1&&(n=!0,o.value=a[0],ne(()=>n=!1)),!t&&f&2&&(t=!0,o.dragging=a[1],ne(()=>t=!1)),e.$set(o)},i(a){l||(k(e.$$.fragment,a),l=!0)},o(a){E(e.$$.fragment,a),l=!1},d(a){N(e,a)}}}function kn(i,e,n){let{$$slots:t={},$$scope:l}=e,{value:s=[null,null]}=e,{upload:u}=e,{stream_handler:r}=e,{label:a}=e,{show_label:f}=e,{i18n:o}=e,{root:_}=e,{upload_count:v=1}=e,{dragging:g}=e,{max_height:h}=e,{max_file_size:m=null}=e;function d(c){s=c,n(0,s)}function X(c){g=c,n(1,g)}function D(c){ce.call(this,i,c)}function T(c){ce.call(this,i,c)}function b(c){ce.call(this,i,c)}const w=({detail:c})=>n(1,g=c);function z(c){ce.call(this,i,c)}function I(c){ce.call(this,i,c)}function R(c){ce.call(this,i,c)}return i.$$set=c=>{"value"in c&&n(0,s=c.value),"upload"in c&&n(2,u=c.upload),"stream_handler"in c&&n(3,r=c.stream_handler),"label"in c&&n(4,a=c.label),"show_label"in c&&n(5,f=c.show_label),"i18n"in c&&n(6,o=c.i18n),"root"in c&&n(7,_=c.root),"upload_count"in c&&n(8,v=c.upload_count),"dragging"in c&&n(1,g=c.dragging),"max_height"in c&&n(9,h=c.max_height),"max_file_size"in c&&n(10,m=c.max_file_size),"$$scope"in c&&n(21,l=c.$$scope)},[s,g,u,r,a,f,o,_,v,h,m,t,d,X,D,T,b,w,z,I,R,l]}class zn extends ge{constructor(e){super(),de(this,e,kn,vn,me,{value:0,upload:2,stream_handler:3,label:4,show_label:5,i18n:6,root:7,upload_count:8,dragging:1,max_height:9,max_file_size:10})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),S()}get upload(){return this.$$.ctx[2]}set upload(e){this.$$set({upload:e}),S()}get stream_handler(){return this.$$.ctx[3]}set stream_handler(e){this.$$set({stream_handler:e}),S()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),S()}get show_label(){return this.$$.ctx[5]}set show_label(e){this.$$set({show_label:e}),S()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),S()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),S()}get upload_count(){return this.$$.ctx[8]}set upload_count(e){this.$$set({upload_count:e}),S()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),S()}get max_height(){return this.$$.ctx[9]}set max_height(e){this.$$set({max_height:e}),S()}get max_file_size(){return this.$$.ctx[10]}set max_file_size(e){this.$$set({max_file_size:e}),S()}}function Xn(i){let e,n;return e=new rt({props:{visible:i[4],variant:i[0]===null?"dashed":"solid",border_mode:i[22]?"focus":"base",padding:!1,elem_id:i[2],elem_classes:i[3],height:i[9]||void 0,width:i[10],allow_overflow:!1,container:i[11],scale:i[12],min_width:i[13],$$slots:{default:[Rn]},$$scope:{ctx:i}}}),e.$on("dragenter",i[25]),e.$on("dragleave",i[25]),e.$on("dragover",i[25]),e.$on("drop",i[26]),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[0]&16&&(s.visible=t[4]),l[0]&1&&(s.variant=t[0]===null?"dashed":"solid"),l[0]&4194304&&(s.border_mode=t[22]?"focus":"base"),l[0]&4&&(s.elem_id=t[2]),l[0]&8&&(s.elem_classes=t[3]),l[0]&512&&(s.height=t[9]||void 0),l[0]&1024&&(s.width=t[10]),l[0]&2048&&(s.container=t[11]),l[0]&4096&&(s.scale=t[12]),l[0]&8192&&(s.min_width=t[13]),l[0]&14319971|l[1]&262144&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Yn(i){let e,n,t;function l(u){i[37](u)}let s={visible:i[4],variant:"solid",border_mode:i[22]?"focus":"base",padding:!1,elem_id:i[2],elem_classes:i[3],height:i[9]||void 0,width:i[10],allow_overflow:!1,container:i[11],scale:i[12],min_width:i[13],$$slots:{default:[Sn]},$$scope:{ctx:i}};return i[21]!==void 0&&(s.fullscreen=i[21]),e=new rt({props:s}),A.push(()=>te(e,"fullscreen",l)),{c(){L(e.$$.fragment)},l(u){B(e.$$.fragment,u)},m(u,r){P(e,u,r),t=!0},p(u,r){const a={};r[0]&16&&(a.visible=u[4]),r[0]&4194304&&(a.border_mode=u[22]?"focus":"base"),r[0]&4&&(a.elem_id=u[2]),r[0]&8&&(a.elem_classes=u[3]),r[0]&512&&(a.height=u[9]||void 0),r[0]&1024&&(a.width=u[10]),r[0]&2048&&(a.container=u[11]),r[0]&4096&&(a.scale=u[12]),r[0]&8192&&(a.min_width=u[13]),r[0]&20791523|r[1]&262144&&(a.$$scope={dirty:r,ctx:u}),!n&&r[0]&2097152&&(n=!0,a.fullscreen=u[21],ne(()=>n=!1)),e.$set(a)},i(u){t||(k(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){N(e,u)}}}function En(i){let e,n;return e=new He({props:{unpadded_box:!0,size:"large",$$slots:{default:[Tn]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[1]&262144&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Dn(i){let e,n;return e=new gt({props:{i18n:i[20].i18n,type:"clipboard",mode:"short"}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[0]&1048576&&(s.i18n=t[20].i18n),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Mn(i){let e,n;return e=new gt({props:{i18n:i[20].i18n,type:"image",placeholder:i[15]}}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},p(t,l){const s={};l[0]&1048576&&(s.i18n=t[20].i18n),l[0]&32768&&(s.placeholder=t[15]),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Tn(i){let e,n;return e=new Ye({}),{c(){L(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){P(e,t,l),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function In(i){let e,n,t,l;const s=[Mn,Dn,En],u=[];function r(a,f){return 0}return e=r(),n=u[e]=s[e](i),{c(){n.c(),t=_e()},l(a){n.l(a),t=_e()},m(a,f){u[e].m(a,f),j(a,t,f),l=!0},p(a,f){n.p(a,f)},i(a){l||(k(n),l=!0)},o(a){E(n),l=!1},d(a){a&&C(t),u[e].d(a)}}}function Rn(i){var v;let e,n,t,l,s,u;const r=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let a={};for(let g=0;g<r.length;g+=1)a=ve(a,r[g]);e=new ut({props:a}),e.$on("clear_status",i[38]);function f(g){i[41](g)}function o(g){i[42](g)}let _={root:i[8],label:i[5],show_label:i[6],upload_count:i[17],max_file_size:i[20].max_file_size,i18n:i[20].i18n,upload:i[39],stream_handler:(v=i[20].client)==null?void 0:v.stream,max_height:i[19],$$slots:{default:[In]},$$scope:{ctx:i}};return i[0]!==void 0&&(_.value=i[0]),i[22]!==void 0&&(_.dragging=i[22]),t=new zn({props:_}),i[40](t),A.push(()=>te(t,"value",f)),A.push(()=>te(t,"dragging",o)),t.$on("edit",i[43]),t.$on("clear",i[44]),t.$on("drag",i[45]),t.$on("upload",i[46]),t.$on("error",i[47]),t.$on("close_stream",i[48]),{c(){L(e.$$.fragment),n=x(),L(t.$$.fragment)},l(g){B(e.$$.fragment,g),n=ee(g),B(t.$$.fragment,g)},m(g,h){P(e,g,h),j(g,n,h),P(t,g,h),u=!0},p(g,h){var X;const m=h[0]&1048578?Fe(r,[h[0]&1048576&&{autoscroll:g[20].autoscroll},h[0]&1048576&&{i18n:g[20].i18n},h[0]&2&&at(g[1])]):{};e.$set(m);const d={};h[0]&256&&(d.root=g[8]),h[0]&32&&(d.label=g[5]),h[0]&64&&(d.show_label=g[6]),h[0]&131072&&(d.upload_count=g[17]),h[0]&1048576&&(d.max_file_size=g[20].max_file_size),h[0]&1048576&&(d.i18n=g[20].i18n),h[0]&1048576&&(d.upload=g[39]),h[0]&1048576&&(d.stream_handler=(X=g[20].client)==null?void 0:X.stream),h[0]&524288&&(d.max_height=g[19]),h[0]&1081344|h[1]&262144&&(d.$$scope={dirty:h,ctx:g}),!l&&h[0]&1&&(l=!0,d.value=g[0],ne(()=>l=!1)),!s&&h[0]&4194304&&(s=!0,d.dragging=g[22],ne(()=>s=!1)),t.$set(d)},i(g){u||(k(e.$$.fragment,g),k(t.$$.fragment,g),u=!0)},o(g){E(e.$$.fragment,g),E(t.$$.fragment,g),u=!1},d(g){g&&C(n),N(e,g),i[40](null),N(t,g)}}}function Sn(i){let e,n,t,l,s;const u=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let r={};for(let o=0;o<u.length;o+=1)r=ve(r,u[o]);e=new ut({props:r});function a(o){i[31](o)}let f={fullscreen:i[21],interactive:i[14],label:i[5],show_label:i[6],show_download_button:i[7],i18n:i[20].i18n,show_fullscreen_button:i[16],position:i[24],slider_color:i[18],max_height:i[19]};return i[0]!==void 0&&(f.value=i[0]),t=new tn({props:f}),A.push(()=>te(t,"value",a)),t.$on("select",i[32]),t.$on("share",i[33]),t.$on("error",i[34]),t.$on("clear",i[35]),t.$on("fullscreen",i[36]),{c(){L(e.$$.fragment),n=x(),L(t.$$.fragment)},l(o){B(e.$$.fragment,o),n=ee(o),B(t.$$.fragment,o)},m(o,_){P(e,o,_),j(o,n,_),P(t,o,_),s=!0},p(o,_){const v=_[0]&1048578?Fe(u,[_[0]&1048576&&{autoscroll:o[20].autoscroll},_[0]&1048576&&{i18n:o[20].i18n},_[0]&2&&at(o[1])]):{};e.$set(v);const g={};_[0]&2097152&&(g.fullscreen=o[21]),_[0]&16384&&(g.interactive=o[14]),_[0]&32&&(g.label=o[5]),_[0]&64&&(g.show_label=o[6]),_[0]&128&&(g.show_download_button=o[7]),_[0]&1048576&&(g.i18n=o[20].i18n),_[0]&65536&&(g.show_fullscreen_button=o[16]),_[0]&16777216&&(g.position=o[24]),_[0]&262144&&(g.slider_color=o[18]),_[0]&524288&&(g.max_height=o[19]),!l&&_[0]&1&&(l=!0,g.value=o[0],ne(()=>l=!1)),t.$set(g)},i(o){s||(k(e.$$.fragment,o),k(t.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),s=!1},d(o){o&&C(n),N(e,o),N(t,o)}}}function Cn(i){let e,n,t,l;const s=[Yn,Xn],u=[];function r(a,f){var o,_;return!a[14]||(o=a[0])!=null&&o[1]&&((_=a[0])!=null&&_[0])?0:1}return e=r(i),n=u[e]=s[e](i),{c(){n.c(),t=_e()},l(a){n.l(a),t=_e()},m(a,f){u[e].m(a,f),j(a,t,f),l=!0},p(a,f){let o=e;e=r(a),e===o?u[e].p(a,f):(se(),E(u[o],1,1,()=>{u[o]=null}),ae(),n=u[e],n?n.p(a,f):(n=u[e]=s[e](a),n.c()),k(n,1),n.m(t.parentNode,t))},i(a){l||(k(n),l=!0)},o(a){E(n),l=!1},d(a){a&&C(t),u[e].d(a)}}}let Ln=!1;function Bn(i,e,n){let t,{value_is_output:l=!1}=e,{elem_id:s=""}=e,{elem_classes:u=[]}=e,{visible:r=!0}=e,{value:a=[null,null]}=e,f=[null,null],{label:o}=e,{show_label:_}=e,{show_download_button:v}=e,{root:g}=e,{height:h}=e,{width:m}=e,{container:d=!0}=e,{scale:X=null}=e,{min_width:D=void 0}=e,{loading_status:T}=e,{interactive:b}=e,{placeholder:w=void 0}=e,{show_fullscreen_button:z}=e,I=!1,{input_ready:R}=e,{slider_position:c}=e,{upload_count:H=1}=e,{slider_color:U="var(--border-color-primary)"}=e,{max_height:F}=e,{gradio:W}=e;Et(()=>{n(27,l=!1)});let O,J;const oe=p=>{const ue=p;ue.preventDefault(),ue.stopPropagation(),ue.type==="dragenter"||ue.type==="dragover"?n(22,O=!0):ue.type==="dragleave"&&n(22,O=!1)},fe=p=>{if(b){const ue=p;ue.preventDefault(),ue.stopPropagation(),n(22,O=!1),J&&J.loadFilesFromDrop(ue)}};function M(p){a=p,n(0,a)}const le=({detail:p})=>W.dispatch("select",p),ie=({detail:p})=>W.dispatch("share",p),Ce=({detail:p})=>W.dispatch("error",p),Le=()=>W.dispatch("clear"),Be=({detail:p})=>{n(21,I=p)};function Pe(p){I=p,n(21,I)}const Ne=()=>W.dispatch("clear_status",T),Ue=(...p)=>W.client.upload(...p);function Y(p){A[p?"unshift":"push"](()=>{J=p,n(23,J)})}function re(p){a=p,n(0,a)}function pe(p){O=p,n(22,O)}const he=()=>W.dispatch("edit"),Ve=()=>{W.dispatch("clear")},mt=({detail:p})=>n(22,O=p),bt=()=>W.dispatch("upload"),wt=({detail:p})=>{n(1,T=T||{}),n(1,T.status="error",T),W.dispatch("error",p)},pt=()=>{W.dispatch("close_stream","stream")};return i.$$set=p=>{"value_is_output"in p&&n(27,l=p.value_is_output),"elem_id"in p&&n(2,s=p.elem_id),"elem_classes"in p&&n(3,u=p.elem_classes),"visible"in p&&n(4,r=p.visible),"value"in p&&n(0,a=p.value),"label"in p&&n(5,o=p.label),"show_label"in p&&n(6,_=p.show_label),"show_download_button"in p&&n(7,v=p.show_download_button),"root"in p&&n(8,g=p.root),"height"in p&&n(9,h=p.height),"width"in p&&n(10,m=p.width),"container"in p&&n(11,d=p.container),"scale"in p&&n(12,X=p.scale),"min_width"in p&&n(13,D=p.min_width),"loading_status"in p&&n(1,T=p.loading_status),"interactive"in p&&n(14,b=p.interactive),"placeholder"in p&&n(15,w=p.placeholder),"show_fullscreen_button"in p&&n(16,z=p.show_fullscreen_button),"input_ready"in p&&n(28,R=p.input_ready),"slider_position"in p&&n(29,c=p.slider_position),"upload_count"in p&&n(17,H=p.upload_count),"slider_color"in p&&n(18,U=p.slider_color),"max_height"in p&&n(19,F=p.max_height),"gradio"in p&&n(20,W=p.gradio)},i.$$.update=()=>{i.$$.dirty[0]&536870912&&n(24,t=Math.max(0,Math.min(100,c))/100),i.$$.dirty[0]&1209008129&&JSON.stringify(a)!==JSON.stringify(f)&&(n(30,f=a),W.dispatch("change"),l||W.dispatch("input"))},n(28,R=!Ln),[a,T,s,u,r,o,_,v,g,h,m,d,X,D,b,w,z,H,U,F,W,I,O,J,t,oe,fe,l,R,c,f,M,le,ie,Ce,Le,Be,Pe,Ne,Ue,Y,re,pe,he,Ve,mt,bt,wt,pt]}class Qn extends ge{constructor(e){super(),de(this,e,Bn,Cn,me,{value_is_output:27,elem_id:2,elem_classes:3,visible:4,value:0,label:5,show_label:6,show_download_button:7,root:8,height:9,width:10,container:11,scale:12,min_width:13,loading_status:1,interactive:14,placeholder:15,show_fullscreen_button:16,input_ready:28,slider_position:29,upload_count:17,slider_color:18,max_height:19,gradio:20},null,[-1,-1])}get value_is_output(){return this.$$.ctx[27]}set value_is_output(e){this.$$set({value_is_output:e}),S()}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),S()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),S()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),S()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),S()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),S()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),S()}get show_download_button(){return this.$$.ctx[7]}set show_download_button(e){this.$$set({show_download_button:e}),S()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),S()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),S()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),S()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),S()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),S()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),S()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),S()}get interactive(){return this.$$.ctx[14]}set interactive(e){this.$$set({interactive:e}),S()}get placeholder(){return this.$$.ctx[15]}set placeholder(e){this.$$set({placeholder:e}),S()}get show_fullscreen_button(){return this.$$.ctx[16]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),S()}get input_ready(){return this.$$.ctx[28]}set input_ready(e){this.$$set({input_ready:e}),S()}get slider_position(){return this.$$.ctx[29]}set slider_position(e){this.$$set({slider_position:e}),S()}get upload_count(){return this.$$.ctx[17]}set upload_count(e){this.$$set({upload_count:e}),S()}get slider_color(){return this.$$.ctx[18]}set slider_color(e){this.$$set({slider_color:e}),S()}get max_height(){return this.$$.ctx[19]}set max_height(e){this.$$set({max_height:e}),S()}get gradio(){return this.$$.ctx[20]}set gradio(e){this.$$set({gradio:e}),S()}}export{Qn as default};
//# sourceMappingURL=Index.DuS9IYNO.js.map
