import { c as create_ssr_component, b as createEventDispatcher, v as validate_component, d as add_attribute } from './ssr-C3HYbsxA.js';
import { g as Et, n as ne, _ as _t, U as Ue, T as Te, M as Mt, O, $ as $t, G as Ge, m as _, v as g } from './2-CzxFoJuL.js';
import './index-ClteBeTX.js';
import './Component-NmRBwSfF.js';
import 'path';
import 'url';
import 'fs';

const W={code:".image-container.svelte-zxsjoa.svelte-zxsjoa{height:100%;position:relative;min-width:var(--size-20)}.image-container.svelte-zxsjoa button.svelte-zxsjoa{width:var(--size-full);height:var(--size-full);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center}.image-frame.svelte-zxsjoa img{width:var(--size-full);height:var(--size-full);object-fit:scale-down}.selectable.svelte-zxsjoa.svelte-zxsjoa{cursor:crosshair}.fullscreen-controls svg{position:relative;top:0px}.image-container:fullscreen{background-color:black;display:flex;justify-content:center;align-items:center}.image-container:fullscreen img{max-width:90vw;max-height:90vh;object-fit:scale-down}.image-frame.svelte-zxsjoa.svelte-zxsjoa{width:auto;height:100%;display:flex;align-items:center;justify-content:center}",map:'{"version":3,"file":"ImagePreview.svelte","sources":["ImagePreview.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { createEventDispatcher, onMount } from \\"svelte\\";\\nimport { uploadToHuggingFace } from \\"@gradio/utils\\";\\nimport { BlockLabel, Empty, IconButton, ShareButton, IconButtonWrapper, FullscreenButton, DownloadLink } from \\"@gradio/atoms\\";\\nimport { Download, Image as ImageIcon } from \\"@gradio/icons\\";\\nimport { get_coordinates_of_clicked_image } from \\"./utils\\";\\nimport Image from \\"./Image.svelte\\";\\nexport let value;\\nexport let label = void 0;\\nexport let show_label;\\nexport let show_download_button = true;\\nexport let selectable = false;\\nexport let show_share_button = false;\\nexport let i18n;\\nexport let show_fullscreen_button = true;\\nexport let display_icon_button_wrapper_top_corner = false;\\nexport let fullscreen = false;\\nconst dispatch = createEventDispatcher();\\nconst handle_click = (evt) => {\\n    let coordinates = get_coordinates_of_clicked_image(evt);\\n    if (coordinates) {\\n        dispatch(\\"select\\", { index: coordinates, value: null });\\n    }\\n};\\nlet image_container;\\n<\/script>\\n\\n<BlockLabel\\n\\t{show_label}\\n\\tIcon={ImageIcon}\\n\\tlabel={!show_label ? \\"\\" : label || i18n(\\"image.image\\")}\\n/>\\n{#if value === null || !value.url}\\n\\t<Empty unpadded_box={true} size=\\"large\\"><ImageIcon /></Empty>\\n{:else}\\n\\t<div class=\\"image-container\\" bind:this={image_container}>\\n\\t\\t<IconButtonWrapper\\n\\t\\t\\tdisplay_top_corner={display_icon_button_wrapper_top_corner}\\n\\t\\t>\\n\\t\\t\\t{#if show_fullscreen_button}\\n\\t\\t\\t\\t<FullscreenButton {fullscreen} on:fullscreen />\\n\\t\\t\\t{/if}\\n\\n\\t\\t\\t{#if show_download_button}\\n\\t\\t\\t\\t<DownloadLink href={value.url} download={value.orig_name || \\"image\\"}>\\n\\t\\t\\t\\t\\t<IconButton Icon={Download} label={i18n(\\"common.download\\")} />\\n\\t\\t\\t\\t</DownloadLink>\\n\\t\\t\\t{/if}\\n\\t\\t\\t{#if show_share_button}\\n\\t\\t\\t\\t<ShareButton\\n\\t\\t\\t\\t\\t{i18n}\\n\\t\\t\\t\\t\\ton:share\\n\\t\\t\\t\\t\\ton:error\\n\\t\\t\\t\\t\\tformatter={async (value) => {\\n\\t\\t\\t\\t\\t\\tif (!value) return \\"\\";\\n\\t\\t\\t\\t\\t\\tlet url = await uploadToHuggingFace(value, \\"url\\");\\n\\t\\t\\t\\t\\t\\treturn `<img src=\\"${url}\\" />`;\\n\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t{value}\\n\\t\\t\\t\\t/>\\n\\t\\t\\t{/if}\\n\\t\\t</IconButtonWrapper>\\n\\t\\t<button on:click={handle_click}>\\n\\t\\t\\t<div class:selectable class=\\"image-frame\\">\\n\\t\\t\\t\\t<Image src={value.url} alt=\\"\\" loading=\\"lazy\\" on:load />\\n\\t\\t\\t</div>\\n\\t\\t</button>\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t.image-container {\\n\\t\\theight: 100%;\\n\\t\\tposition: relative;\\n\\t\\tmin-width: var(--size-20);\\n\\t}\\n\\n\\t.image-container button {\\n\\t\\twidth: var(--size-full);\\n\\t\\theight: var(--size-full);\\n\\t\\tborder-radius: var(--radius-lg);\\n\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n\\n\\t.image-frame :global(img) {\\n\\t\\twidth: var(--size-full);\\n\\t\\theight: var(--size-full);\\n\\t\\tobject-fit: scale-down;\\n\\t}\\n\\n\\t.selectable {\\n\\t\\tcursor: crosshair;\\n\\t}\\n\\n\\t:global(.fullscreen-controls svg) {\\n\\t\\tposition: relative;\\n\\t\\ttop: 0px;\\n\\t}\\n\\n\\t:global(.image-container:fullscreen) {\\n\\t\\tbackground-color: black;\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: center;\\n\\t\\talign-items: center;\\n\\t}\\n\\n\\t:global(.image-container:fullscreen img) {\\n\\t\\tmax-width: 90vw;\\n\\t\\tmax-height: 90vh;\\n\\t\\tobject-fit: scale-down;\\n\\t}\\n\\n\\t.image-frame {\\n\\t\\twidth: auto;\\n\\t\\theight: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}</style>\\n"],"names":[],"mappings":"AAsEC,4CAAiB,CAChB,MAAM,CAAE,IAAI,CACZ,QAAQ,CAAE,QAAQ,CAClB,SAAS,CAAE,IAAI,SAAS,CACzB,CAEA,8BAAgB,CAAC,oBAAO,CACvB,KAAK,CAAE,IAAI,WAAW,CAAC,CACvB,MAAM,CAAE,IAAI,WAAW,CAAC,CACxB,aAAa,CAAE,IAAI,WAAW,CAAC,CAE/B,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAClB,CAEA,0BAAY,CAAS,GAAK,CACzB,KAAK,CAAE,IAAI,WAAW,CAAC,CACvB,MAAM,CAAE,IAAI,WAAW,CAAC,CACxB,UAAU,CAAE,UACb,CAEA,uCAAY,CACX,MAAM,CAAE,SACT,CAEQ,wBAA0B,CACjC,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GACN,CAEQ,2BAA6B,CACpC,gBAAgB,CAAE,KAAK,CACvB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MACd,CAEQ,+BAAiC,CACxC,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,UAAU,CAAE,UACb,CAEA,wCAAa,CACZ,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAClB"}'},U=create_ssr_component((n,t,e,M)=>{let{value:a}=t,{label:r=void 0}=t,{show_label:A}=t,{show_download_button:i=!0}=t,{selectable:s=!1}=t,{show_share_button:c=!1}=t,{i18n:l}=t,{show_fullscreen_button:u=!0}=t,{display_icon_button_wrapper_top_corner:d=!1}=t,{fullscreen:C=!1}=t;createEventDispatcher();let _$1;return t.value===void 0&&e.value&&a!==void 0&&e.value(a),t.label===void 0&&e.label&&r!==void 0&&e.label(r),t.show_label===void 0&&e.show_label&&A!==void 0&&e.show_label(A),t.show_download_button===void 0&&e.show_download_button&&i!==void 0&&e.show_download_button(i),t.selectable===void 0&&e.selectable&&s!==void 0&&e.selectable(s),t.show_share_button===void 0&&e.show_share_button&&c!==void 0&&e.show_share_button(c),t.i18n===void 0&&e.i18n&&l!==void 0&&e.i18n(l),t.show_fullscreen_button===void 0&&e.show_fullscreen_button&&u!==void 0&&e.show_fullscreen_button(u),t.display_icon_button_wrapper_top_corner===void 0&&e.display_icon_button_wrapper_top_corner&&d!==void 0&&e.display_icon_button_wrapper_top_corner(d),t.fullscreen===void 0&&e.fullscreen&&C!==void 0&&e.fullscreen(C),n.css.add(W),`${validate_component(Et,"BlockLabel").$$render(n,{show_label:A,Icon:ne,label:A?r||l("image.image"):""},{},{})} ${a===null||!a.url?`${validate_component(_t,"Empty").$$render(n,{unpadded_box:!0,size:"large"},{},{default:()=>`${validate_component(ne,"ImageIcon").$$render(n,{},{},{})}`})}`:`<div class="image-container svelte-zxsjoa"${add_attribute("this",_$1,0)}>${validate_component(Ue,"IconButtonWrapper").$$render(n,{display_top_corner:d},{},{default:()=>`${u?`${validate_component(Te,"FullscreenButton").$$render(n,{fullscreen:C},{},{})}`:""} ${i?`${validate_component(Mt,"DownloadLink").$$render(n,{href:a.url,download:a.orig_name||"image"},{},{default:()=>`${validate_component(O,"IconButton").$$render(n,{Icon:$t,label:l("common.download")},{},{})}`})}`:""} ${c?`${validate_component(Ge,"ShareButton").$$render(n,{i18n:l,formatter:async m=>m?`<img src="${await _(m)}" />`:"",value:a},{},{})}`:""}`})} <button class="svelte-zxsjoa"><div class="${["image-frame svelte-zxsjoa",s?"selectable":""].join(" ").trim()}">${validate_component(g,"Image").$$render(n,{src:a.url,alt:"",loading:"lazy"},{},{})}</div></button></div>`}`});

export { U as default };
//# sourceMappingURL=ImagePreview-D8htuwrM.js.map
