import{g as Kt,I as Qt}from"./ImagePreview-BDiqfxBO.js";import{W as Gt,K as Vt,N as wt,O as Xt,h as Yt,Q as Zt,B as $t,d as vt,I as xt,s as en,a as tn,k as nn,F as ln,c as kt,U as It,E as sn}from"./FullscreenButton-BoNylw4k.js";import"./init-CYs0NWnS.js";import{a as rn,f as an,S as zt}from"./StreamingBar-DuwzVLwP.js";import{p as on}from"./index-sqki5BVz.js";import{U as un}from"./ModifyUpload-C1BBLG7J.js";import{I as _n}from"./Image-0bVIZe-w.js";import{default as Vl}from"./Example-BU7VN3ij.js";import"./MarkdownCode-azIzFEvA.js";import"./prism-python-BVLPtsXx.js";import"./svelte/svelte.js";const{SvelteComponent:cn,append:Fe,attr:xe,create_component:fn,destroy_component:mn,detach:dn,element:et,init:gn,insert:hn,listen:bn,mount_component:pn,noop:wn,safe_not_equal:vn,set_style:kn,space:In,text:zn,transition_in:Dn,transition_out:yn}=window.__gradio__svelte__internal,{createEventDispatcher:Sn}=window.__gradio__svelte__internal;function En(l){let e,t,n,i,o,s="Click to Access Webcam",a,r,c,f;return i=new Gt({}),{c(){e=et("button"),t=et("div"),n=et("span"),fn(i.$$.fragment),o=In(),a=zn(s),xe(n,"class","icon-wrap svelte-qbrfs"),xe(t,"class","wrap svelte-qbrfs"),xe(e,"class","svelte-qbrfs"),kn(e,"height","100%")},m(m,v){hn(m,e,v),Fe(e,t),Fe(t,n),pn(i,n,null),Fe(t,o),Fe(t,a),r=!0,c||(f=bn(e,"click",l[1]),c=!0)},p:wn,i(m){r||(Dn(i.$$.fragment,m),r=!0)},o(m){yn(i.$$.fragment,m),r=!1},d(m){m&&dn(e),mn(i),c=!1,f()}}}function Cn(l){const e=Sn();return[e,()=>e("click")]}class Bn extends cn{constructor(e){super(),gn(this,e,Cn,En,vn,{})}}function qn(){return navigator.mediaDevices.enumerateDevices()}function Nn(l,e){e.srcObject=l,e.muted=!0,e.play()}async function at(l,e,t,n){const i={video:n?{deviceId:{exact:n},...t?.video}:t?.video||{width:{ideal:1920},height:{ideal:1440}},audio:l&&(t?.audio??!0)};return navigator.mediaDevices.getUserMedia(i).then(o=>(Nn(o,e),o))}function Tn(l){return l.filter(t=>t.kind==="videoinput")}const{SvelteComponent:Un,action_destroyer:Wn,add_render_callback:Mn,append:P,attr:C,binding_callbacks:Rn,check_outros:Ne,create_component:be,create_in_transition:Pn,destroy_component:pe,destroy_each:jn,detach:J,element:A,empty:it,ensure_array_like:ot,flush:ee,group_outros:Te,init:Fn,insert:K,listen:He,mount_component:we,noop:st,run_all:Ln,safe_not_equal:On,set_data:Pe,set_input_value:tt,set_style:Dt,space:ne,src_url_equal:ut,stop_propagation:An,text:je,toggle_class:De,transition_in:j,transition_out:O}=window.__gradio__svelte__internal,{createEventDispatcher:Hn,onDestroy:Jn,onMount:Kn}=window.__gradio__svelte__internal;function _t(l,e,t){const n=l.slice();return n[39]=e[t],n}function Qn(l){let e,t,n,i,o,s,a,r,c,f,m;const v=[Xn,Vn],D=[];function U(I,y){return I[2]==="video"||I[1]?0:1}n=U(l),i=D[n]=v[n](l);let h=!l[11]&&ct(l),k=l[13]&&l[8]&&ft(l);return{c(){e=A("div"),t=A("button"),i.c(),s=ne(),h&&h.c(),a=ne(),k&&k.c(),r=it(),C(t,"aria-label",o=l[2]==="image"?"capture photo":"start recording"),C(t,"class","svelte-10cpz3p"),C(e,"class","button-wrap svelte-10cpz3p")},m(I,y){K(I,e,y),P(e,t),D[n].m(t,null),P(e,s),h&&h.m(e,null),K(I,a,y),k&&k.m(I,y),K(I,r,y),c=!0,f||(m=He(t,"click",l[28]),f=!0)},p(I,y){let q=n;n=U(I),n===q?D[n].p(I,y):(Te(),O(D[q],1,1,()=>{D[q]=null}),Ne(),i=D[n],i?i.p(I,y):(i=D[n]=v[n](I),i.c()),j(i,1),i.m(t,null)),(!c||y[0]&4&&o!==(o=I[2]==="image"?"capture photo":"start recording"))&&C(t,"aria-label",o),I[11]?h&&(Te(),O(h,1,1,()=>{h=null}),Ne()):h?(h.p(I,y),y[0]&2048&&j(h,1)):(h=ct(I),h.c(),j(h,1),h.m(e,null)),I[13]&&I[8]?k?(k.p(I,y),y[0]&8448&&j(k,1)):(k=ft(I),k.c(),j(k,1),k.m(r.parentNode,r)):k&&(Te(),O(k,1,1,()=>{k=null}),Ne())},i(I){c||(j(i),j(h),j(k),c=!0)},o(I){O(i),O(h),O(k),c=!1},d(I){I&&(J(e),J(a),J(r)),D[n].d(),h&&h.d(),k&&k.d(I),f=!1,m()}}}function Gn(l){let e,t,n,i;return t=new Bn({}),t.$on("click",l[27]),{c(){e=A("div"),be(t.$$.fragment),C(e,"title","grant webcam access"),Dt(e,"height","100%")},m(o,s){K(o,e,s),we(t,e,null),i=!0},p:st,i(o){i||(j(t.$$.fragment,o),o&&(n||Mn(()=>{n=Pn(e,an,{delay:100,duration:200}),n.start()})),i=!0)},o(o){O(t.$$.fragment,o),i=!1},d(o){o&&J(e),pe(t)}}}function Vn(l){let e,t,n;return t=new Vt({}),{c(){e=A("div"),be(t.$$.fragment),C(e,"class","icon svelte-10cpz3p"),C(e,"title","capture photo")},m(i,o){K(i,e,o),we(t,e,null),n=!0},p:st,i(i){n||(j(t.$$.fragment,i),n=!0)},o(i){O(t.$$.fragment,i),n=!1},d(i){i&&J(e),pe(t)}}}function Xn(l){let e,t,n,i;const o=[$n,Zn,Yn],s=[];function a(r,c){return r[1]&&r[10]==="waiting"?0:r[1]&&r[10]==="open"||!r[1]&&r[11]?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=it()},m(r,c){s[e].m(r,c),K(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Te(),O(s[f],1,1,()=>{s[f]=null}),Ne(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),j(t,1),t.m(n.parentNode,n))},i(r){i||(j(t),i=!0)},o(r){O(t),i=!1},d(r){r&&J(n),s[e].d(r)}}}function Yn(l){let e,t,n,i,o=l[4]("audio.record")+"",s,a;return n=new Zt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=ne(),s=je(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","start recording"),C(e,"class","icon-with-text svelte-10cpz3p")},m(r,c){K(r,e,c),P(e,t),we(n,t,null),P(e,i),P(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.record")+"")&&Pe(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&J(e),pe(n)}}}function Zn(l){let e,t,n,i,o=l[4]("audio.stop")+"",s,a;return n=new Yt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=ne(),s=je(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","stop recording"),C(e,"class","icon-with-text svelte-10cpz3p")},m(r,c){K(r,e,c),P(e,t),we(n,t,null),P(e,i),P(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.stop")+"")&&Pe(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&J(e),pe(n)}}}function $n(l){let e,t,n,i,o=l[4]("audio.waiting")+"",s,a;return n=new Xt({}),{c(){e=A("div"),t=A("div"),be(n.$$.fragment),i=ne(),s=je(o),C(t,"class","icon color-primary svelte-10cpz3p"),C(t,"title","spinner"),C(e,"class","icon-with-text svelte-10cpz3p"),Dt(e,"width","var(--size-24)")},m(r,c){K(r,e,c),P(e,t),we(n,t,null),P(e,i),P(e,s),a=!0},p(r,c){(!a||c[0]&16)&&o!==(o=r[4]("audio.waiting")+"")&&Pe(s,o)},i(r){a||(j(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&J(e),pe(n)}}}function ct(l){let e,t,n,i,o;return t=new wt({}),{c(){e=A("button"),be(t.$$.fragment),C(e,"class","icon svelte-10cpz3p"),C(e,"aria-label","select input source")},m(s,a){K(s,e,a),we(t,e,null),n=!0,i||(o=He(e,"click",l[29]),i=!0)},p:st,i(s){n||(j(t.$$.fragment,s),n=!0)},o(s){O(t.$$.fragment,s),n=!1},d(s){s&&J(e),pe(t),i=!1,o()}}}function ft(l){let e,t,n,i,o,s,a;n=new wt({});function r(m,v){return m[7].length===0?el:xn}let c=r(l),f=c(l);return{c(){e=A("select"),t=A("button"),be(n.$$.fragment),i=ne(),f.c(),C(t,"class","inset-icon svelte-10cpz3p"),C(e,"class","select-wrap svelte-10cpz3p"),C(e,"aria-label","select source")},m(m,v){K(m,e,v),P(e,t),we(n,t,null),P(t,i),f.m(e,null),o=!0,s||(a=[He(t,"click",An(l[30])),Wn(rt.call(null,e,l[17])),He(e,"change",l[14])],s=!0)},p(m,v){c===(c=r(m))&&f?f.p(m,v):(f.d(1),f=c(m),f&&(f.c(),f.m(e,null)))},i(m){o||(j(n.$$.fragment,m),o=!0)},o(m){O(n.$$.fragment,m),o=!1},d(m){m&&J(e),pe(n),f.d(),s=!1,Ln(a)}}}function xn(l){let e,t=ot(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=mt(_t(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=it()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);K(i,e,o)},p(i,o){if(o[0]&384){t=ot(i[7]);let s;for(s=0;s<t.length;s+=1){const a=_t(i,t,s);n[s]?n[s].p(a,o):(n[s]=mt(a),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){i&&J(e),jn(n,i)}}}function el(l){let e,t=l[4]("common.no_devices")+"",n;return{c(){e=A("option"),n=je(t),e.__value="",tt(e,e.__value),C(e,"class","svelte-10cpz3p")},m(i,o){K(i,e,o),P(e,n)},p(i,o){o[0]&16&&t!==(t=i[4]("common.no_devices")+"")&&Pe(n,t)},d(i){i&&J(e)}}}function mt(l){let e,t=l[39].label+"",n,i,o,s;return{c(){e=A("option"),n=je(t),i=ne(),e.__value=o=l[39].deviceId,tt(e,e.__value),e.selected=s=l[8].deviceId===l[39].deviceId,C(e,"class","svelte-10cpz3p")},m(a,r){K(a,e,r),P(e,n),P(e,i)},p(a,r){r[0]&128&&t!==(t=a[39].label+"")&&Pe(n,t),r[0]&128&&o!==(o=a[39].deviceId)&&(e.__value=o,tt(e,e.__value)),r[0]&384&&s!==(s=a[8].deviceId===a[39].deviceId)&&(e.selected=s)},d(a){a&&J(e)}}}function tl(l){let e,t,n,i,o,s,a,r,c,f,m;t=new rn({props:{time_limit:l[9]}});const v=[Gn,Qn],D=[];function U(h,k){return h[12]?1:0}return c=U(l),f=D[c]=v[c](l),{c(){e=A("div"),be(t.$$.fragment),n=ne(),i=A("video"),o=ne(),s=A("img"),r=ne(),f.c(),C(i,"class","svelte-10cpz3p"),De(i,"flip",l[3]),De(i,"hide",!l[12]||l[12]&&!!l[0]),ut(s.src,a=l[0]?.url)||C(s,"src",a),C(s,"class","svelte-10cpz3p"),De(s,"hide",!l[12]||l[12]&&!l[0]),C(e,"class","wrap svelte-10cpz3p")},m(h,k){K(h,e,k),we(t,e,null),P(e,n),P(e,i),l[26](i),P(e,o),P(e,s),P(e,r),D[c].m(e,null),m=!0},p(h,k){const I={};k[0]&512&&(I.time_limit=h[9]),t.$set(I),(!m||k[0]&8)&&De(i,"flip",h[3]),(!m||k[0]&4097)&&De(i,"hide",!h[12]||h[12]&&!!h[0]),(!m||k[0]&1&&!ut(s.src,a=h[0]?.url))&&C(s,"src",a),(!m||k[0]&4097)&&De(s,"hide",!h[12]||h[12]&&!h[0]);let y=c;c=U(h),c===y?D[c].p(h,k):(Te(),O(D[y],1,1,()=>{D[y]=null}),Ne(),f=D[c],f?f.p(h,k):(f=D[c]=v[c](h),f.c()),j(f,1),f.m(e,null))},i(h){m||(j(t.$$.fragment,h),j(f),m=!0)},o(h){O(t.$$.fragment,h),O(f),m=!1},d(h){h&&J(e),pe(t),l[26](null),D[c].d()}}}function rt(l,e){const t=n=>{l&&!l.contains(n.target)&&!n.defaultPrevented&&e(n)};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function nl(l,e,t){let n,i=[],o=null,s=null,a="closed";const r=b=>{b==="closed"?(t(9,s=null),t(10,a="closed"),t(0,p=null)):b==="waiting"?t(10,a="waiting"):t(10,a="open")},c=b=>{w&&t(9,s=b)};let f,{streaming:m=!1}=e,{pending:v=!1}=e,{root:D=""}=e,{stream_every:U=1}=e,{mode:h="image"}=e,{mirror_webcam:k}=e,{include_audio:I}=e,{webcam_constraints:y=null}=e,{i18n:q}=e,{upload:g}=e,{value:p=null}=e;const B=Hn();Kn(()=>{f=document.createElement("canvas"),m&&h==="image"&&window.setInterval(()=>{n&&!v&&d()},U*1e3)});const z=async b=>{const $=b.target.value;await at(I,n,y,$).then(async ke=>{L=ke,t(8,o=i.find(Ie=>Ie.deviceId===$)||null),t(13,te=!1)})};async function S(){try{at(I,n,y).then(async b=>{t(12,Q=!0),t(7,i=await qn()),L=b}).then(()=>Tn(i)).then(b=>{t(7,i=b);const M=L.getTracks().map($=>$.getSettings()?.deviceId)[0];t(8,o=M&&b.find($=>$.deviceId===M)||i[0])}),(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)&&B("error",q("image.no_webcam_support"))}catch(b){if(b instanceof DOMException&&b.name=="NotAllowedError")B("error",q("image.allow_webcam_access"));else throw b}}function d(){var b=f.getContext("2d");if((!m||m&&w)&&n.videoWidth&&n.videoHeight){if(f.width=n.videoWidth,f.height=n.videoHeight,b.drawImage(n,0,0,n.videoWidth,n.videoHeight),k&&(b.scale(-1,1),b.drawImage(n,-n.videoWidth,0)),m&&(!w||a==="waiting"))return;if(m){const M=f.toDataURL("image/jpeg");B("stream",M);return}f.toBlob(M=>{B(m?"stream":"capture",M)},`image/${m?"jpeg":"png"}`,.8)}}let w=!1,Y=[],L,N,H;function Z(){if(w){H.stop();let b=new Blob(Y,{type:N}),M=new FileReader;M.onload=async function($){if($.target){let ke=new File([b],"sample."+N.substring(6));const Ie=await on([ke]);let Ee=(await g(Ie,D))?.filter(Boolean)[0];B("capture",Ee),B("stop_recording")}},M.readAsDataURL(b)}else if(typeof MediaRecorder<"u"){B("start_recording"),Y=[];let b=["video/webm","video/mp4"];for(let M of b)if(MediaRecorder.isTypeSupported(M)){N=M;break}if(N===null){console.error("No supported MediaRecorder mimeType");return}H=new MediaRecorder(L,{mimeType:N}),H.addEventListener("dataavailable",function(M){Y.push(M.data)}),H.start(200)}t(11,w=!w)}let Q=!1;function re({destroy:b}={}){h==="image"&&m&&t(11,w=!w),b||(h==="image"?d():Z()),!w&&L&&(B("close_stream"),L.getTracks().forEach(M=>M.stop()),t(6,n.srcObject=null,n),t(12,Q=!1),window.setTimeout(()=>{t(0,p=null)},500),t(0,p=null))}let te=!1;function G(b){b.preventDefault(),b.stopPropagation(),t(13,te=!1)}Jn(()=>{typeof window>"u"||(re({destroy:!0}),L?.getTracks().forEach(b=>b.stop()))});function ce(b){Rn[b?"unshift":"push"](()=>{n=b,t(6,n)})}const W=async()=>S(),x=()=>re(),ve=()=>t(13,te=!0),ae=()=>t(13,te=!1);return l.$$set=b=>{"streaming"in b&&t(1,m=b.streaming),"pending"in b&&t(20,v=b.pending),"root"in b&&t(21,D=b.root),"stream_every"in b&&t(22,U=b.stream_every),"mode"in b&&t(2,h=b.mode),"mirror_webcam"in b&&t(3,k=b.mirror_webcam),"include_audio"in b&&t(23,I=b.include_audio),"webcam_constraints"in b&&t(24,y=b.webcam_constraints),"i18n"in b&&t(4,q=b.i18n),"upload"in b&&t(25,g=b.upload),"value"in b&&t(0,p=b.value)},[p,m,h,k,q,rt,n,i,o,s,a,w,Q,te,z,S,re,G,r,c,v,D,U,I,y,g,ce,W,x,ve,ae]}class ll extends Un{constructor(e){super(),Fn(this,e,nl,tl,On,{modify_stream:18,set_time_limit:19,streaming:1,pending:20,root:21,stream_every:22,mode:2,mirror_webcam:3,include_audio:23,webcam_constraints:24,i18n:4,upload:25,value:0,click_outside:5},null,[-1,-1])}get modify_stream(){return this.$$.ctx[18]}get set_time_limit(){return this.$$.ctx[19]}get streaming(){return this.$$.ctx[1]}set streaming(e){this.$$set({streaming:e}),ee()}get pending(){return this.$$.ctx[20]}set pending(e){this.$$set({pending:e}),ee()}get root(){return this.$$.ctx[21]}set root(e){this.$$set({root:e}),ee()}get stream_every(){return this.$$.ctx[22]}set stream_every(e){this.$$set({stream_every:e}),ee()}get mode(){return this.$$.ctx[2]}set mode(e){this.$$set({mode:e}),ee()}get mirror_webcam(){return this.$$.ctx[3]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),ee()}get include_audio(){return this.$$.ctx[23]}set include_audio(e){this.$$set({include_audio:e}),ee()}get webcam_constraints(){return this.$$.ctx[24]}set webcam_constraints(e){this.$$set({webcam_constraints:e}),ee()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),ee()}get upload(){return this.$$.ctx[25]}set upload(e){this.$$set({upload:e}),ee()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),ee()}get click_outside(){return rt}}const{SvelteComponent:il,add_flush_callback:Ue,append:Le,attr:Ae,bind:We,binding_callbacks:ze,bubble:Be,check_outros:Me,create_component:de,create_slot:sl,destroy_component:ge,detach:ye,element:nt,empty:yt,flush:R,get_all_dirty_from_scope:rl,get_slot_changes:al,group_outros:Re,init:ol,insert:Se,listen:lt,mount_component:he,run_all:ul,safe_not_equal:_l,set_style:dt,space:qe,toggle_class:Je,transition_in:T,transition_out:F,update_slot_base:cl}=window.__gradio__svelte__internal,{createEventDispatcher:fl,tick:Oe}=window.__gradio__svelte__internal;function gt(l){let e,t,n,i=l[18]&&ht(l);return t=new tn({props:{Icon:nn,label:"Remove Image"}}),t.$on("click",l[25]),{c(){i&&i.c(),e=qe(),de(t.$$.fragment)},m(o,s){i&&i.m(o,s),Se(o,e,s),he(t,o,s),n=!0},p(o,s){o[18]?i?(i.p(o,s),s[0]&262144&&T(i,1)):(i=ht(o),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(Re(),F(i,1,1,()=>{i=null}),Me())},i(o){n||(T(i),T(t.$$.fragment,o),n=!0)},o(o){F(i),F(t.$$.fragment,o),n=!1},d(o){o&&ye(e),i&&i.d(o),ge(t,o)}}}function ht(l){let e,t;return e=new ln({props:{fullscreen:l[19]}}),e.$on("fullscreen",l[33]),{c(){de(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&524288&&(o.fullscreen=n[19]),e.$set(o)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function ml(l){let e,t,n=l[3]?.url&&!l[20]&&gt(l);return{c(){n&&n.c(),e=yt()},m(i,o){n&&n.m(i,o),Se(i,e,o),t=!0},p(i,o){i[3]?.url&&!i[20]?n?(n.p(i,o),o[0]&1048584&&T(n,1)):(n=gt(i),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(Re(),F(n,1,1,()=>{n=null}),Me())},i(i){t||(T(n),t=!0)},o(i){F(n),t=!1},d(i){i&&ye(e),n&&n.d(i)}}}function bt(l){let e;const t=l[32].default,n=sl(t,l,l[48],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&131072)&&cl(n,t,i,i[48],e?al(t,i[48],o,null):rl(i[48]),null)},i(i){e||(T(n,i),e=!0)},o(i){F(n,i),e=!1},d(i){n&&n.d(i)}}}function dl(l){let e,t,n=l[3]===null&&bt(l);return{c(){n&&n.c(),e=yt()},m(i,o){n&&n.m(i,o),Se(i,e,o),t=!0},p(i,o){i[3]===null?n?(n.p(i,o),o[0]&8&&T(n,1)):(n=bt(i),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(Re(),F(n,1,1,()=>{n=null}),Me())},i(i){t||(T(n),t=!0)},o(i){F(n),t=!1},d(i){i&&ye(e),n&&n.d(i)}}}function gl(l){let e,t,n,i,o;return t=new _n({props:{src:l[3].url,alt:l[3].alt_text}}),{c(){e=nt("div"),de(t.$$.fragment),Ae(e,"class","image-frame svelte-1hdlew6"),Je(e,"selectable",l[11])},m(s,a){Se(s,e,a),he(t,e,null),n=!0,i||(o=lt(e,"click",l[27]),i=!0)},p(s,a){const r={};a[0]&8&&(r.src=s[3].url),a[0]&8&&(r.alt=s[3].alt_text),t.$set(r),(!n||a[0]&2048)&&Je(e,"selectable",s[11])},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){F(t.$$.fragment,s),n=!1},d(s){s&&ye(e),ge(t),i=!1,o()}}}function hl(l){let e,t,n,i;function o(r){l[38](r)}function s(r){l[39](r)}let a={root:l[12],value:l[3],mirror_webcam:l[10].mirror,stream_every:l[17],streaming:l[9],mode:"image",include_audio:!1,i18n:l[13],upload:l[15],webcam_constraints:l[10].constraints};return l[4]!==void 0&&(a.modify_stream=l[4]),l[5]!==void 0&&(a.set_time_limit=l[5]),e=new ll({props:a}),ze.push(()=>We(e,"modify_stream",o)),ze.push(()=>We(e,"set_time_limit",s)),e.$on("capture",l[40]),e.$on("stream",l[41]),e.$on("error",l[42]),e.$on("drag",l[43]),e.$on("upload",l[44]),e.$on("close_stream",l[45]),{c(){de(e.$$.fragment)},m(r,c){he(e,r,c),i=!0},p(r,c){const f={};c[0]&4096&&(f.root=r[12]),c[0]&8&&(f.value=r[3]),c[0]&1024&&(f.mirror_webcam=r[10].mirror),c[0]&131072&&(f.stream_every=r[17]),c[0]&512&&(f.streaming=r[9]),c[0]&8192&&(f.i18n=r[13]),c[0]&32768&&(f.upload=r[15]),c[0]&1024&&(f.webcam_constraints=r[10].constraints),!t&&c[0]&16&&(t=!0,f.modify_stream=r[4],Ue(()=>t=!1)),!n&&c[0]&32&&(n=!0,f.set_time_limit=r[5],Ue(()=>n=!1)),e.$set(f)},i(r){i||(T(e.$$.fragment,r),i=!0)},o(r){F(e.$$.fragment,r),i=!1},d(r){ge(e,r)}}}function pt(l){let e,t,n;function i(s){l[46](s)}let o={sources:l[8],handle_clear:l[24],handle_select:l[28]};return l[1]!==void 0&&(o.active_source=l[1]),e=new en({props:o}),ze.push(()=>We(e,"active_source",i)),{c(){de(e.$$.fragment)},m(s,a){he(e,s,a),n=!0},p(s,a){const r={};a[0]&256&&(r.sources=s[8]),!t&&a[0]&2&&(t=!0,r.active_source=s[1],Ue(()=>t=!1)),e.$set(r)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){ge(e,s)}}}function bl(l){let e,t,n,i,o,s,a,r,c,f,m,v,D,U=l[8].length>1||l[8].includes("clipboard"),h,k,I;e=new $t({props:{show_label:l[7],Icon:vt,label:l[6]||"Image"}}),i=new xt({props:{$$slots:{default:[ml]},$$scope:{ctx:l}}});function y(d){l[35](d)}function q(d){l[36](d)}let g={hidden:l[3]!==null||l[1]==="webcam",filetype:l[1]==="clipboard"?"clipboard":"image/*",root:l[12],max_file_size:l[14],disable_click:!l[8].includes("upload")||l[3]!==null,upload:l[15],stream_handler:l[16],aria_label:l[13]("image.drop_to_upload"),$$slots:{default:[dl]},$$scope:{ctx:l}};l[0]!==void 0&&(g.uploading=l[0]),l[2]!==void 0&&(g.dragging=l[2]),a=new un({props:g}),l[34](a),ze.push(()=>We(a,"uploading",y)),ze.push(()=>We(a,"dragging",q)),a.$on("load",l[23]),a.$on("error",l[37]);const p=[hl,gl],B=[];function z(d,w){return d[1]==="webcam"&&(d[9]||!d[9]&&!d[3])?0:d[3]!==null&&!d[9]?1:-1}~(m=z(l))&&(v=B[m]=p[m](l));let S=U&&pt(l);return{c(){de(e.$$.fragment),t=qe(),n=nt("div"),de(i.$$.fragment),o=qe(),s=nt("div"),de(a.$$.fragment),f=qe(),v&&v.c(),D=qe(),S&&S.c(),Ae(s,"class","upload-container svelte-1hdlew6"),Je(s,"reduced-height",l[8].length>1),dt(s,"width",l[3]?"auto":"100%"),Ae(n,"data-testid","image"),Ae(n,"class","image-container svelte-1hdlew6")},m(d,w){he(e,d,w),Se(d,t,w),Se(d,n,w),he(i,n,null),Le(n,o),Le(n,s),he(a,s,null),Le(s,f),~m&&B[m].m(s,null),Le(n,D),S&&S.m(n,null),l[47](n),h=!0,k||(I=[lt(s,"dragover",l[29]),lt(s,"drop",l[30])],k=!0)},p(d,w){const Y={};w[0]&128&&(Y.show_label=d[7]),w[0]&64&&(Y.label=d[6]||"Image"),e.$set(Y);const L={};w[0]&1835016|w[1]&131072&&(L.$$scope={dirty:w,ctx:d}),i.$set(L);const N={};w[0]&10&&(N.hidden=d[3]!==null||d[1]==="webcam"),w[0]&2&&(N.filetype=d[1]==="clipboard"?"clipboard":"image/*"),w[0]&4096&&(N.root=d[12]),w[0]&16384&&(N.max_file_size=d[14]),w[0]&264&&(N.disable_click=!d[8].includes("upload")||d[3]!==null),w[0]&32768&&(N.upload=d[15]),w[0]&65536&&(N.stream_handler=d[16]),w[0]&8192&&(N.aria_label=d[13]("image.drop_to_upload")),w[0]&8|w[1]&131072&&(N.$$scope={dirty:w,ctx:d}),!r&&w[0]&1&&(r=!0,N.uploading=d[0],Ue(()=>r=!1)),!c&&w[0]&4&&(c=!0,N.dragging=d[2],Ue(()=>c=!1)),a.$set(N);let H=m;m=z(d),m===H?~m&&B[m].p(d,w):(v&&(Re(),F(B[H],1,1,()=>{B[H]=null}),Me()),~m?(v=B[m],v?v.p(d,w):(v=B[m]=p[m](d),v.c()),T(v,1),v.m(s,null)):v=null),(!h||w[0]&256)&&Je(s,"reduced-height",d[8].length>1),w[0]&8&&dt(s,"width",d[3]?"auto":"100%"),w[0]&256&&(U=d[8].length>1||d[8].includes("clipboard")),U?S?(S.p(d,w),w[0]&256&&T(S,1)):(S=pt(d),S.c(),T(S,1),S.m(n,null)):S&&(Re(),F(S,1,1,()=>{S=null}),Me())},i(d){h||(T(e.$$.fragment,d),T(i.$$.fragment,d),T(a.$$.fragment,d),T(v),T(S),h=!0)},o(d){F(e.$$.fragment,d),F(i.$$.fragment,d),F(a.$$.fragment,d),F(v),F(S),h=!1},d(d){d&&(ye(t),ye(n)),ge(e,d),ge(i),l[34](null),ge(a),~m&&B[m].d(),S&&S.d(),l[47](null),k=!1,ul(I)}}}function pl(l,e,t){let n,{$$slots:i={},$$scope:o}=e,{value:s=null}=e,{label:a=void 0}=e,{show_label:r}=e,{sources:c=["upload","clipboard","webcam"]}=e,{streaming:f=!1}=e,{pending:m=!1}=e,{webcam_options:v}=e,{selectable:D=!1}=e,{root:U}=e,{i18n:h}=e,{max_file_size:k=null}=e,{upload:I}=e,{stream_handler:y}=e,{stream_every:q}=e,{modify_stream:g}=e,{set_time_limit:p}=e,{show_fullscreen_button:B=!0}=e,z,{uploading:S=!1}=e,{active_source:d=null}=e,{fullscreen:w=!1}=e;async function Y({detail:_}){if(!f){if(_.path?.toLowerCase().endsWith(".svg")&&_.url){const Ce=await(await fetch(_.url)).text();t(3,s={..._,url:`data:image/svg+xml,${encodeURIComponent(Ce)}`})}else t(3,s=_);await Oe(),Z("upload")}}function L(){t(3,s=null),Z("clear"),Z("change",null)}function N(_){L(),_.stopPropagation()}async function H(_,oe){if(oe==="stream"){Z("stream",{value:{url:_},is_value_data:!0});return}t(31,m=!0);const Ce=await z.load_files([new File([_],`image/${f?"jpeg":"png"}`)]);(oe==="change"||oe==="upload")&&(t(3,s=Ce?.[0]||null),await Oe(),Z("change")),t(31,m=!1)}const Z=fl();let{dragging:Q=!1}=e;function re(_){let oe=Kt(_);oe&&Z("select",{index:oe,value:null})}async function te(_){switch(_){case"clipboard":z.paste_clipboard();break}}let G;function ce(_){_.preventDefault(),_.stopPropagation(),_.dataTransfer&&(_.dataTransfer.dropEffect="copy"),t(2,Q=!0)}async function W(_){_.preventDefault(),_.stopPropagation(),t(2,Q=!1),s&&(L(),await Oe()),t(1,d="upload"),await Oe(),z.load_files_from_drop(_)}function x(_){Be.call(this,l,_)}function ve(_){ze[_?"unshift":"push"](()=>{z=_,t(21,z)})}function ae(_){S=_,t(0,S)}function b(_){Q=_,t(2,Q)}function M(_){Be.call(this,l,_)}function $(_){g=_,t(4,g)}function ke(_){p=_,t(5,p)}const Ie=_=>H(_.detail,"change"),Ee=_=>H(_.detail,"stream");function Ge(_){Be.call(this,l,_)}function Ve(_){Be.call(this,l,_)}const Xe=_=>H(_.detail,"upload");function Ye(_){Be.call(this,l,_)}function Ze(_){d=_,t(1,d),t(8,c)}function $e(_){ze[_?"unshift":"push"](()=>{G=_,t(22,G)})}return l.$$set=_=>{"value"in _&&t(3,s=_.value),"label"in _&&t(6,a=_.label),"show_label"in _&&t(7,r=_.show_label),"sources"in _&&t(8,c=_.sources),"streaming"in _&&t(9,f=_.streaming),"pending"in _&&t(31,m=_.pending),"webcam_options"in _&&t(10,v=_.webcam_options),"selectable"in _&&t(11,D=_.selectable),"root"in _&&t(12,U=_.root),"i18n"in _&&t(13,h=_.i18n),"max_file_size"in _&&t(14,k=_.max_file_size),"upload"in _&&t(15,I=_.upload),"stream_handler"in _&&t(16,y=_.stream_handler),"stream_every"in _&&t(17,q=_.stream_every),"modify_stream"in _&&t(4,g=_.modify_stream),"set_time_limit"in _&&t(5,p=_.set_time_limit),"show_fullscreen_button"in _&&t(18,B=_.show_fullscreen_button),"uploading"in _&&t(0,S=_.uploading),"active_source"in _&&t(1,d=_.active_source),"fullscreen"in _&&t(19,w=_.fullscreen),"dragging"in _&&t(2,Q=_.dragging),"$$scope"in _&&t(48,o=_.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&258&&!d&&c&&t(1,d=c[0]),l.$$.dirty[0]&514&&t(20,n=f&&d==="webcam"),l.$$.dirty[0]&1048577&&S&&!n&&t(3,s=null),l.$$.dirty[0]&4&&Z("drag",Q)},[S,d,Q,s,g,p,a,r,c,f,v,D,U,h,k,I,y,q,B,w,n,z,G,Y,L,N,H,re,te,ce,W,m,i,x,ve,ae,b,M,$,ke,Ie,Ee,Ge,Ve,Xe,Ye,Ze,$e,o]}class wl extends il{constructor(e){super(),ol(this,e,pl,bl,_l,{value:3,label:6,show_label:7,sources:8,streaming:9,pending:31,webcam_options:10,selectable:11,root:12,i18n:13,max_file_size:14,upload:15,stream_handler:16,stream_every:17,modify_stream:4,set_time_limit:5,show_fullscreen_button:18,uploading:0,active_source:1,fullscreen:19,dragging:2},null,[-1,-1])}get value(){return this.$$.ctx[3]}set value(e){this.$$set({value:e}),R()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),R()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),R()}get sources(){return this.$$.ctx[8]}set sources(e){this.$$set({sources:e}),R()}get streaming(){return this.$$.ctx[9]}set streaming(e){this.$$set({streaming:e}),R()}get pending(){return this.$$.ctx[31]}set pending(e){this.$$set({pending:e}),R()}get webcam_options(){return this.$$.ctx[10]}set webcam_options(e){this.$$set({webcam_options:e}),R()}get selectable(){return this.$$.ctx[11]}set selectable(e){this.$$set({selectable:e}),R()}get root(){return this.$$.ctx[12]}set root(e){this.$$set({root:e}),R()}get i18n(){return this.$$.ctx[13]}set i18n(e){this.$$set({i18n:e}),R()}get max_file_size(){return this.$$.ctx[14]}set max_file_size(e){this.$$set({max_file_size:e}),R()}get upload(){return this.$$.ctx[15]}set upload(e){this.$$set({upload:e}),R()}get stream_handler(){return this.$$.ctx[16]}set stream_handler(e){this.$$set({stream_handler:e}),R()}get stream_every(){return this.$$.ctx[17]}set stream_every(e){this.$$set({stream_every:e}),R()}get modify_stream(){return this.$$.ctx[4]}set modify_stream(e){this.$$set({modify_stream:e}),R()}get set_time_limit(){return this.$$.ctx[5]}set set_time_limit(e){this.$$set({set_time_limit:e}),R()}get show_fullscreen_button(){return this.$$.ctx[18]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),R()}get uploading(){return this.$$.ctx[0]}set uploading(e){this.$$set({uploading:e}),R()}get active_source(){return this.$$.ctx[1]}set active_source(e){this.$$set({active_source:e}),R()}get fullscreen(){return this.$$.ctx[19]}set fullscreen(e){this.$$set({fullscreen:e}),R()}get dragging(){return this.$$.ctx[2]}set dragging(e){this.$$set({dragging:e}),R()}}const{SvelteComponent:vl,add_flush_callback:fe,assign:St,bind:me,binding_callbacks:_e,check_outros:Et,create_component:le,destroy_component:ie,detach:Ke,empty:Ct,flush:E,get_spread_object:Bt,get_spread_update:qt,group_outros:Nt,init:kl,insert:Qe,mount_component:se,safe_not_equal:Il,space:Tt,transition_in:V,transition_out:X}=window.__gradio__svelte__internal,{afterUpdate:zl}=window.__gradio__svelte__internal;function Dl(l){let e,t,n;function i(s){l[63](s)}let o={visible:l[5],variant:l[0]===null?"dashed":"solid",border_mode:l[29]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Nl]},$$scope:{ctx:l}};return l[28]!==void 0&&(o.fullscreen=l[28]),e=new kt({props:o}),_e.push(()=>me(e,"fullscreen",i)),e.$on("dragenter",l[32]),e.$on("dragleave",l[32]),e.$on("dragover",l[32]),e.$on("drop",l[33]),{c(){le(e.$$.fragment)},m(s,a){se(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&1&&(r.variant=s[0]===null?"dashed":"solid"),a[0]&536870912&&(r.border_mode=s[29]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&2138321607|a[1]&1|a[2]&8&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&268435456&&(t=!0,r.fullscreen=s[28],fe(()=>t=!1)),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){ie(e,s)}}}function yl(l){let e,t,n;function i(s){l[43](s)}let o={visible:l[5],variant:"solid",border_mode:l[29]?"focus":"base",padding:!1,elem_id:l[3],elem_classes:l[4],height:l[10]||void 0,width:l[11],allow_overflow:!1,container:l[14],scale:l[15],min_width:l[16],$$slots:{default:[Tl]},$$scope:{ctx:l}};return l[28]!==void 0&&(o.fullscreen=l[28]),e=new kt({props:o}),_e.push(()=>me(e,"fullscreen",i)),{c(){le(e.$$.fragment)},m(s,a){se(e,s,a),n=!0},p(s,a){const r={};a[0]&32&&(r.visible=s[5]),a[0]&536870912&&(r.border_mode=s[29]?"focus":"base"),a[0]&8&&(r.elem_id=s[3]),a[0]&16&&(r.elem_classes=s[4]),a[0]&1024&&(r.height=s[10]||void 0),a[0]&2048&&(r.width=s[11]),a[0]&16384&&(r.container=s[14]),a[0]&32768&&(r.scale=s[15]),a[0]&65536&&(r.min_width=s[16]),a[0]&310518213|a[2]&8&&(r.$$scope={dirty:a,ctx:s}),!t&&a[0]&268435456&&(t=!0,r.fullscreen=s[28],fe(()=>t=!1)),e.$set(r)},i(s){n||(V(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){ie(e,s)}}}function Sl(l){let e,t;return e=new sn({props:{unpadded_box:!0,size:"large",$$slots:{default:[Bl]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[2]&8&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function El(l){let e,t;return e=new It({props:{i18n:l[25].i18n,type:"clipboard",mode:"short"}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[0]&33554432&&(o.i18n=n[25].i18n),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Cl(l){let e,t;return e=new It({props:{i18n:l[25].i18n,type:"image",placeholder:l[22]}}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},p(n,i){const o={};i[0]&33554432&&(o.i18n=n[25].i18n),i[0]&4194304&&(o.placeholder=n[22]),e.$set(o)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function Bl(l){let e,t;return e=new vt({}),{c(){le(e.$$.fragment)},m(n,i){se(e,n,i),t=!0},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function ql(l){let e,t,n,i;const o=[Cl,El,Sl],s=[];function a(r,c){return r[30]==="upload"||!r[30]?0:r[30]==="clipboard"?1:2}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Ct()},m(r,c){s[e].m(r,c),Qe(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Nt(),X(s[f],1,1,()=>{s[f]=null}),Et(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),V(t,1),t.m(n.parentNode,n))},i(r){i||(V(t),i=!0)},o(r){X(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Nl(l){let e,t,n,i,o,s,a,r,c,f;const m=[{autoscroll:l[25].autoscroll},{i18n:l[25].i18n},l[2]];let v={};for(let g=0;g<m.length;g+=1)v=St(v,m[g]);e=new zt({props:v}),e.$on("clear_status",l[44]);function D(g){l[47](g)}function U(g){l[48](g)}function h(g){l[49](g)}function k(g){l[50](g)}function I(g){l[51](g)}function y(g){l[52](g)}let q={selectable:l[13],root:l[9],sources:l[18],fullscreen:l[28],label:l[6],show_label:l[7],pending:l[21],streaming:l[20],webcam_options:l[24],stream_every:l[12],max_file_size:l[25].max_file_size,i18n:l[25].i18n,upload:l[45],stream_handler:l[25].client?.stream,$$slots:{default:[ql]},$$scope:{ctx:l}};return l[26]!==void 0&&(q.uploading=l[26]),l[30]!==void 0&&(q.active_source=l[30]),l[0]!==void 0&&(q.value=l[0]),l[29]!==void 0&&(q.dragging=l[29]),l[27]!==void 0&&(q.modify_stream=l[27]),l[1]!==void 0&&(q.set_time_limit=l[1]),n=new wl({props:q}),l[46](n),_e.push(()=>me(n,"uploading",D)),_e.push(()=>me(n,"active_source",U)),_e.push(()=>me(n,"value",h)),_e.push(()=>me(n,"dragging",k)),_e.push(()=>me(n,"modify_stream",I)),_e.push(()=>me(n,"set_time_limit",y)),n.$on("edit",l[53]),n.$on("clear",l[54]),n.$on("stream",l[55]),n.$on("drag",l[56]),n.$on("upload",l[57]),n.$on("select",l[58]),n.$on("share",l[59]),n.$on("error",l[60]),n.$on("close_stream",l[61]),n.$on("fullscreen",l[62]),{c(){le(e.$$.fragment),t=Tt(),le(n.$$.fragment)},m(g,p){se(e,g,p),Qe(g,t,p),se(n,g,p),f=!0},p(g,p){const B=p[0]&33554436?qt(m,[p[0]&33554432&&{autoscroll:g[25].autoscroll},p[0]&33554432&&{i18n:g[25].i18n},p[0]&4&&Bt(g[2])]):{};e.$set(B);const z={};p[0]&8192&&(z.selectable=g[13]),p[0]&512&&(z.root=g[9]),p[0]&262144&&(z.sources=g[18]),p[0]&268435456&&(z.fullscreen=g[28]),p[0]&64&&(z.label=g[6]),p[0]&128&&(z.show_label=g[7]),p[0]&2097152&&(z.pending=g[21]),p[0]&1048576&&(z.streaming=g[20]),p[0]&16777216&&(z.webcam_options=g[24]),p[0]&4096&&(z.stream_every=g[12]),p[0]&33554432&&(z.max_file_size=g[25].max_file_size),p[0]&33554432&&(z.i18n=g[25].i18n),p[0]&33554432&&(z.upload=g[45]),p[0]&33554432&&(z.stream_handler=g[25].client?.stream),p[0]&1111490560|p[2]&8&&(z.$$scope={dirty:p,ctx:g}),!i&&p[0]&67108864&&(i=!0,z.uploading=g[26],fe(()=>i=!1)),!o&&p[0]&1073741824&&(o=!0,z.active_source=g[30],fe(()=>o=!1)),!s&&p[0]&1&&(s=!0,z.value=g[0],fe(()=>s=!1)),!a&&p[0]&536870912&&(a=!0,z.dragging=g[29],fe(()=>a=!1)),!r&&p[0]&134217728&&(r=!0,z.modify_stream=g[27],fe(()=>r=!1)),!c&&p[0]&2&&(c=!0,z.set_time_limit=g[1],fe(()=>c=!1)),n.$set(z)},i(g){f||(V(e.$$.fragment,g),V(n.$$.fragment,g),f=!0)},o(g){X(e.$$.fragment,g),X(n.$$.fragment,g),f=!1},d(g){g&&Ke(t),ie(e,g),l[46](null),ie(n,g)}}}function Tl(l){let e,t,n,i;const o=[{autoscroll:l[25].autoscroll},{i18n:l[25].i18n},l[2]];let s={};for(let a=0;a<o.length;a+=1)s=St(s,o[a]);return e=new zt({props:s}),n=new Qt({props:{fullscreen:l[28],value:l[0],label:l[6],show_label:l[7],show_download_button:l[8],selectable:l[13],show_share_button:l[17],i18n:l[25].i18n,show_fullscreen_button:l[23]}}),n.$on("select",l[39]),n.$on("share",l[40]),n.$on("error",l[41]),n.$on("fullscreen",l[42]),{c(){le(e.$$.fragment),t=Tt(),le(n.$$.fragment)},m(a,r){se(e,a,r),Qe(a,t,r),se(n,a,r),i=!0},p(a,r){const c=r[0]&33554436?qt(o,[r[0]&33554432&&{autoscroll:a[25].autoscroll},r[0]&33554432&&{i18n:a[25].i18n},r[0]&4&&Bt(a[2])]):{};e.$set(c);const f={};r[0]&268435456&&(f.fullscreen=a[28]),r[0]&1&&(f.value=a[0]),r[0]&64&&(f.label=a[6]),r[0]&128&&(f.show_label=a[7]),r[0]&256&&(f.show_download_button=a[8]),r[0]&8192&&(f.selectable=a[13]),r[0]&131072&&(f.show_share_button=a[17]),r[0]&33554432&&(f.i18n=a[25].i18n),r[0]&8388608&&(f.show_fullscreen_button=a[23]),n.$set(f)},i(a){i||(V(e.$$.fragment,a),V(n.$$.fragment,a),i=!0)},o(a){X(e.$$.fragment,a),X(n.$$.fragment,a),i=!1},d(a){a&&Ke(t),ie(e,a),ie(n,a)}}}function Ul(l){let e,t,n,i;const o=[yl,Dl],s=[];function a(r,c){return r[19]?1:0}return e=a(l),t=s[e]=o[e](l),{c(){t.c(),n=Ct()},m(r,c){s[e].m(r,c),Qe(r,n,c),i=!0},p(r,c){let f=e;e=a(r),e===f?s[e].p(r,c):(Nt(),X(s[f],1,1,()=>{s[f]=null}),Et(),t=s[e],t?t.p(r,c):(t=s[e]=o[e](r),t.c()),V(t,1),t.m(n.parentNode,n))},i(r){i||(V(t),i=!0)},o(r){X(t),i=!1},d(r){r&&Ke(n),s[e].d(r)}}}function Wl(l,e,t){let n="closed",i=()=>{};function o(u){n=u,i(u)}const s=()=>n;let{set_time_limit:a}=e,{value_is_output:r=!1}=e,{elem_id:c=""}=e,{elem_classes:f=[]}=e,{visible:m=!0}=e,{value:v=null}=e,D=null,{label:U}=e,{show_label:h}=e,{show_download_button:k}=e,{root:I}=e,{height:y}=e,{width:q}=e,{stream_every:g}=e,{_selectable:p=!1}=e,{container:B=!0}=e,{scale:z=null}=e,{min_width:S=void 0}=e,{loading_status:d}=e,{show_share_button:w=!1}=e,{sources:Y=["upload","clipboard","webcam"]}=e,{interactive:L}=e,{streaming:N}=e,{pending:H}=e,{placeholder:Z=void 0}=e,{show_fullscreen_button:Q}=e,{input_ready:re}=e,{webcam_options:te}=e,G=!1,ce=!1,{gradio:W}=e;zl(()=>{t(34,r=!1)});let x,ve=null,ae;const b=u=>{const ue=u;ue.preventDefault(),ue.stopPropagation(),ue.type==="dragenter"||ue.type==="dragover"?t(29,x=!0):ue.type==="dragleave"&&t(29,x=!1)},M=u=>{if(L){const ue=u;ue.preventDefault(),ue.stopPropagation(),t(29,x=!1),ae&&ae.loadFilesFromDrop(ue)}},$=({detail:u})=>W.dispatch("select",u),ke=({detail:u})=>W.dispatch("share",u),Ie=({detail:u})=>W.dispatch("error",u),Ee=({detail:u})=>{t(28,G=u)};function Ge(u){G=u,t(28,G)}const Ve=()=>W.dispatch("clear_status",d),Xe=(...u)=>W.client.upload(...u);function Ye(u){_e[u?"unshift":"push"](()=>{ae=u,t(31,ae)})}function Ze(u){ce=u,t(26,ce)}function $e(u){ve=u,t(30,ve)}function _(u){v=u,t(0,v)}function oe(u){x=u,t(29,x)}function Ce(u){i=u,t(27,i)}function Ut(u){a=u,t(1,a)}const Wt=()=>W.dispatch("edit"),Mt=()=>{t(28,G=!1),W.dispatch("clear")},Rt=({detail:u})=>W.dispatch("stream",u),Pt=({detail:u})=>t(29,x=u),jt=()=>W.dispatch("upload"),Ft=({detail:u})=>W.dispatch("select",u),Lt=({detail:u})=>W.dispatch("share",u),Ot=({detail:u})=>{t(2,d=d||{}),t(2,d.status="error",d),W.dispatch("error",u)},At=()=>{W.dispatch("close_stream","stream")},Ht=({detail:u})=>{t(28,G=u)};function Jt(u){G=u,t(28,G)}return l.$$set=u=>{"set_time_limit"in u&&t(1,a=u.set_time_limit),"value_is_output"in u&&t(34,r=u.value_is_output),"elem_id"in u&&t(3,c=u.elem_id),"elem_classes"in u&&t(4,f=u.elem_classes),"visible"in u&&t(5,m=u.visible),"value"in u&&t(0,v=u.value),"label"in u&&t(6,U=u.label),"show_label"in u&&t(7,h=u.show_label),"show_download_button"in u&&t(8,k=u.show_download_button),"root"in u&&t(9,I=u.root),"height"in u&&t(10,y=u.height),"width"in u&&t(11,q=u.width),"stream_every"in u&&t(12,g=u.stream_every),"_selectable"in u&&t(13,p=u._selectable),"container"in u&&t(14,B=u.container),"scale"in u&&t(15,z=u.scale),"min_width"in u&&t(16,S=u.min_width),"loading_status"in u&&t(2,d=u.loading_status),"show_share_button"in u&&t(17,w=u.show_share_button),"sources"in u&&t(18,Y=u.sources),"interactive"in u&&t(19,L=u.interactive),"streaming"in u&&t(20,N=u.streaming),"pending"in u&&t(21,H=u.pending),"placeholder"in u&&t(22,Z=u.placeholder),"show_fullscreen_button"in u&&t(23,Q=u.show_fullscreen_button),"input_ready"in u&&t(35,re=u.input_ready),"webcam_options"in u&&t(24,te=u.webcam_options),"gradio"in u&&t(25,W=u.gradio)},l.$$.update=()=>{l.$$.dirty[0]&67108864&&t(35,re=!ce),l.$$.dirty[0]&33554433|l.$$.dirty[1]&136&&JSON.stringify(v)!==JSON.stringify(D)&&(t(38,D=v),W.dispatch("change"),r||W.dispatch("input"))},[v,a,d,c,f,m,U,h,k,I,y,q,g,p,B,z,S,w,Y,L,N,H,Z,Q,te,W,ce,i,G,x,ve,ae,b,M,r,re,o,s,D,$,ke,Ie,Ee,Ge,Ve,Xe,Ye,Ze,$e,_,oe,Ce,Ut,Wt,Mt,Rt,Pt,jt,Ft,Lt,Ot,At,Ht,Jt]}class Kl extends vl{constructor(e){super(),kl(this,e,Wl,Ul,Il,{modify_stream_state:36,get_stream_state:37,set_time_limit:1,value_is_output:34,elem_id:3,elem_classes:4,visible:5,value:0,label:6,show_label:7,show_download_button:8,root:9,height:10,width:11,stream_every:12,_selectable:13,container:14,scale:15,min_width:16,loading_status:2,show_share_button:17,sources:18,interactive:19,streaming:20,pending:21,placeholder:22,show_fullscreen_button:23,input_ready:35,webcam_options:24,gradio:25},null,[-1,-1,-1])}get modify_stream_state(){return this.$$.ctx[36]}get get_stream_state(){return this.$$.ctx[37]}get set_time_limit(){return this.$$.ctx[1]}set set_time_limit(e){this.$$set({set_time_limit:e}),E()}get value_is_output(){return this.$$.ctx[34]}set value_is_output(e){this.$$set({value_is_output:e}),E()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),E()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),E()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),E()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),E()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),E()}get show_download_button(){return this.$$.ctx[8]}set show_download_button(e){this.$$set({show_download_button:e}),E()}get root(){return this.$$.ctx[9]}set root(e){this.$$set({root:e}),E()}get height(){return this.$$.ctx[10]}set height(e){this.$$set({height:e}),E()}get width(){return this.$$.ctx[11]}set width(e){this.$$set({width:e}),E()}get stream_every(){return this.$$.ctx[12]}set stream_every(e){this.$$set({stream_every:e}),E()}get _selectable(){return this.$$.ctx[13]}set _selectable(e){this.$$set({_selectable:e}),E()}get container(){return this.$$.ctx[14]}set container(e){this.$$set({container:e}),E()}get scale(){return this.$$.ctx[15]}set scale(e){this.$$set({scale:e}),E()}get min_width(){return this.$$.ctx[16]}set min_width(e){this.$$set({min_width:e}),E()}get loading_status(){return this.$$.ctx[2]}set loading_status(e){this.$$set({loading_status:e}),E()}get show_share_button(){return this.$$.ctx[17]}set show_share_button(e){this.$$set({show_share_button:e}),E()}get sources(){return this.$$.ctx[18]}set sources(e){this.$$set({sources:e}),E()}get interactive(){return this.$$.ctx[19]}set interactive(e){this.$$set({interactive:e}),E()}get streaming(){return this.$$.ctx[20]}set streaming(e){this.$$set({streaming:e}),E()}get pending(){return this.$$.ctx[21]}set pending(e){this.$$set({pending:e}),E()}get placeholder(){return this.$$.ctx[22]}set placeholder(e){this.$$set({placeholder:e}),E()}get show_fullscreen_button(){return this.$$.ctx[23]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),E()}get input_ready(){return this.$$.ctx[35]}set input_ready(e){this.$$set({input_ready:e}),E()}get webcam_options(){return this.$$.ctx[24]}set webcam_options(e){this.$$set({webcam_options:e}),E()}get gradio(){return this.$$.ctx[25]}set gradio(e){this.$$set({gradio:e}),E()}}export{Vl as BaseExample,_n as BaseImage,wl as BaseImageUploader,Qt as BaseStaticImage,ll as Webcam,Kl as default};
//# sourceMappingURL=Index-Bzdcfouj.js.map
