{"version":3,"file":"Index-BdQg94gy.js","sources":["../../../../js/highlightedtext/shared/utils.ts","../../../../js/highlightedtext/shared/StaticHighlightedtext.svelte","../../../../js/highlightedtext/shared/LabelInput.svelte","../../../../js/highlightedtext/shared/InteractiveHighlightedtext.svelte","../../../../js/highlightedtext/Index.svelte"],"sourcesContent":["import { colors } from \"@gradio/theme\";\n\nexport function name_to_rgba(\n\tname: string,\n\ta: number,\n\tctx: CanvasRenderingContext2D | null\n): string {\n\tif (!ctx) {\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tctx = canvas.getContext(\"2d\")!;\n\t}\n\tctx.fillStyle = name;\n\tctx.fillRect(0, 0, 1, 1);\n\tconst [r, g, b] = ctx.getImageData(0, 0, 1, 1).data;\n\tctx.clearRect(0, 0, 1, 1);\n\treturn `rgba(${r}, ${g}, ${b}, ${255 / a})`;\n}\n\nexport function correct_color_map(\n\tcolor_map: Record<string, string>,\n\t_color_map: Record<string, { primary: string; secondary: string }>,\n\tbrowser: any,\n\tctx: CanvasRenderingContext2D | null\n): void {\n\tfor (const col in color_map) {\n\t\tconst _c = color_map[col].trim();\n\n\t\tif (_c in colors) {\n\t\t\t_color_map[col] = colors[_c as keyof typeof colors];\n\t\t} else {\n\t\t\t_color_map[col] = {\n\t\t\t\tprimary: browser\n\t\t\t\t\t? name_to_rgba(color_map[col], 1, ctx)\n\t\t\t\t\t: color_map[col],\n\t\t\t\tsecondary: browser\n\t\t\t\t\t? name_to_rgba(color_map[col], 0.5, ctx)\n\t\t\t\t\t: color_map[col]\n\t\t\t};\n\t\t}\n\t}\n}\n\nexport function merge_elements(\n\tvalue: { token: string; class_or_confidence: string | number | null }[],\n\tmergeMode: \"empty\" | \"equal\"\n): { token: string; class_or_confidence: string | number | null }[] {\n\tlet result: typeof value = [];\n\tlet tempStr: string | null = null;\n\tlet tempVal: string | number | null = null;\n\n\tfor (const val of value) {\n\t\tif (\n\t\t\t(mergeMode === \"empty\" && val.class_or_confidence === null) ||\n\t\t\t(mergeMode === \"equal\" && tempVal === val.class_or_confidence)\n\t\t) {\n\t\t\ttempStr = tempStr ? tempStr + val.token : val.token;\n\t\t} else {\n\t\t\tif (tempStr !== null) {\n\t\t\t\tresult.push({\n\t\t\t\t\ttoken: tempStr,\n\t\t\t\t\tclass_or_confidence: tempVal\n\t\t\t\t});\n\t\t\t}\n\t\t\ttempStr = val.token;\n\t\t\ttempVal = val.class_or_confidence;\n\t\t}\n\t}\n\n\tif (tempStr !== null) {\n\t\tresult.push({\n\t\t\ttoken: tempStr,\n\t\t\tclass_or_confidence: tempVal\n\t\t});\n\t}\n\n\treturn result;\n}\n","<script lang=\"ts\">\n\tconst browser = typeof document !== \"undefined\";\n\timport { get_next_color } from \"@gradio/utils\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher } from \"svelte\";\n\timport { correct_color_map } from \"./utils\";\n\n\texport let value: {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t}[] = [];\n\texport let show_legend = false;\n\texport let show_inline_category = true;\n\texport let color_map: Record<string, string> = {};\n\texport let selectable = false;\n\n\tlet ctx: CanvasRenderingContext2D;\n\tlet _color_map: Record<string, { primary: string; secondary: string }> = {};\n\tlet active = \"\";\n\n\tfunction splitTextByNewline(text: string): string[] {\n\t\treturn text.split(\"\\n\");\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tselect: SelectData;\n\t}>();\n\n\tlet mode: \"categories\" | \"scores\";\n\n\t$: {\n\t\tif (!color_map) {\n\t\t\tcolor_map = {};\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tfor (let entry of value) {\n\t\t\t\tif (entry.class_or_confidence !== null) {\n\t\t\t\t\tif (typeof entry.class_or_confidence === \"string\") {\n\t\t\t\t\t\tmode = \"categories\";\n\t\t\t\t\t\tif (!(entry.class_or_confidence in color_map)) {\n\t\t\t\t\t\t\tlet color = get_next_color(Object.keys(color_map).length);\n\t\t\t\t\t\t\tcolor_map[entry.class_or_confidence] = color;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = \"scores\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcorrect_color_map(color_map, _color_map, browser, ctx);\n\t}\n\n\tfunction handle_mouseover(label: string): void {\n\t\tactive = label;\n\t}\n\tfunction handle_mouseout(): void {\n\t\tactive = \"\";\n\t}\n</script>\n\n<!-- \n\t@todo victor: try reimplementing without flex (negative margins on container to avoid left margin on linebreak). \n\tIf not possible hijack the copy execution like this:\n\n<svelte:window\n\ton:copy|preventDefault={() => {\n\t\tconst selection =.getSelection()?.toString();\n\t\tconsole.log(selection?.replaceAll(\"\\n\", \" \"));\n\t}}\n/>\n-->\n\n<div class=\"container\">\n\t{#if mode === \"categories\"}\n\t\t{#if show_legend}\n\t\t\t<div\n\t\t\t\tclass=\"category-legend\"\n\t\t\t\tdata-testid=\"highlighted-text:category-legend\"\n\t\t\t>\n\t\t\t\t{#each Object.entries(_color_map) as [category, color], i}\n\t\t\t\t\t<!-- TODO: fix -->\n\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t\t\t\t<div\n\t\t\t\t\t\ton:mouseover={() => handle_mouseover(category)}\n\t\t\t\t\t\ton:focus={() => handle_mouseover(category)}\n\t\t\t\t\t\ton:mouseout={() => handle_mouseout()}\n\t\t\t\t\t\ton:blur={() => handle_mouseout()}\n\t\t\t\t\t\tclass=\"category-label\"\n\t\t\t\t\t\tstyle={\"background-color:\" + color.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t{category}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"textfield\">\n\t\t\t{#each value as v, i}\n\t\t\t\t{#each splitTextByNewline(v.token) as line, j}\n\t\t\t\t\t{#if line.trim() !== \"\"}\n\t\t\t\t\t\t<!-- TODO: fix -->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"textspan\"\n\t\t\t\t\t\t\tstyle:background-color={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: _color_map[v.class_or_confidence].secondary}\n\t\t\t\t\t\t\tclass:no-cat={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)}\n\t\t\t\t\t\t\tclass:hl={v.class_or_confidence !== null}\n\t\t\t\t\t\t\tclass:selectable\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tdispatch(\"select\", {\n\t\t\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\t\t\tvalue: [v.token, v.class_or_confidence]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass:no-label={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t!_color_map[v.class_or_confidence]}\n\t\t\t\t\t\t\t\tclass=\"text\">{line}</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if !show_legend && show_inline_category && v.class_or_confidence !== null}\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"label\"\n\t\t\t\t\t\t\t\t\tstyle:background-color={v.class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t(active && active !== v.class_or_confidence)\n\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t: _color_map[v.class_or_confidence].primary}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{v.class_or_confidence}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if j < splitTextByNewline(v.token).length - 1}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{/each}\n\t\t</div>\n\t{:else}\n\t\t{#if show_legend}\n\t\t\t<div class=\"color-legend\" data-testid=\"highlighted-text:color-legend\">\n\t\t\t\t<span>-1</span>\n\t\t\t\t<span>0</span>\n\t\t\t\t<span>+1</span>\n\t\t\t</div>\n\t\t{/if}\n\t\t<div class=\"textfield\" data-testid=\"highlighted-text:textfield\">\n\t\t\t{#each value as v}\n\t\t\t\t{@const score =\n\t\t\t\t\ttypeof v.class_or_confidence === \"string\"\n\t\t\t\t\t\t? parseInt(v.class_or_confidence)\n\t\t\t\t\t\t: v.class_or_confidence}\n\t\t\t\t<span\n\t\t\t\t\tclass=\"textspan score-text\"\n\t\t\t\t\tstyle={\"background-color: rgba(\" +\n\t\t\t\t\t\t(score && score < 0\n\t\t\t\t\t\t\t? \"128, 90, 213,\" + -score\n\t\t\t\t\t\t\t: \"239, 68, 60,\" + score) +\n\t\t\t\t\t\t\")\"}\n\t\t\t\t>\n\t\t\t\t\t<span class=\"text\">{v.token}</span>\n\t\t\t\t</span>\n\t\t\t{/each}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t\tpadding: var(--block-padding);\n\t}\n\t.hl + .hl {\n\t\tmargin-left: var(--size-1);\n\t}\n\n\t.textspan:last-child > .label {\n\t\tmargin-right: 0;\n\t}\n\n\t.category-legend {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--spacing-sm);\n\t\tcolor: black;\n\t}\n\n\t.category-label {\n\t\tcursor: pointer;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-right: var(--size-2);\n\t\tpadding-left: var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.color-legend {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: linear-gradient(\n\t\t\tto right,\n\t\t\tvar(--color-purple),\n\t\t\trgba(255, 255, 255, 0),\n\t\t\tvar(--color-red)\n\t\t);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.textfield {\n\t\tbox-sizing: border-box;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: var(--background-fill-primary);\n\t\tbackground-color: transparent;\n\t\tmax-width: var(--size-full);\n\t\tline-height: var(--scale-4);\n\t\tword-break: break-all;\n\t}\n\n\t.textspan {\n\t\ttransition: 150ms;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t}\n\n\t.label {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: var(--body-text-color);\n\t\tcolor: white;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t}\n\n\t.text {\n\t\tcolor: black;\n\t\twhite-space: pre-wrap;\n\t}\n\n\t.score-text .text {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.score-text {\n\t\tmargin-right: var(--size-1);\n\t\tpadding: var(--size-1);\n\t}\n\n\t.no-cat {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-label {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.selectable {\n\t\tcursor: pointer;\n\t}\n</style>\n","<script lang=\"ts\">\n\ttype HighlightedTextType = {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t};\n\n\texport let value: HighlightedTextType[];\n\texport let category: string | number | null;\n\texport let active: string;\n\texport let labelToEdit: number;\n\texport let indexOfLabel: number;\n\texport let text: string;\n\texport let handleValueChange: () => void;\n\texport let isScoresMode = false;\n\texport let _color_map: Record<string, { primary: string; secondary: string }>;\n\n\tlet _input_value = category;\n\n\tfunction handleInput(e: Event): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tif (target) {\n\t\t\t_input_value = target.value;\n\t\t}\n\t}\n\n\tfunction updateLabelValue(\n\t\te: Event,\n\t\telementIndex: number,\n\t\ttext: string\n\t): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tvalue = [\n\t\t\t...value.slice(0, elementIndex),\n\t\t\t{\n\t\t\t\ttoken: text,\n\t\t\t\tclass_or_confidence:\n\t\t\t\t\ttarget.value === \"\"\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: isScoresMode\n\t\t\t\t\t\t\t? Number(target.value)\n\t\t\t\t\t\t\t: target.value\n\t\t\t},\n\t\t\t...value.slice(elementIndex + 1)\n\t\t];\n\n\t\thandleValueChange();\n\t}\n\n\tfunction clearPlaceHolderOnFocus(e: FocusEvent): void {\n\t\tlet target = e.target as HTMLInputElement;\n\t\tif (target && target.placeholder) target.placeholder = \"\";\n\t}\n</script>\n\n<!-- svelte-ignore a11y-autofocus -->\n<!-- autofocus should not be disorienting for a screen reader users\nas input is only rendered once a new label is created -->\n{#if !isScoresMode}\n\t<input\n\t\tclass=\"label-input\"\n\t\tautofocus\n\t\tid={`label-input-${indexOfLabel}`}\n\t\ttype=\"text\"\n\t\tplaceholder=\"label\"\n\t\tvalue={category}\n\t\tstyle:background-color={category === null || (active && active !== category)\n\t\t\t? \"\"\n\t\t\t: _color_map[category].primary}\n\t\tstyle:width={_input_value\n\t\t\t? _input_value.toString()?.length + 4 + \"ch\"\n\t\t\t: \"8ch\"}\n\t\ton:input={handleInput}\n\t\ton:blur={(e) => updateLabelValue(e, indexOfLabel, text)}\n\t\ton:keydown={(e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tupdateLabelValue(e, indexOfLabel, text);\n\t\t\t\tlabelToEdit = -1;\n\t\t\t}\n\t\t}}\n\t\ton:focus={clearPlaceHolderOnFocus}\n\t/>\n{:else}\n\t<input\n\t\tclass=\"label-input\"\n\t\tautofocus\n\t\ttype=\"number\"\n\t\tstep=\"0.1\"\n\t\tstyle={\"background-color: rgba(\" +\n\t\t\t(typeof category === \"number\" && category < 0\n\t\t\t\t? \"128, 90, 213,\" + -category\n\t\t\t\t: \"239, 68, 60,\" + category) +\n\t\t\t\")\"}\n\t\tvalue={category}\n\t\tstyle:width=\"7ch\"\n\t\ton:input={handleInput}\n\t\ton:blur={(e) => updateLabelValue(e, indexOfLabel, text)}\n\t\ton:keydown={(e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tupdateLabelValue(e, indexOfLabel, text);\n\t\t\t\tlabelToEdit = -1;\n\t\t\t}\n\t\t}}\n\t/>\n{/if}\n\n<style>\n\t.label-input {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tmargin-right: calc(var(--size-1));\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: black;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t\tline-height: 1;\n\t\tcolor: white;\n\t}\n\n\t.label-input::placeholder {\n\t\tcolor: rgba(1, 1, 1, 0.5);\n\t}\n</style>\n","<script lang=\"ts\">\n\tconst browser = typeof document !== \"undefined\";\n\timport { get_next_color } from \"@gradio/utils\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { createEventDispatcher, onMount } from \"svelte\";\n\timport { correct_color_map, merge_elements } from \"./utils\";\n\timport LabelInput from \"./LabelInput.svelte\";\n\n\texport let value: {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t}[] = [];\n\texport let show_legend = false;\n\texport let color_map: Record<string, string> = {};\n\texport let selectable = false;\n\n\tlet activeElementIndex = -1;\n\tlet ctx: CanvasRenderingContext2D;\n\tlet _color_map: Record<string, { primary: string; secondary: string }> = {};\n\tlet active = \"\";\n\tlet selection: Selection | null;\n\tlet labelToEdit = -1;\n\n\tonMount(() => {\n\t\tconst mouseUpHandler = (): void => {\n\t\t\tselection = window.getSelection();\n\t\t\thandleSelectionComplete();\n\t\t\twindow.removeEventListener(\"mouseup\", mouseUpHandler);\n\t\t};\n\n\t\twindow.addEventListener(\"mousedown\", () => {\n\t\t\twindow.addEventListener(\"mouseup\", mouseUpHandler);\n\t\t});\n\t});\n\n\tasync function handleTextSelected(\n\t\tstartIndex: number,\n\t\tendIndex: number\n\t): Promise<void> {\n\t\tif (\n\t\t\tselection?.toString() &&\n\t\t\tactiveElementIndex !== -1 &&\n\t\t\tvalue[activeElementIndex].token.toString().includes(selection.toString())\n\t\t) {\n\t\t\tconst tempFlag = Symbol();\n\n\t\t\tconst str = value[activeElementIndex].token;\n\t\t\tconst [before, selected, after] = [\n\t\t\t\tstr.substring(0, startIndex),\n\t\t\t\tstr.substring(startIndex, endIndex),\n\t\t\t\tstr.substring(endIndex)\n\t\t\t];\n\n\t\t\tlet tempValue: {\n\t\t\t\ttoken: string;\n\t\t\t\tclass_or_confidence: string | number | null;\n\t\t\t\tflag?: symbol;\n\t\t\t}[] = [\n\t\t\t\t...value.slice(0, activeElementIndex),\n\t\t\t\t{ token: before, class_or_confidence: null },\n\t\t\t\t{\n\t\t\t\t\ttoken: selected,\n\t\t\t\t\tclass_or_confidence: mode === \"scores\" ? 1 : \"label\",\n\t\t\t\t\tflag: tempFlag\n\t\t\t\t}, // add a temp flag to the new highlighted text element\n\t\t\t\t{ token: after, class_or_confidence: null },\n\t\t\t\t...value.slice(activeElementIndex + 1)\n\t\t\t];\n\n\t\t\t// store the index of the new highlighted text element and remove the flag\n\t\t\tlabelToEdit = tempValue.findIndex(({ flag }) => flag === tempFlag);\n\t\t\t// tempValue[labelToEdit].pop();\n\n\t\t\t// remove elements with empty labels\n\t\t\ttempValue = tempValue.filter((item) => item.token.trim() !== \"\");\n\t\t\tvalue = tempValue.map(({ flag, ...rest }) => rest);\n\n\t\t\thandleValueChange();\n\t\t\tdocument.getElementById(`label-input-${labelToEdit}`)?.focus();\n\t\t}\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tselect: SelectData;\n\t\tchange: typeof value;\n\t\tinput: never;\n\t}>();\n\n\tfunction splitTextByNewline(text: string): string[] {\n\t\treturn text.split(\"\\n\");\n\t}\n\n\tfunction removeHighlightedText(index: number): void {\n\t\tif (!value || index < 0 || index >= value.length) return;\n\t\tvalue[index].class_or_confidence = null;\n\t\tvalue = merge_elements(value, \"equal\");\n\t\thandleValueChange();\n\t\twindow.getSelection()?.empty();\n\t}\n\n\tfunction handleValueChange(): void {\n\t\tdispatch(\"change\", value);\n\t\tlabelToEdit = -1;\n\n\t\t// reset legend color maps\n\t\tif (show_legend) {\n\t\t\tcolor_map = {};\n\t\t\t_color_map = {};\n\t\t}\n\t}\n\n\tlet mode: \"categories\" | \"scores\";\n\n\t$: {\n\t\tif (!color_map) {\n\t\t\tcolor_map = {};\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tfor (let entry of value) {\n\t\t\t\tif (entry.class_or_confidence !== null) {\n\t\t\t\t\tif (typeof entry.class_or_confidence === \"string\") {\n\t\t\t\t\t\tmode = \"categories\";\n\t\t\t\t\t\tif (!(entry.class_or_confidence in color_map)) {\n\t\t\t\t\t\t\tlet color = get_next_color(Object.keys(color_map).length);\n\t\t\t\t\t\t\tcolor_map[entry.class_or_confidence] = color;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmode = \"scores\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcorrect_color_map(color_map, _color_map, browser, ctx);\n\t}\n\n\tfunction handle_mouseover(label: string): void {\n\t\tactive = label;\n\t}\n\tfunction handle_mouseout(): void {\n\t\tactive = \"\";\n\t}\n\n\tasync function handleKeydownSelection(event: KeyboardEvent): Promise<void> {\n\t\tselection = window.getSelection();\n\n\t\tif (event.key === \"Enter\") {\n\t\t\thandleSelectionComplete();\n\t\t}\n\t}\n\n\tfunction handleSelectionComplete(): void {\n\t\tif (selection && selection?.toString().trim() !== \"\") {\n\t\t\tconst textBeginningIndex = selection.getRangeAt(0).startOffset;\n\t\t\tconst textEndIndex = selection.getRangeAt(0).endOffset;\n\t\t\thandleTextSelected(textBeginningIndex, textEndIndex);\n\t\t}\n\t}\n\n\tfunction handleSelect(\n\t\ti: number,\n\t\ttext: string,\n\t\tclass_or_confidence: string | number | null\n\t): void {\n\t\tdispatch(\"select\", {\n\t\t\tindex: i,\n\t\t\tvalue: [text, class_or_confidence]\n\t\t});\n\t}\n</script>\n\n<div class=\"container\">\n\t{#if mode === \"categories\"}\n\t\t{#if show_legend}\n\t\t\t<div\n\t\t\t\tclass=\"class_or_confidence-legend\"\n\t\t\t\tdata-testid=\"highlighted-text:class_or_confidence-legend\"\n\t\t\t>\n\t\t\t\t{#if _color_map}\n\t\t\t\t\t{#each Object.entries(_color_map) as [class_or_confidence, color], i}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-roledescription=\"Categories of highlighted text. Hover to see text with this class_or_confidence highlighted.\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\ton:mouseover={() => handle_mouseover(class_or_confidence)}\n\t\t\t\t\t\t\ton:focus={() => handle_mouseover(class_or_confidence)}\n\t\t\t\t\t\t\ton:mouseout={() => handle_mouseout()}\n\t\t\t\t\t\t\ton:blur={() => handle_mouseout()}\n\t\t\t\t\t\t\tclass=\"class_or_confidence-label\"\n\t\t\t\t\t\t\tstyle={\"background-color:\" + color.secondary}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{class_or_confidence}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"textfield\">\n\t\t\t{#each value as { token, class_or_confidence }, i}\n\t\t\t\t{#each splitTextByNewline(token) as line, j}\n\t\t\t\t\t{#if line.trim() !== \"\"}\n\t\t\t\t\t\t<span class=\"text-class_or_confidence-container\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\tclass=\"textspan\"\n\t\t\t\t\t\t\t\tstyle:background-color={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)\n\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t: class_or_confidence && _color_map[class_or_confidence]\n\t\t\t\t\t\t\t\t\t\t? _color_map[class_or_confidence].secondary\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\tclass:no-cat={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)}\n\t\t\t\t\t\t\t\tclass:hl={class_or_confidence !== null}\n\t\t\t\t\t\t\t\tclass:selectable\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tif (class_or_confidence !== null) {\n\t\t\t\t\t\t\t\t\t\thandleSelect(i, token, class_or_confidence);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\t\t\tif (class_or_confidence !== null) {\n\t\t\t\t\t\t\t\t\t\tlabelToEdit = i;\n\t\t\t\t\t\t\t\t\t\thandleSelect(i, token, class_or_confidence);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\thandleKeydownSelection(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass:no-label={class_or_confidence === null}\n\t\t\t\t\t\t\t\t\tclass=\"text\"\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\ton:keydown={(e) => handleKeydownSelection(e)}\n\t\t\t\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\ttabindex=\"0\">{line}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if !show_legend && class_or_confidence !== null && labelToEdit !== i}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tid={`label-tag-${i}`}\n\t\t\t\t\t\t\t\t\t\tclass=\"label\"\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\t\tstyle:background-color={class_or_confidence === null ||\n\t\t\t\t\t\t\t\t\t\t(active && active !== class_or_confidence)\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t: _color_map[class_or_confidence].primary}\n\t\t\t\t\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\t\ton:keydown={() => (labelToEdit = i)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{class_or_confidence}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{#if labelToEdit === i && class_or_confidence !== null}\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t<LabelInput\n\t\t\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t\t\t{labelToEdit}\n\t\t\t\t\t\t\t\t\t\tcategory={class_or_confidence}\n\t\t\t\t\t\t\t\t\t\t{active}\n\t\t\t\t\t\t\t\t\t\t{_color_map}\n\t\t\t\t\t\t\t\t\t\tindexOfLabel={i}\n\t\t\t\t\t\t\t\t\t\ttext={token}\n\t\t\t\t\t\t\t\t\t\t{handleValueChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{#if class_or_confidence !== null}\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"label-clear-button\"\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\taria-roledescription=\"Remove label from text\"\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\ton:click={() => removeHighlightedText(i)}\n\t\t\t\t\t\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\t\t\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\tremoveHighlightedText(i);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>×\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if j < splitTextByNewline(token).length - 1}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{/each}\n\t\t</div>\n\t{:else}\n\t\t{#if show_legend}\n\t\t\t<div class=\"color-legend\" data-testid=\"highlighted-text:color-legend\">\n\t\t\t\t<span>-1</span>\n\t\t\t\t<span>0</span>\n\t\t\t\t<span>+1</span>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t<div class=\"textfield\" data-testid=\"highlighted-text:textfield\">\n\t\t\t{#each value as { token, class_or_confidence }, i}\n\t\t\t\t{@const score =\n\t\t\t\t\ttypeof class_or_confidence === \"string\"\n\t\t\t\t\t\t? parseInt(class_or_confidence)\n\t\t\t\t\t\t: class_or_confidence}\n\t\t\t\t<span class=\"score-text-container\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"textspan score-text\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\tclass:no-cat={class_or_confidence === null ||\n\t\t\t\t\t\t\t(active && active !== class_or_confidence)}\n\t\t\t\t\t\tclass:hl={class_or_confidence !== null}\n\t\t\t\t\t\ton:mouseover={() => (activeElementIndex = i)}\n\t\t\t\t\t\ton:focus={() => (activeElementIndex = i)}\n\t\t\t\t\t\ton:click={() => (labelToEdit = i)}\n\t\t\t\t\t\ton:keydown={(e) => {\n\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\tlabelToEdit = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={\"background-color: rgba(\" +\n\t\t\t\t\t\t\t(score && score < 0\n\t\t\t\t\t\t\t\t? \"128, 90, 213,\" + -score\n\t\t\t\t\t\t\t\t: \"239, 68, 60,\" + score) +\n\t\t\t\t\t\t\t\")\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"text\">{token}</span>\n\t\t\t\t\t\t{#if class_or_confidence && labelToEdit === i}\n\t\t\t\t\t\t\t<LabelInput\n\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t{labelToEdit}\n\t\t\t\t\t\t\t\t{_color_map}\n\t\t\t\t\t\t\t\tcategory={class_or_confidence}\n\t\t\t\t\t\t\t\t{active}\n\t\t\t\t\t\t\t\tindexOfLabel={i}\n\t\t\t\t\t\t\t\ttext={token}\n\t\t\t\t\t\t\t\t{handleValueChange}\n\t\t\t\t\t\t\t\tisScoresMode\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</span>\n\t\t\t\t\t{#if class_or_confidence && activeElementIndex === i}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"label-clear-button\"\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\taria-roledescription=\"Remove label from text\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\ton:click={() => removeHighlightedText(i)}\n\t\t\t\t\t\t\ton:keydown={(event) => {\n\t\t\t\t\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\tremoveHighlightedText(i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>×\n\t\t\t\t\t\t</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</span>\n\t\t\t{/each}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.label-clear-button {\n\t\tdisplay: none;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t\tbackground-color: var(--background-fill-secondary);\n\t\tuser-select: none;\n\t\tposition: relative;\n\t\tleft: -3px;\n\t\tborder-radius: 0 var(--radius-xs) var(--radius-xs) 0;\n\t\tcolor: var(--block-label-text-color);\n\t}\n\n\t.text-class_or_confidence-container:hover .label-clear-button,\n\t.text-class_or_confidence-container:focus-within .label-clear-button,\n\t.score-text-container:hover .label-clear-button,\n\t.score-text-container:focus-within .label-clear-button {\n\t\tdisplay: inline;\n\t}\n\n\t.text-class_or_confidence-container:hover .textspan.hl,\n\t.text-class_or_confidence-container:focus-within .textspan.hl,\n\t.score-text:hover {\n\t\tborder-radius: var(--radius-xs) 0 0 var(--radius-xs);\n\t}\n\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t\tpadding: var(--block-padding);\n\t}\n\n\t.hl {\n\t\tmargin-left: var(--size-1);\n\t\ttransition: background-color 0.3s;\n\t\tuser-select: none;\n\t}\n\n\t.textspan:last-child > .label {\n\t\tmargin-right: 0;\n\t}\n\n\t.class_or_confidence-legend {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--spacing-sm);\n\t\tcolor: black;\n\t}\n\n\t.class_or_confidence-label {\n\t\tcursor: pointer;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-right: var(--size-2);\n\t\tpadding-left: var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.color-legend {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: linear-gradient(\n\t\t\tto right,\n\t\t\tvar(--color-purple),\n\t\t\trgba(255, 255, 255, 0),\n\t\t\tvar(--color-red)\n\t\t);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n\n\t.textfield {\n\t\tbox-sizing: border-box;\n\t\tborder-radius: var(--radius-xs);\n\t\tbackground: var(--background-fill-primary);\n\t\tbackground-color: transparent;\n\t\tmax-width: var(--size-full);\n\t\tline-height: var(--scale-4);\n\t\tword-break: break-all;\n\t}\n\n\t.textspan {\n\t\ttransition: 150ms;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding-top: 2.5px;\n\t\tpadding-right: var(--size-1);\n\t\tpadding-bottom: 3.5px;\n\t\tpadding-left: var(--size-1);\n\t\tcolor: black;\n\t\tcursor: text;\n\t}\n\n\t.label {\n\t\ttransition: 150ms;\n\t\tmargin-top: 1px;\n\t\tborder-radius: var(--radius-xs);\n\t\tpadding: 1px 5px;\n\t\tcolor: var(--body-text-color);\n\t\tcolor: white;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-sm);\n\t\ttext-transform: uppercase;\n\t\tuser-select: none;\n\t}\n\n\t.text {\n\t\tcolor: black;\n\t\twhite-space: pre-wrap;\n\t}\n\n\t.textspan.hl {\n\t\tuser-select: none;\n\t}\n\n\t.score-text-container {\n\t\tmargin-right: var(--size-1);\n\t}\n\n\t.score-text .text {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-cat {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.no-label {\n\t\tcolor: var(--body-text-color);\n\t\tuser-select: text;\n\t}\n\n\t.selectable {\n\t\tcursor: text;\n\t\tuser-select: text;\n\t}\n</style>\n","<script context=\"module\" lang=\"ts\">\n\texport { default as BaseStaticHighlightedText } from \"./shared/StaticHighlightedtext.svelte\";\n\texport { default as BaseInteractiveHighlightedText } from \"./shared/InteractiveHighlightedtext.svelte\";\n</script>\n\n<script lang=\"ts\">\n\timport type { Gradio, SelectData, I18nFormatter } from \"@gradio/utils\";\n\timport StaticHighlightedText from \"./shared/StaticHighlightedtext.svelte\";\n\timport InteractiveHighlightedText from \"./shared/InteractiveHighlightedtext.svelte\";\n\timport { Block, BlockLabel, Empty } from \"@gradio/atoms\";\n\timport { TextHighlight } from \"@gradio/icons\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\timport { merge_elements } from \"./shared/utils\";\n\n\texport let gradio: Gradio<{\n\t\tselect: SelectData;\n\t\tchange: never;\n\t\tclear_status: LoadingStatus;\n\t}>;\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible: boolean | \"hidden\" = true;\n\texport let value: {\n\t\ttoken: string;\n\t\tclass_or_confidence: string | number | null;\n\t}[];\n\tlet old_value: typeof value;\n\texport let show_legend: boolean;\n\texport let show_inline_category: boolean;\n\texport let color_map: Record<string, string> = {};\n\texport let label = gradio.i18n(\"highlighted_text.highlighted_text\");\n\texport let container = true;\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n\texport let _selectable = false;\n\texport let combine_adjacent = false;\n\texport let interactive: boolean;\n\texport let show_label = true;\n\texport let rtl = false;\n\n\t$: if (!color_map && Object.keys(color_map).length) {\n\t\tcolor_map = color_map;\n\t}\n\n\texport let loading_status: LoadingStatus;\n\n\t$: {\n\t\tif (value !== old_value) {\n\t\t\told_value = value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t}\n\t}\n\n\t$: if (value && combine_adjacent) {\n\t\tvalue = merge_elements(value, \"equal\");\n\t}\n</script>\n\n{#if !interactive}\n\t<Block\n\t\tvariant={\"solid\"}\n\t\ttest_id=\"highlighted-text\"\n\t\t{visible}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\tpadding={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t\t{rtl}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t\t/>\n\t\t{#if label && show_label}\n\t\t\t<BlockLabel\n\t\t\t\tIcon={TextHighlight}\n\t\t\t\t{label}\n\t\t\t\tfloat={false}\n\t\t\t\tdisable={container === false}\n\t\t\t\t{show_label}\n\t\t\t\t{rtl}\n\t\t\t/>\n\t\t{/if}\n\n\t\t{#if value}\n\t\t\t<StaticHighlightedText\n\t\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\t\tselectable={_selectable}\n\t\t\t\t{value}\n\t\t\t\t{show_legend}\n\t\t\t\t{show_inline_category}\n\t\t\t\t{color_map}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<Empty>\n\t\t\t\t<TextHighlight />\n\t\t\t</Empty>\n\t\t{/if}\n\t</Block>\n{:else}\n\t<Block\n\t\tvariant={interactive ? \"dashed\" : \"solid\"}\n\t\ttest_id=\"highlighted-text\"\n\t\t{visible}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\tpadding={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\t{...loading_status}\n\t\t\ti18n={gradio.i18n}\n\t\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t\t/>\n\t\t{#if label && show_label}\n\t\t\t<BlockLabel\n\t\t\t\tIcon={TextHighlight}\n\t\t\t\t{label}\n\t\t\t\tfloat={false}\n\t\t\t\tdisable={container === false}\n\t\t\t\t{show_label}\n\t\t\t\t{rtl}\n\t\t\t/>\n\t\t{/if}\n\n\t\t{#if value}\n\t\t\t<InteractiveHighlightedText\n\t\t\t\tbind:value\n\t\t\t\ton:change={() => gradio.dispatch(\"change\")}\n\t\t\t\tselectable={_selectable}\n\t\t\t\t{show_legend}\n\t\t\t\t{color_map}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<Empty size=\"small\" unpadded_box={true}>\n\t\t\t\t<TextHighlight />\n\t\t\t</Empty>\n\t\t{/if}\n\t</Block>\n{/if}\n"],"names":["name_to_rgba","name","a","ctx","canvas","r","g","b","correct_color_map","color_map","_color_map","browser","col","_c","colors","merge_elements","value","mergeMode","result","tempStr","tempVal","val","child_ctx","create_if_block_5","i","insert","target","div","anchor","create_if_block_4","t0_value","attr","span1","span1_style_value","append","span0","dirty","set_data","t0","if_block","create_if_block_3","t1_value","span","t1","br","splitTextByNewline","create_if_block","text","$$props","show_legend","show_inline_category","selectable","active","dispatch","createEventDispatcher","mode","handle_mouseover","label","handle_mouseout","mouseover_handler","category","focus_handler","v","$$invalidate","entry","color","get_next_color","input","input_style_value","set_style","clearPlaceHolderOnFocus","e","labelToEdit","indexOfLabel","handleValueChange","isScoresMode","_input_value","handleInput","updateLabelValue","elementIndex","blur_handler","blur_handler_1","onMount","constants_0","create_if_block_10","each_blocks","create_if_block_6","create_if_block_9","create_if_block_8","toggle_class","span2","current","create_if_block_7","if_block0","if_block1","if_block2","t","t_value","show_if","each_value_1","ensure_array_like","activeElementIndex","selection","mouseUpHandler","handleSelectionComplete","handleTextSelected","startIndex","endIndex","tempFlag","str","before","selected","after","tempValue","flag","item","rest","removeHighlightedText","index","handleKeydownSelection","event","textBeginningIndex","textEndIndex","handleSelect","class_or_confidence","focus_handler_1","mouseover_handler_1","click_handler","click_handler_1","keydown_handler_1","token","focus_handler_2","mouseover_handler_2","click_handler_3","mouseover_handler_3","focus_handler_3","click_handler_4","click_handler_5","TextHighlight","blocklabel_changes","create_if_block_2","gradio","elem_id","elem_classes","visible","old_value","container","scale","min_width","_selectable","combine_adjacent","interactive","show_label","rtl","loading_status","clear_status_handler","select_handler","detail","clear_status_handler_1"],"mappings":"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"}