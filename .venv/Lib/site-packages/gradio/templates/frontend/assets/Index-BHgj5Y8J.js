import{s as Me}from"./select-BigU4G0v.js";import{d as ln}from"./dispatch-kxCwF96_.js";import{B as Rt,d as Re,E as _t,I as on,a as Ie,x as rn,F as an,D as It,k as Lt,b as Bt,c as qt,U as Pt}from"./FullscreenButton-BoNylw4k.js";import"./index-sqki5BVz.js";import{w as un,D as ft,B as _n}from"./init-CYs0NWnS.js";import{n as fn,l as cn,i as ct,S as Ut}from"./StreamingBar-DuwzVLwP.js";import{U as Nt}from"./ModifyUpload-C1BBLG7J.js";import"./MarkdownCode-azIzFEvA.js";import"./prism-python-BVLPtsXx.js";import"./svelte/svelte.js";function ot(i,e){if(i===e||i!==i)return()=>i;const t=typeof i;if(t!==typeof e||Array.isArray(i)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(i)){const n=e.map((s,l)=>ot(i[l],s));return s=>n.map(l=>l(s))}if(t==="object"){if(!i||!e)throw new Error("Object cannot be null");if(ct(i)&&ct(e)){i=i.getTime(),e=e.getTime();const l=e-i;return r=>new Date(i+r*l)}const n=Object.keys(e),s={};return n.forEach(l=>{s[l]=ot(i[l],e[l])}),l=>{const r={};return n.forEach(u=>{r[u]=s[u](l)}),r}}if(t==="number"){const n=e-i;return s=>i+s*n}throw new Error(`Cannot interpolate ${t} values`)}function hn(i,e={}){const t=un(i);let n,s=i;function l(r,u){if(i==null)return t.set(i=r),Promise.resolve();s=r;let o=n,_=!1,{delay:a=0,duration:f=400,easing:h=_n,interpolate:b=ot}=ft(ft({},e),u);if(f===0)return o&&(o.abort(),o=null),t.set(i=s),Promise.resolve();const g=fn()+a;let d;return n=cn(m=>{if(m<g)return!0;_||(d=b(i,r),typeof f=="function"&&(f=f(i,r)),_=!0),o&&(o.abort(),o=null);const z=m-g;return z>f?(t.set(i=r),!1):(t.set(i=d(h(z/f))),!0)}),n.promise}return{set:l,update:(r,u)=>l(r(s,i),u),subscribe:t.subscribe}}function dn(i){let e;for(;e=i.sourceEvent;)i=e;return i}function ht(i,e){if(i=dn(i),e===void 0&&(e=i.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=i.clientX,n.y=i.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[i.clientX-s.left-e.clientLeft,i.clientY-s.top-e.clientTop]}}return[i.pageX,i.pageY]}const gn={passive:!1},Te={capture:!0,passive:!1};function it(i){i.stopImmediatePropagation()}function we(i){i.preventDefault(),i.stopImmediatePropagation()}function mn(i){var e=i.document.documentElement,t=Me(i).on("dragstart.drag",we,Te);"onselectstart"in e?t.on("selectstart.drag",we,Te):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function bn(i,e){var t=i.document.documentElement,n=Me(i).on("dragstart.drag",null);e&&(n.on("click.drag",we,Te),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Be=i=>()=>i;function rt(i,{sourceEvent:e,subject:t,target:n,identifier:s,active:l,x:r,y:u,dx:o,dy:_,dispatch:a}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:a}})}rt.prototype.on=function(){var i=this._.on.apply(this._,arguments);return i===this._?this:i};function pn(i){return!i.ctrlKey&&!i.button}function wn(){return this.parentNode}function vn(i,e){return e??{x:i.x,y:i.y}}function kn(){return navigator.maxTouchPoints||"ontouchstart"in this}function zn(){var i=pn,e=wn,t=vn,n=kn,s={},l=ln("start","drag","end"),r=0,u,o,_,a,f=0;function h(p){p.on("mousedown.drag",b).filter(n).on("touchstart.drag",m).on("touchmove.drag",z,gn).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(p,$){if(!(a||!i.call(this,p,$))){var X=L(this,e.call(this,p,$),p,$,"mouse");X&&(Me(p.view).on("mousemove.drag",g,Te).on("mouseup.drag",d,Te),mn(p.view),it(p),_=!1,u=p.clientX,o=p.clientY,X("start",p))}}function g(p){if(we(p),!_){var $=p.clientX-u,X=p.clientY-o;_=$*$+X*X>f}s.mouse("drag",p)}function d(p){Me(p.view).on("mousemove.drag mouseup.drag",null),bn(p.view,_),we(p),s.mouse("end",p)}function m(p,$){if(i.call(this,p,$)){var X=p.changedTouches,Y=e.call(this,p,$),E=X.length,c,P;for(c=0;c<E;++c)(P=L(this,Y,p,$,X[c].identifier,X[c]))&&(it(p),P("start",p,X[c]))}}function z(p){var $=p.changedTouches,X=$.length,Y,E;for(Y=0;Y<X;++Y)(E=s[$[Y].identifier])&&(we(p),E("drag",p,$[Y]))}function D(p){var $=p.changedTouches,X=$.length,Y,E;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),Y=0;Y<X;++Y)(E=s[$[Y].identifier])&&(it(p),E("end",p,$[Y]))}function L(p,$,X,Y,E,c){var P=l.copy(),R=ht(c||X,$),j,I,q;if((q=t.call(p,new rt("beforestart",{sourceEvent:X,target:h,identifier:E,active:r,x:R[0],y:R[1],dx:0,dy:0,dispatch:P}),Y))!=null)return j=q.x-R[0]||0,I=q.y-R[1]||0,function U(se,re,k){var x=R,H;switch(se){case"start":s[E]=U,H=r++;break;case"end":delete s[E],--r;case"drag":R=ht(k||re,$),H=r;break}P.call(se,p,new rt(se,{sourceEvent:re,subject:q,target:h,identifier:E,active:H,x:R[0]+j,y:R[1]+I,dx:R[0]-x[0],dy:R[1]-x[1],dispatch:P}),Y)}}return h.filter=function(p){return arguments.length?(i=typeof p=="function"?p:Be(!!p),h):i},h.container=function(p){return arguments.length?(e=typeof p=="function"?p:Be(p),h):e},h.subject=function(p){return arguments.length?(t=typeof p=="function"?p:Be(p),h):t},h.touchable=function(p){return arguments.length?(n=typeof p=="function"?p:Be(!!p),h):n},h.on=function(){var p=l.on.apply(l,arguments);return p===l?h:p},h.clickDistance=function(p){return arguments.length?(f=(p=+p)*p,h):Math.sqrt(f)},h}const{SvelteComponent:$n,append:oe,attr:ee,binding_callbacks:st,create_slot:Xn,detach:Yn,element:ue,flush:ge,get_all_dirty_from_scope:En,get_slot_changes:Mn,init:Tn,insert:Dn,listen:Sn,safe_not_equal:Cn,set_style:me,space:dt,toggle_class:_e,transition_in:Rn,transition_out:In,update_slot_base:Ln}=window.__gradio__svelte__internal,{onMount:Bn}=window.__gradio__svelte__internal;function qn(i){let e,t,n,s,l,r,u,o,_,a,f,h,b;const g=i[11].default,d=Xn(g,i,i[10],null);return{c(){e=ue("div"),t=ue("div"),d&&d.c(),n=dt(),s=ue("div"),l=ue("span"),r=ue("span"),r.textContent="◢",u=ue("span"),o=ue("span"),o.textContent="◢",_=dt(),a=ue("div"),ee(t,"class","content svelte-fpmna9"),ee(r,"class","icon left svelte-fpmna9"),ee(u,"class","icon center svelte-fpmna9"),me(u,"--color",i[4]),ee(o,"class","icon right svelte-fpmna9"),ee(l,"class","icon-wrap svelte-fpmna9"),_e(l,"active",i[7]),_e(l,"disabled",i[3]),ee(a,"class","inner svelte-fpmna9"),me(a,"--color",i[4]),ee(s,"class","outer svelte-fpmna9"),ee(s,"role","none"),me(s,"transform","translateX("+i[6]+"px)"),_e(s,"disabled",i[3]),_e(s,"grab",i[7]),ee(e,"class","wrap svelte-fpmna9"),ee(e,"role","none")},m(m,z){Dn(m,e,z),oe(e,t),d&&d.m(t,null),i[13](t),oe(e,n),oe(e,s),oe(s,l),oe(l,r),oe(l,u),oe(l,o),oe(s,_),oe(s,a),i[14](s),i[15](e),f=!0,h||(b=Sn(window,"resize",i[12]),h=!0)},p(m,[z]){d&&d.p&&(!f||z&1024)&&Ln(d,g,m,m[10],f?Mn(g,m[10],z,null):En(m[10]),null),z&16&&me(u,"--color",m[4]),(!f||z&128)&&_e(l,"active",m[7]),(!f||z&8)&&_e(l,"disabled",m[3]),z&16&&me(a,"--color",m[4]),(!f||z&64)&&me(s,"transform","translateX("+m[6]+"px)"),(!f||z&8)&&_e(s,"disabled",m[3]),(!f||z&128)&&_e(s,"grab",m[7])},i(m){f||(Rn(d,m),f=!0)},o(m){In(d,m),f=!1},d(m){m&&Yn(e),d&&d.d(m),i[13](null),i[14](null),i[15](null),h=!1,b()}}}function lt(i,e,t){return Math.min(Math.max(i,e),t)}function Pn(i,e){const t=Math.pow(10,e);return Math.round((i+Number.EPSILON)*t)/t}function Un(i,e,t){let{$$slots:n={},$$scope:s}=e,{position:l=.5}=e,{disabled:r=!1}=e,{slider_color:u="var(--border-color-primary)"}=e,{image_size:o={top:0,left:0,width:0,height:0}}=e,{el:_=void 0}=e,{parent_el:a=void 0}=e,f,h=0,b=!1,g=0;function d(c){g=a?.getBoundingClientRect().width||0,c===0&&t(0,o.width=_?.getBoundingClientRect().width||0,o),t(6,h=lt(o.width*l+o.left,0,g))}function m(c){t(6,h=lt(c,0,g)),t(9,l=Pn((c-o.left)/o.width,5))}function z(c){r||(t(7,b=!0),m(c.x))}function D(c){r||m(c.x)}function L(){r||t(7,b=!1)}function p(c){t(6,h=lt(o.width*c+o.left,0,g))}Bn(()=>{d(o.width);const c=zn().on("start",z).on("drag",D).on("end",L);Me(f).call(c)});const $=()=>d(o.width);function X(c){st[c?"unshift":"push"](()=>{_=c,t(1,_)})}function Y(c){st[c?"unshift":"push"](()=>{f=c,t(5,f)})}function E(c){st[c?"unshift":"push"](()=>{a=c,t(2,a)})}return i.$$set=c=>{"position"in c&&t(9,l=c.position),"disabled"in c&&t(3,r=c.disabled),"slider_color"in c&&t(4,u=c.slider_color),"image_size"in c&&t(0,o=c.image_size),"el"in c&&t(1,_=c.el),"parent_el"in c&&t(2,a=c.parent_el),"$$scope"in c&&t(10,s=c.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&d(o.width),i.$$.dirty&512&&p(l)},[o,_,a,r,u,f,h,b,d,l,s,n,$,X,Y,E]}class Wt extends $n{constructor(e){super(),Tn(this,e,Un,qn,Cn,{position:9,disabled:3,slider_color:4,image_size:0,el:1,parent_el:2})}get position(){return this.$$.ctx[9]}set position(e){this.$$set({position:e}),ge()}get disabled(){return this.$$.ctx[3]}set disabled(e){this.$$set({disabled:e}),ge()}get slider_color(){return this.$$.ctx[4]}set slider_color(e){this.$$set({slider_color:e}),ge()}get image_size(){return this.$$.ctx[0]}set image_size(e){this.$$set({image_size:e}),ge()}get el(){return this.$$.ctx[1]}set el(e){this.$$set({el:e}),ge()}get parent_el(){return this.$$.ctx[2]}set parent_el(e){this.$$set({parent_el:e}),ge()}}const{SvelteComponent:Nn,assign:at,binding_callbacks:Wn,compute_rest_props:gt,detach:On,element:jn,exclude_internal_props:An,flush:fe,get_spread_update:Fn,init:Hn,insert:Jn,listen:Gn,noop:mt,safe_not_equal:Vn,set_attributes:bt,set_style:qe,src_url_equal:yn,toggle_class:N}=window.__gradio__svelte__internal,{createEventDispatcher:Kn,onMount:Zn,tick:Qn}=window.__gradio__svelte__internal;function xn(i){let e,t,n,s,l=[{src:t=i[1]},i[9]],r={};for(let u=0;u<l.length;u+=1)r=at(r,l[u]);return{c(){e=jn("img"),bt(e,r),N(e,"fixed",i[3]),N(e,"hidden",i[5]),N(e,"preview",i[6]==="preview"),N(e,"slider",i[6]==="upload"),N(e,"fullscreen",i[2]),N(e,"small",!i[2]),qe(e,"transform",i[4]),qe(e,"max-height",i[7]&&!i[2]?`${i[7]}px`:null),N(e,"svelte-k63p1v",!0)},m(u,o){Jn(u,e,o),i[10](e),n||(s=Gn(e,"load",i[11]),n=!0)},p(u,[o]){bt(e,r=Fn(l,[o&2&&!yn(e.src,t=u[1])&&{src:t},o&512&&u[9]])),N(e,"fixed",u[3]),N(e,"hidden",u[5]),N(e,"preview",u[6]==="preview"),N(e,"slider",u[6]==="upload"),N(e,"fullscreen",u[2]),N(e,"small",!u[2]),qe(e,"transform",u[4]),qe(e,"max-height",u[7]&&!u[2]?`${u[7]}px`:null),N(e,"svelte-k63p1v",!0)},i:mt,o:mt,d(u){u&&On(e),i[10](null),n=!1,s()}}}function pt(i){if(!i)return{top:0,left:0,width:0,height:0};const e=i.parentElement?.getBoundingClientRect();if(!e)return{top:0,left:0,width:0,height:0};const t=i.naturalWidth/i.naturalHeight,n=e.width/e.height;let s,l;t>n?(s=e.width,l=e.width/t):(l=e.height,s=e.height*t);const r=(e.width-s)/2;return{top:(e.height-l)/2,left:r,width:s,height:l}}function ei(i,e,t){const n=["src","fullscreen","fixed","transform","img_el","hidden","variant","max_height"];let s=gt(e,n),{src:l=void 0}=e,{fullscreen:r=!1}=e,{fixed:u=!1}=e,{transform:o="translate(0px, 0px) scale(1)"}=e,{img_el:_=null}=e,{hidden:a=!1}=e,{variant:f="upload"}=e,{max_height:h=500}=e;const b=Kn();Zn(()=>{const m=new ResizeObserver(async z=>{for(const D of z)await Qn(),b("load",pt(_))});return m.observe(_),()=>{m.disconnect()}});function g(m){Wn[m?"unshift":"push"](()=>{_=m,t(0,_)})}const d=()=>b("load",pt(_));return i.$$set=m=>{e=at(at({},e),An(m)),t(9,s=gt(e,n)),"src"in m&&t(1,l=m.src),"fullscreen"in m&&t(2,r=m.fullscreen),"fixed"in m&&t(3,u=m.fixed),"transform"in m&&t(4,o=m.transform),"img_el"in m&&t(0,_=m.img_el),"hidden"in m&&t(5,a=m.hidden),"variant"in m&&t(6,f=m.variant),"max_height"in m&&t(7,h=m.max_height)},[_,l,r,u,o,a,f,h,b,s,g,d]}class je extends Nn{constructor(e){super(),Hn(this,e,ei,xn,Vn,{src:1,fullscreen:2,fixed:3,transform:4,img_el:0,hidden:5,variant:6,max_height:7})}get src(){return this.$$.ctx[1]}set src(e){this.$$set({src:e}),fe()}get fullscreen(){return this.$$.ctx[2]}set fullscreen(e){this.$$set({fullscreen:e}),fe()}get fixed(){return this.$$.ctx[3]}set fixed(e){this.$$set({fixed:e}),fe()}get transform(){return this.$$.ctx[4]}set transform(e){this.$$set({transform:e}),fe()}get img_el(){return this.$$.ctx[0]}set img_el(e){this.$$set({img_el:e}),fe()}get hidden(){return this.$$.ctx[5]}set hidden(e){this.$$set({hidden:e}),fe()}get variant(){return this.$$.ctx[6]}set variant(e){this.$$set({variant:e}),fe()}get max_height(){return this.$$.ctx[7]}set max_height(e){this.$$set({max_height:e}),fe()}}class ti{container;image;scale;offsetX;offsetY;isDragging;lastX;lastY;initial_left_padding;initial_top_padding;initial_width;initial_height;subscribers;handleImageLoad;real_image_size={top:0,left:0,width:0,height:0};last_touch_distance;constructor(e,t){this.container=e,this.image=t,this.scale=1,this.offsetX=0,this.offsetY=0,this.isDragging=!1,this.lastX=0,this.lastY=0,this.initial_left_padding=0,this.initial_top_padding=0,this.initial_width=0,this.initial_height=0,this.subscribers=[],this.last_touch_distance=0,this.handleWheel=this.handleWheel.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleImageLoad=this.init.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.image.addEventListener("load",this.handleImageLoad),this.container.addEventListener("wheel",this.handleWheel),this.container.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.container.addEventListener("touchstart",this.handleTouchStart),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("touchend",this.handleTouchEnd),new ResizeObserver(s=>{for(const l of s)l.target===this.container&&(this.handleResize(),this.get_image_size(this.image))}).observe(this.container)}handleResize(){this.init()}init(){const e=this.container.getBoundingClientRect(),t=this.image.getBoundingClientRect();this.initial_left_padding=t.left-e.left,this.initial_top_padding=t.top-e.top,this.initial_width=t.width,this.initial_height=t.height,this.reset_zoom(),this.updateTransform()}reset_zoom(){this.scale=1,this.offsetX=0,this.offsetY=0,this.updateTransform()}handleMouseDown(e){const t=this.image.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom){if(e.preventDefault(),this.scale===1)return;this.isDragging=!0,this.lastX=e.clientX,this.lastY=e.clientY,this.image.style.cursor="grabbing"}}handleMouseMove(e){if(!this.isDragging)return;const t=e.clientX-this.lastX,n=e.clientY-this.lastY;this.offsetX+=t,this.offsetY+=n,this.lastX=e.clientX,this.lastY=e.clientY,this.updateTransform(),this.updateTransform()}handleMouseUp(){this.isDragging&&(this.constrain_to_bounds(!0),this.updateTransform(),this.isDragging=!1,this.image.style.cursor=this.scale>1?"grab":"zoom-in")}async handleWheel(e){e.preventDefault();const t=this.container.getBoundingClientRect(),n=this.image.getBoundingClientRect();if(e.clientX<n.left||e.clientX>n.right||e.clientY<n.top||e.clientY>n.bottom)return;const s=1.05,l=this.scale,r=-Math.sign(e.deltaY)>0?Math.min(15,l*s):Math.max(1,l/s);if(r===l)return;const u=e.clientX-t.left-this.initial_left_padding,o=e.clientY-t.top-this.initial_top_padding;this.scale=r,this.offsetX=this.compute_new_offset({cursor_position:u,current_offset:this.offsetX,new_scale:r,old_scale:l}),this.offsetY=this.compute_new_offset({cursor_position:o,current_offset:this.offsetY,new_scale:r,old_scale:l}),this.updateTransform(),this.constrain_to_bounds(),this.updateTransform(),this.image.style.cursor=this.scale>1?"grab":"zoom-in"}compute_new_position({position:e,scale:t,anchor_position:n}){return e-(e-n)*(t/this.scale)}compute_new_offset({cursor_position:e,current_offset:t,new_scale:n,old_scale:s}){return e-n/s*(e-t)}constrain_to_bounds(e=!1){if(this.scale===1){this.offsetX=0,this.offsetY=0;return}const t={top:this.real_image_size.top*this.scale+this.offsetY,left:this.real_image_size.left*this.scale+this.offsetX,width:this.real_image_size.width*this.scale,height:this.real_image_size.height*this.scale,bottom:this.real_image_size.top*this.scale+this.offsetY+this.real_image_size.height*this.scale,right:this.real_image_size.left*this.scale+this.offsetX+this.real_image_size.width*this.scale},n=this.real_image_size.left+this.real_image_size.width,s=this.real_image_size.top+this.real_image_size.height;e&&(t.top>this.real_image_size.top?this.offsetY=this.calculate_position(this.real_image_size.top,0,"y"):t.bottom<s&&(this.offsetY=this.calculate_position(s,1,"y")),t.left>this.real_image_size.left?this.offsetX=this.calculate_position(this.real_image_size.left,0,"x"):t.right<n&&(this.offsetX=this.calculate_position(n,1,"x")))}updateTransform(){this.notify({x:this.offsetX,y:this.offsetY,scale:this.scale})}destroy(){this.container.removeEventListener("wheel",this.handleWheel),this.container.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.container.removeEventListener("touchstart",this.handleTouchStart),document.removeEventListener("touchmove",this.handleTouchMove),document.removeEventListener("touchend",this.handleTouchEnd),this.image.removeEventListener("load",this.handleImageLoad)}subscribe(e){this.subscribers.push(e)}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}notify({x:e,y:t,scale:n}){this.subscribers.forEach(s=>s({x:e,y:t,scale:n}))}handleTouchStart(e){e.preventDefault();const t=this.image.getBoundingClientRect(),n=e.touches[0];if(n.clientX>=t.left&&n.clientX<=t.right&&n.clientY>=t.top&&n.clientY<=t.bottom){if(e.touches.length===1&&this.scale>1)this.isDragging=!0,this.lastX=n.clientX,this.lastY=n.clientY;else if(e.touches.length===2){const s=e.touches[0],l=e.touches[1];this.last_touch_distance=Math.hypot(l.clientX-s.clientX,l.clientY-s.clientY)}}}get_image_size(e){if(!e)return;const t=e.parentElement?.getBoundingClientRect();if(!t)return;const n=e.naturalWidth/e.naturalHeight,s=t.width/t.height;let l,r;n>s?(l=t.width,r=t.width/n):(r=t.height,l=t.height*n);const u=(t.width-l)/2,o=(t.height-r)/2;this.real_image_size={top:o,left:u,width:l,height:r}}handleTouchMove(e){if(e.touches.length===1&&this.isDragging){e.preventDefault();const t=e.touches[0],n=t.clientX-this.lastX,s=t.clientY-this.lastY;this.offsetX+=n,this.offsetY+=s,this.lastX=t.clientX,this.lastY=t.clientY,this.updateTransform()}else if(e.touches.length===2){e.preventDefault();const t=e.touches[0],n=e.touches[1],s=Math.hypot(n.clientX-t.clientX,n.clientY-t.clientY);if(this.last_touch_distance===0){this.last_touch_distance=s;return}const l=s/this.last_touch_distance,r=this.scale,u=Math.min(15,Math.max(1,r*l));if(u===r){this.last_touch_distance=s;return}const o=this.container.getBoundingClientRect(),_=(t.clientX+n.clientX)/2-o.left-this.initial_left_padding,a=(t.clientY+n.clientY)/2-o.top-this.initial_top_padding;this.scale=u,this.offsetX=this.compute_new_offset({cursor_position:_,current_offset:this.offsetX,new_scale:u,old_scale:r}),this.offsetY=this.compute_new_offset({cursor_position:a,current_offset:this.offsetY,new_scale:u,old_scale:r}),this.updateTransform(),this.constrain_to_bounds(),this.updateTransform(),this.last_touch_distance=s,this.image.style.cursor=this.scale>1?"grab":"zoom-in"}}handleTouchEnd(e){this.isDragging&&(this.constrain_to_bounds(!0),this.updateTransform(),this.isDragging=!1),e.touches.length===0&&(this.last_touch_distance=0)}calculate_position(e,t,n){if(this.container.getBoundingClientRect(),n==="x"){const s=e,l=this.real_image_size.left+t*this.real_image_size.width;return s-l*this.scale}if(n==="y"){const s=e,l=this.real_image_size.top+t*this.real_image_size.height;return s-l*this.scale}return 0}}const{SvelteComponent:ni,add_flush_callback:Pe,add_iframe_resize_listener:ii,add_render_callback:si,append:wt,attr:vt,bind:Ue,binding_callbacks:ve,bubble:li,check_outros:Ne,component_subscribe:oi,create_component:J,destroy_component:G,detach:ce,element:kt,empty:Ot,flush:W,group_outros:We,init:ri,insert:he,mount_component:V,noop:ai,safe_not_equal:ui,space:ke,toggle_class:zt,transition_in:S,transition_out:B}=window.__gradio__svelte__internal,{onMount:_i}=window.__gradio__svelte__internal,{createEventDispatcher:fi}=window.__gradio__svelte__internal;function ci(i){let e,t,n,s,l,r,u,o,_,a;t=new on({props:{$$slots:{default:[gi]},$$scope:{ctx:i}}});function f(d){i[32](d)}function h(d){i[33](d)}function b(d){i[34](d)}let g={slider_color:i[9],image_size:i[16],$$slots:{default:[mi]},$$scope:{ctx:i}};return i[0]!==void 0&&(g.position=i[0]),i[15]!==void 0&&(g.el=i[15]),i[19]!==void 0&&(g.parent_el=i[19]),l=new Wt({props:g}),ve.push(()=>Ue(l,"position",f)),ve.push(()=>Ue(l,"el",h)),ve.push(()=>Ue(l,"parent_el",b)),{c(){e=kt("div"),J(t.$$.fragment),n=ke(),s=kt("div"),J(l.$$.fragment),vt(s,"class","slider-wrap svelte-eb87wk"),si(()=>i[36].call(s)),zt(s,"limit_height",!i[11]),vt(e,"class","image-container svelte-eb87wk")},m(d,m){he(d,e,m),V(t,e,null),wt(e,n),wt(e,s),V(l,s,null),i[35](s),_=ii(s,i[36].bind(s)),i[37](e),a=!0},p(d,m){const z={};m[0]&1190994|m[1]&1024&&(z.$$scope={dirty:m,ctx:d}),t.$set(z);const D={};m[0]&512&&(D.slider_color=d[9]),m[0]&65536&&(D.image_size=d[16]),m[0]&4348034|m[1]&1024&&(D.$$scope={dirty:m,ctx:d}),!r&&m[0]&1&&(r=!0,D.position=d[0],Pe(()=>r=!1)),!u&&m[0]&32768&&(u=!0,D.el=d[15],Pe(()=>u=!1)),!o&&m[0]&524288&&(o=!0,D.parent_el=d[19],Pe(()=>o=!1)),l.$set(D),(!a||m[0]&2048)&&zt(s,"limit_height",!d[11])},i(d){a||(S(t.$$.fragment,d),S(l.$$.fragment,d),a=!0)},o(d){B(t.$$.fragment,d),B(l.$$.fragment,d),a=!1},d(d){d&&ce(e),G(t),G(l),i[35](null),_(),i[37](null)}}}function hi(i){let e,t;return e=new _t({props:{unpadded_box:!0,size:"large",$$slots:{default:[bi]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},p(n,s){const l={};s[1]&1024&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function $t(i){let e,t;return e=new an({props:{fullscreen:i[11]}}),e.$on("fullscreen",i[29]),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},p(n,s){const l={};s[0]&2048&&(l.fullscreen=n[11]),e.$set(l)},i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Xt(i){let e,t;return e=new It({props:{href:i[1][1]?.url,download:i[1][1]?.orig_name||"image",$$slots:{default:[di]},$$scope:{ctx:i}}}),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},p(n,s){const l={};s[0]&2&&(l.href=n[1][1]?.url),s[0]&2&&(l.download=n[1][1]?.orig_name||"image"),s[0]&64|s[1]&1024&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function di(i){let e,t;return e=new Ie({props:{Icon:Bt,label:i[6]("common.download")}}),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},p(n,s){const l={};s[0]&64&&(l.label=n[6]("common.download")),e.$set(l)},i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Yt(i){let e,t;return e=new Ie({props:{Icon:Lt,label:"Remove Image"}}),e.$on("click",i[30]),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},p:ai,i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function gi(i){let e,t,n,s,l,r;e=new Ie({props:{Icon:rn,label:i[6]("common.undo"),disabled:i[17].z===1}}),e.$on("click",i[28]);let u=i[10]&&$t(i),o=i[4]&&Xt(i),_=i[13]&&Yt(i);return{c(){J(e.$$.fragment),t=ke(),u&&u.c(),n=ke(),o&&o.c(),s=ke(),_&&_.c(),l=Ot()},m(a,f){V(e,a,f),he(a,t,f),u&&u.m(a,f),he(a,n,f),o&&o.m(a,f),he(a,s,f),_&&_.m(a,f),he(a,l,f),r=!0},p(a,f){const h={};f[0]&64&&(h.label=a[6]("common.undo")),f[0]&131072&&(h.disabled=a[17].z===1),e.$set(h),a[10]?u?(u.p(a,f),f[0]&1024&&S(u,1)):(u=$t(a),u.c(),S(u,1),u.m(n.parentNode,n)):u&&(We(),B(u,1,1,()=>{u=null}),Ne()),a[4]?o?(o.p(a,f),f[0]&16&&S(o,1)):(o=Xt(a),o.c(),S(o,1),o.m(s.parentNode,s)):o&&(We(),B(o,1,1,()=>{o=null}),Ne()),a[13]?_?(_.p(a,f),f[0]&8192&&S(_,1)):(_=Yt(a),_.c(),S(_,1),_.m(l.parentNode,l)):_&&(We(),B(_,1,1,()=>{_=null}),Ne())},i(a){r||(S(e.$$.fragment,a),S(u),S(o),S(_),r=!0)},o(a){B(e.$$.fragment,a),B(u),B(o),B(_),r=!1},d(a){a&&(ce(t),ce(n),ce(s),ce(l)),G(e,a),u&&u.d(a),o&&o.d(a),_&&_.d(a)}}}function mi(i){let e,t,n,s,l;function r(o){i[31](o)}let u={src:i[1]?.[0]?.url,alt:"",loading:"lazy",variant:"preview",transform:"translate("+i[17].x+"px, "+i[17].y+"px) scale("+i[17].z+")",fullscreen:i[11],max_height:i[12]};return i[14]!==void 0&&(u.img_el=i[14]),e=new je({props:u}),ve.push(()=>Ue(e,"img_el",r)),e.$on("load",i[25]),s=new je({props:{variant:"preview",fixed:i[7],hidden:!i[1]?.[1]?.url,src:i[1]?.[1]?.url,alt:"",loading:"lazy",style:i[22]+"; background: var(--block-background-fill);",transform:"translate("+i[17].x+"px, "+i[17].y+"px) scale("+i[17].z+")",fullscreen:i[11],max_height:i[12]}}),s.$on("load",i[25]),{c(){J(e.$$.fragment),n=ke(),J(s.$$.fragment)},m(o,_){V(e,o,_),he(o,n,_),V(s,o,_),l=!0},p(o,_){const a={};_[0]&2&&(a.src=o[1]?.[0]?.url),_[0]&131072&&(a.transform="translate("+o[17].x+"px, "+o[17].y+"px) scale("+o[17].z+")"),_[0]&2048&&(a.fullscreen=o[11]),_[0]&4096&&(a.max_height=o[12]),!t&&_[0]&16384&&(t=!0,a.img_el=o[14],Pe(()=>t=!1)),e.$set(a);const f={};_[0]&128&&(f.fixed=o[7]),_[0]&2&&(f.hidden=!o[1]?.[1]?.url),_[0]&2&&(f.src=o[1]?.[1]?.url),_[0]&4194304&&(f.style=o[22]+"; background: var(--block-background-fill);"),_[0]&131072&&(f.transform="translate("+o[17].x+"px, "+o[17].y+"px) scale("+o[17].z+")"),_[0]&2048&&(f.fullscreen=o[11]),_[0]&4096&&(f.max_height=o[12]),s.$set(f)},i(o){l||(S(e.$$.fragment,o),S(s.$$.fragment,o),l=!0)},o(o){B(e.$$.fragment,o),B(s.$$.fragment,o),l=!1},d(o){o&&ce(n),G(e,o),G(s,o)}}}function bi(i){let e,t;return e=new Re({}),{c(){J(e.$$.fragment)},m(n,s){V(e,n,s),t=!0},i(n){t||(S(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function pi(i){let e,t,n,s,l,r;e=new Rt({props:{show_label:i[5],Icon:Re,label:i[3]||i[6]("image.image")}});const u=[hi,ci],o=[];function _(a,f){return(a[1]===null||a[1][0]===null||a[1][1]===null)&&!a[8]?0:1}return n=_(i),s=o[n]=u[n](i),{c(){J(e.$$.fragment),t=ke(),s.c(),l=Ot()},m(a,f){V(e,a,f),he(a,t,f),o[n].m(a,f),he(a,l,f),r=!0},p(a,f){const h={};f[0]&32&&(h.show_label=a[5]),f[0]&72&&(h.label=a[3]||a[6]("image.image")),e.$set(h);let b=n;n=_(a),n===b?o[n].p(a,f):(We(),B(o[b],1,1,()=>{o[b]=null}),Ne(),s=o[n],s?s.p(a,f):(s=o[n]=u[n](a),s.c()),S(s,1),s.m(l.parentNode,l))},i(a){r||(S(e.$$.fragment,a),S(s),r=!0)},o(a){B(e.$$.fragment,a),B(s),r=!1},d(a){a&&(ce(t),ce(l)),G(e,a),o[n].d(a)}}}function wi(i,e,t,n,s,l){return(i*t+n-s)/l/e}function vi(i,e,t){let n,s,l,{value:r=[null,null]}=e,{label:u=void 0}=e,{show_download_button:o=!0}=e,{show_label:_}=e,{i18n:a}=e,{position:f}=e,{layer_images:h=!0}=e,{show_single:b=!1}=e,{slider_color:g}=e,{show_fullscreen_button:d=!0}=e,{fullscreen:m=!1}=e,{el_width:z=0}=e,{max_height:D}=e,{interactive:L=!0}=e;const p=fi();let $,X,Y,E=hn({x:0,y:0,z:1},{duration:75});oi(i,E,v=>t(17,l=v));let c,P=0,R=null,j=null;function I(v,de){!v||!de||(R?.destroy(),j?.disconnect(),v?.getBoundingClientRect().width,t(26,P=de?.getBoundingClientRect().width||0),t(20,R=new ti(de,v)),R.subscribe(({x:Ee,y:ae,scale:nt})=>{E.set({x:Ee,y:ae,z:nt})}),j=new ResizeObserver(Ee=>{for(const ae of Ee)ae.target===de&&t(26,P=ae.contentRect.width),ae.target===v&&ae.contentRect.width}),j.observe(de),j.observe(v))}_i(()=>()=>{R?.destroy(),j?.disconnect()});let q,U={top:0,left:0,width:0,height:0};function se(v){t(16,U=v.detail)}const re=()=>R?.reset_zoom();function k(v){li.call(this,i,v)}const x=v=>{t(1,r=[null,null]),p("clear"),v.stopPropagation()};function H(v){$=v,t(14,$)}function Ke(v){f=v,t(0,f)}function Ze(v){X=v,t(15,X)}function Qe(v){c=v,t(19,c)}function xe(v){ve[v?"unshift":"push"](()=>{q=v,t(21,q)})}function et(){z=this.clientWidth,t(2,z)}function tt(v){ve[v?"unshift":"push"](()=>{Y=v,t(18,Y)})}return i.$$set=v=>{"value"in v&&t(1,r=v.value),"label"in v&&t(3,u=v.label),"show_download_button"in v&&t(4,o=v.show_download_button),"show_label"in v&&t(5,_=v.show_label),"i18n"in v&&t(6,a=v.i18n),"position"in v&&t(0,f=v.position),"layer_images"in v&&t(7,h=v.layer_images),"show_single"in v&&t(8,b=v.show_single),"slider_color"in v&&t(9,g=v.slider_color),"show_fullscreen_button"in v&&t(10,d=v.show_fullscreen_button),"fullscreen"in v&&t(11,m=v.fullscreen),"el_width"in v&&t(2,z=v.el_width),"max_height"in v&&t(12,D=v.max_height),"interactive"in v&&t(13,L=v.interactive)},i.$$.update=()=>{i.$$.dirty[0]&67305473&&t(27,n=wi(f,P,U.width,U.left,l.x,l.z)),i.$$.dirty[0]&134217856&&t(22,s=h?`clip-path: inset(0 0 0 ${n*100}%)`:""),i.$$.dirty[0]&49152&&I($,X)},[f,r,z,u,o,_,a,h,b,g,d,m,D,L,$,X,U,l,Y,c,R,q,s,p,E,se,P,n,re,k,x,H,Ke,Ze,Qe,xe,et,tt]}class ki extends ni{constructor(e){super(),ri(this,e,vi,pi,ui,{value:1,label:3,show_download_button:4,show_label:5,i18n:6,position:0,layer_images:7,show_single:8,slider_color:9,show_fullscreen_button:10,fullscreen:11,el_width:2,max_height:12,interactive:13},null,[-1,-1])}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),W()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),W()}get show_download_button(){return this.$$.ctx[4]}set show_download_button(e){this.$$set({show_download_button:e}),W()}get show_label(){return this.$$.ctx[5]}set show_label(e){this.$$set({show_label:e}),W()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),W()}get position(){return this.$$.ctx[0]}set position(e){this.$$set({position:e}),W()}get layer_images(){return this.$$.ctx[7]}set layer_images(e){this.$$set({layer_images:e}),W()}get show_single(){return this.$$.ctx[8]}set show_single(e){this.$$set({show_single:e}),W()}get slider_color(){return this.$$.ctx[9]}set slider_color(e){this.$$set({slider_color:e}),W()}get show_fullscreen_button(){return this.$$.ctx[10]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),W()}get fullscreen(){return this.$$.ctx[11]}set fullscreen(e){this.$$set({fullscreen:e}),W()}get el_width(){return this.$$.ctx[2]}set el_width(e){this.$$set({el_width:e}),W()}get max_height(){return this.$$.ctx[12]}set max_height(e){this.$$set({max_height:e}),W()}get interactive(){return this.$$.ctx[13]}set interactive(e){this.$$set({interactive:e}),W()}}const{SvelteComponent:zi,attr:$i,create_component:Xi,destroy_component:Yi,detach:Ei,element:Mi,init:Ti,insert:Di,mount_component:Si,noop:Ci,safe_not_equal:Ri,transition_in:Ii,transition_out:Li}=window.__gradio__svelte__internal,{createEventDispatcher:Bi}=window.__gradio__svelte__internal;function qi(i){let e,t,n;return t=new Ie({props:{Icon:Lt,label:"Remove Image"}}),t.$on("click",i[1]),{c(){e=Mi("div"),Xi(t.$$.fragment),$i(e,"class","svelte-s6ybro")},m(s,l){Di(s,e,l),Si(t,e,null),n=!0},p:Ci,i(s){n||(Ii(t.$$.fragment,s),n=!0)},o(s){Li(t.$$.fragment,s),n=!1},d(s){s&&Ei(e),Yi(t)}}}function Pi(i){const e=Bi();return[e,n=>{e("remove_image"),n.stopPropagation()}]}class Ui extends zi{constructor(e){super(),Ti(this,e,Pi,qi,Ri,{})}}const{SvelteComponent:Ni,add_flush_callback:He,add_iframe_resize_listener:Wi,add_render_callback:Oi,append:ut,attr:ze,bind:Je,binding_callbacks:Ge,check_outros:De,create_component:K,create_slot:jt,destroy_component:Z,detach:$e,element:Le,flush:O,get_all_dirty_from_scope:At,get_slot_changes:Ft,group_outros:Se,init:ji,insert:Xe,mount_component:Q,noop:Ht,safe_not_equal:Ai,set_style:pe,space:Oe,toggle_class:Ye,transition_in:M,transition_out:C,update_slot_base:Jt}=window.__gradio__svelte__internal,{createEventDispatcher:Fi,tick:Hi}=window.__gradio__svelte__internal;function Et(i){let e,t;return e=new Ui({}),e.$on("remove_image",i[22]),{c(){K(e.$$.fragment)},m(n,s){Q(e,n,s),t=!0},p:Ht,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){Z(e,n)}}}function Mt(i){let e,t,n=i[7]&&Tt(i);return{c(){e=Le("div"),n&&n.c(),ze(e,"class","icon-buttons svelte-143b07a")},m(s,l){Xe(s,e,l),n&&n.m(e,null),t=!0},p(s,l){s[7]?n?(n.p(s,l),l&128&&M(n,1)):(n=Tt(s),n.c(),M(n,1),n.m(e,null)):n&&(Se(),C(n,1,1,()=>{n=null}),De())},i(s){t||(M(n),t=!0)},o(s){C(n),t=!1},d(s){s&&$e(e),n&&n.d()}}}function Tt(i){let e,t;return e=new It({props:{href:i[0][1].url,download:i[0][1].orig_name||"image",$$slots:{default:[Ji]},$$scope:{ctx:i}}}),{c(){K(e.$$.fragment)},m(n,s){Q(e,n,s),t=!0},p(n,s){const l={};s&1&&(l.href=n[0][1].url),s&1&&(l.download=n[0][1].orig_name||"image"),s&1073741824&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){Z(e,n)}}}function Ji(i){let e,t;return e=new Ie({props:{Icon:Bt}}),{c(){K(e.$$.fragment)},m(n,s){Q(e,n,s),t=!0},p:Ht,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){Z(e,n)}}}function Gi(i){let e,t,n;function s(r){i[25](r)}let l={variant:"upload",src:i[14][0]?.url,alt:"",max_height:i[13]};return i[15]!==void 0&&(l.img_el=i[15]),e=new je({props:l}),Ge.push(()=>Je(e,"img_el",s)),{c(){K(e.$$.fragment)},m(r,u){Q(e,r,u),n=!0},p(r,u){const o={};u&16384&&(o.src=r[14][0]?.url),u&8192&&(o.max_height=r[13]),!t&&u&32768&&(t=!0,o.img_el=r[15],He(()=>t=!1)),e.$set(o)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function Vi(i){let e,t,n,s;function l(u){i[23](u)}let r={filetype:"image/*",disable_click:!!i[0]?.[0],root:i[5],file_count:"multiple",upload:i[9],stream_handler:i[10],max_file_size:i[11],$$slots:{default:[yi]},$$scope:{ctx:i}};return i[1]!==void 0&&(r.dragging=i[1]),t=new Nt({props:r}),Ge.push(()=>Je(t,"dragging",l)),t.$on("load",i[24]),{c(){e=Le("div"),K(t.$$.fragment),ze(e,"class","wrap svelte-143b07a"),Ye(e,"half-wrap",i[6]===1)},m(u,o){Xe(u,e,o),Q(t,e,null),s=!0},p(u,o){const _={};o&1&&(_.disable_click=!!u[0]?.[0]),o&32&&(_.root=u[5]),o&512&&(_.upload=u[9]),o&1024&&(_.stream_handler=u[10]),o&2048&&(_.max_file_size=u[11]),o&1073741824&&(_.$$scope={dirty:o,ctx:u}),!n&&o&2&&(n=!0,_.dragging=u[1],He(()=>n=!1)),t.$set(_),(!s||o&64)&&Ye(e,"half-wrap",u[6]===1)},i(u){s||(M(t.$$.fragment,u),s=!0)},o(u){C(t.$$.fragment,u),s=!1},d(u){u&&$e(e),Z(t)}}}function yi(i){let e;const t=i[21].default,n=jt(t,i,i[30],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&1073741824)&&Jt(n,t,s,s[30],e?Ft(t,s[30],l,null):At(s[30]),null)},i(s){e||(M(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function Ki(i){let e,t;return e=new je({props:{variant:"upload",src:i[14][1].url,alt:"",fixed:i[6]===1,transform:"translate(0px, 0px) scale(1)",max_height:i[13]}}),{c(){K(e.$$.fragment)},m(n,s){Q(e,n,s),t=!0},p(n,s){const l={};s&16384&&(l.src=n[14][1].url),s&64&&(l.fixed=n[6]===1),s&8192&&(l.max_height=n[13]),e.$set(l)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){Z(e,n)}}}function Zi(i){let e,t,n=`${i[16]*(1-i[2])}px`,s=`translateX(${i[16]*i[2]}px)`,l;return t=new _t({props:{unpadded_box:!0,size:"large",$$slots:{default:[xi]},$$scope:{ctx:i}}}),{c(){e=Le("div"),K(t.$$.fragment),ze(e,"class","empty-wrap fixed svelte-143b07a"),Ye(e,"white-icon",!i[0]?.[0]?.url),pe(e,"width",n),pe(e,"transform",s)},m(r,u){Xe(r,e,u),Q(t,e,null),l=!0},p(r,u){const o={};u&1073741824&&(o.$$scope={dirty:u,ctx:r}),t.$set(o),(!l||u&1)&&Ye(e,"white-icon",!r[0]?.[0]?.url),u&65540&&n!==(n=`${r[16]*(1-r[2])}px`)&&pe(e,"width",n),u&65540&&s!==(s=`translateX(${r[16]*r[2]}px)`)&&pe(e,"transform",s)},i(r){l||(M(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&$e(e),Z(t)}}}function Qi(i){let e,t,n;function s(r){i[26](r)}let l={filetype:"image/*",disable_click:!!i[0]?.[1],root:i[5],file_count:"multiple",upload:i[9],stream_handler:i[10],max_file_size:i[11],$$slots:{default:[es]},$$scope:{ctx:i}};return i[1]!==void 0&&(l.dragging=i[1]),e=new Nt({props:l}),Ge.push(()=>Je(e,"dragging",s)),e.$on("load",i[27]),{c(){K(e.$$.fragment)},m(r,u){Q(e,r,u),n=!0},p(r,u){const o={};u&1&&(o.disable_click=!!r[0]?.[1]),u&32&&(o.root=r[5]),u&512&&(o.upload=r[9]),u&1024&&(o.stream_handler=r[10]),u&2048&&(o.max_file_size=r[11]),u&1073741824&&(o.$$scope={dirty:u,ctx:r}),!t&&u&2&&(t=!0,o.dragging=r[1],He(()=>t=!1)),e.$set(o)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){Z(e,r)}}}function xi(i){let e,t;return e=new Re({}),{c(){K(e.$$.fragment)},m(n,s){Q(e,n,s),t=!0},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){Z(e,n)}}}function es(i){let e;const t=i[21].default,n=jt(t,i,i[30],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&1073741824)&&Jt(n,t,s,s[30],e?Ft(t,s[30],l,null):At(s[30]),null)},i(s){e||(M(n,s),e=!0)},o(s){C(n,s),e=!1},d(s){n&&n.d(s)}}}function ts(i){let e,t,n,s,l,r,u;const o=[Vi,Gi],_=[];function a(g,d){return g[14]?.[0]?1:0}t=a(i),n=_[t]=o[t](i);const f=[Qi,Zi,Ki],h=[];function b(g,d){return!g[14]?.[1]&&g[6]===2?0:!g[14]?.[1]&&g[6]===1?1:g[14]?.[1]?2:-1}return~(l=b(i))&&(r=h[l]=f[l](i)),{c(){e=Le("div"),n.c(),s=Oe(),r&&r.c(),ze(e,"class","upload-wrap svelte-143b07a"),Ye(e,"side-by-side",i[6]===2),pe(e,"display",i[6]===2?"flex":"block")},m(g,d){Xe(g,e,d),_[t].m(e,null),ut(e,s),~l&&h[l].m(e,null),u=!0},p(g,d){let m=t;t=a(g),t===m?_[t].p(g,d):(Se(),C(_[m],1,1,()=>{_[m]=null}),De(),n=_[t],n?n.p(g,d):(n=_[t]=o[t](g),n.c()),M(n,1),n.m(e,s));let z=l;l=b(g),l===z?~l&&h[l].p(g,d):(r&&(Se(),C(h[z],1,1,()=>{h[z]=null}),De()),~l?(r=h[l],r?r.p(g,d):(r=h[l]=f[l](g),r.c()),M(r,1),r.m(e,null)):r=null),(!u||d&64)&&Ye(e,"side-by-side",g[6]===2),d&64&&pe(e,"display",g[6]===2?"flex":"block")},i(g){u||(M(n),M(r),u=!0)},o(g){C(n),C(r),u=!1},d(g){g&&$e(e),_[t].d(),~l&&h[l].d()}}}function ns(i){let e,t,n,s,l,r,u,o,_;e=new Rt({props:{show_label:i[4],Icon:Re,label:i[3]||i[12]("image.image")}});let a=(i[0]?.[0]?.url||i[0]?.[1]?.url)&&Et(i),f=i[0]?.[1]?.url&&Mt(i);function h(g){i[28](g)}let b={disabled:i[6]==2||!i[0]?.[0],slider_color:i[8],$$slots:{default:[ts]},$$scope:{ctx:i}};return i[2]!==void 0&&(b.position=i[2]),r=new Wt({props:b}),Ge.push(()=>Je(r,"position",h)),{c(){K(e.$$.fragment),t=Oe(),n=Le("div"),a&&a.c(),s=Oe(),f&&f.c(),l=Oe(),K(r.$$.fragment),ze(n,"data-testid","image"),ze(n,"class","image-container svelte-143b07a"),Oi(()=>i[29].call(n))},m(g,d){Q(e,g,d),Xe(g,t,d),Xe(g,n,d),a&&a.m(n,null),ut(n,s),f&&f.m(n,null),ut(n,l),Q(r,n,null),o=Wi(n,i[29].bind(n)),_=!0},p(g,[d]){const m={};d&16&&(m.show_label=g[4]),d&4104&&(m.label=g[3]||g[12]("image.image")),e.$set(m),g[0]?.[0]?.url||g[0]?.[1]?.url?a?(a.p(g,d),d&1&&M(a,1)):(a=Et(g),a.c(),M(a,1),a.m(n,s)):a&&(Se(),C(a,1,1,()=>{a=null}),De()),g[0]?.[1]?.url?f?(f.p(g,d),d&1&&M(f,1)):(f=Mt(g),f.c(),M(f,1),f.m(n,l)):f&&(Se(),C(f,1,1,()=>{f=null}),De());const z={};d&65&&(z.disabled=g[6]==2||!g[0]?.[0]),d&256&&(z.slider_color=g[8]),d&1073868391&&(z.$$scope={dirty:d,ctx:g}),!u&&d&4&&(u=!0,z.position=g[2],He(()=>u=!1)),r.$set(z)},i(g){_||(M(e.$$.fragment,g),M(a),M(f),M(r.$$.fragment,g),_=!0)},o(g){C(e.$$.fragment,g),C(a),C(f),C(r.$$.fragment,g),_=!1},d(g){g&&($e(t),$e(n)),Z(e,g),a&&a.d(),f&&f.d(),Z(r),o()}}}function is(i,e,t){let{$$slots:n={},$$scope:s}=e,{value:l}=e,{label:r=void 0}=e,{show_label:u}=e,{root:o}=e,{position:_}=e,{upload_count:a=2}=e,{show_download_button:f=!0}=e,{slider_color:h}=e,{upload:b}=e,{stream_handler:g}=e,{max_file_size:d=null}=e,{i18n:m}=e,{max_height:z}=e,D=l||[null,null],L,p,$;async function X({detail:k},x){const H=[l[0],l[1]];k.length>1?H[x]=k[0]:H[x]=k[x],t(0,l=H),await Hi(),E("upload",H)}let Y="";const E=Fi();let{dragging:c=!1}=e;const P=()=>{t(2,_=.5),t(0,l=[null,null]),E("clear")};function R(k){c=k,t(1,c)}const j=k=>X(k,0);function I(k){L=k,t(15,L)}function q(k){c=k,t(1,c)}const U=k=>X(k,1);function se(k){_=k,t(2,_)}function re(){p=this.clientWidth,$=this.clientHeight,t(16,p),t(17,$)}return i.$$set=k=>{"value"in k&&t(0,l=k.value),"label"in k&&t(3,r=k.label),"show_label"in k&&t(4,u=k.show_label),"root"in k&&t(5,o=k.root),"position"in k&&t(2,_=k.position),"upload_count"in k&&t(6,a=k.upload_count),"show_download_button"in k&&t(7,f=k.show_download_button),"slider_color"in k&&t(8,h=k.slider_color),"upload"in k&&t(9,b=k.upload),"stream_handler"in k&&t(10,g=k.stream_handler),"max_file_size"in k&&t(11,d=k.max_file_size),"i18n"in k&&t(12,m=k.i18n),"max_height"in k&&t(13,z=k.max_height),"dragging"in k&&t(1,c=k.dragging),"$$scope"in k&&t(30,s=k.$$scope)},i.$$.update=()=>{i.$$.dirty&1048577&&JSON.stringify(l)!==Y&&(t(20,Y=JSON.stringify(l)),t(14,D=l)),i.$$.dirty&2&&E("drag",c)},[l,c,_,r,u,o,a,f,h,b,g,d,m,z,D,L,p,$,X,E,Y,n,P,R,j,I,q,U,se,re,s]}class ss extends Ni{constructor(e){super(),ji(this,e,is,ns,Ai,{value:0,label:3,show_label:4,root:5,position:2,upload_count:6,show_download_button:7,slider_color:8,upload:9,stream_handler:10,max_file_size:11,i18n:12,max_height:13,dragging:1})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),O()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),O()}get show_label(){return this.$$.ctx[4]}set show_label(e){this.$$set({show_label:e}),O()}get root(){return this.$$.ctx[5]}set root(e){this.$$set({root:e}),O()}get position(){return this.$$.ctx[2]}set position(e){this.$$set({position:e}),O()}get upload_count(){return this.$$.ctx[6]}set upload_count(e){this.$$set({upload_count:e}),O()}get show_download_button(){return this.$$.ctx[7]}set show_download_button(e){this.$$set({show_download_button:e}),O()}get slider_color(){return this.$$.ctx[8]}set slider_color(e){this.$$set({slider_color:e}),O()}get upload(){return this.$$.ctx[9]}set upload(e){this.$$set({upload:e}),O()}get stream_handler(){return this.$$.ctx[10]}set stream_handler(e){this.$$set({stream_handler:e}),O()}get max_file_size(){return this.$$.ctx[11]}set max_file_size(e){this.$$set({max_file_size:e}),O()}get i18n(){return this.$$.ctx[12]}set i18n(e){this.$$set({i18n:e}),O()}get max_height(){return this.$$.ctx[13]}set max_height(e){this.$$set({max_height:e}),O()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),O()}}const{SvelteComponent:ls,add_flush_callback:Dt,bind:St,binding_callbacks:Ct,bubble:be,create_component:os,create_slot:rs,destroy_component:as,flush:y,get_all_dirty_from_scope:us,get_slot_changes:_s,init:fs,mount_component:cs,safe_not_equal:hs,transition_in:Gt,transition_out:Vt,update_slot_base:ds}=window.__gradio__svelte__internal;function gs(i){let e;const t=i[11].default,n=rs(t,i,i[21],null);return{c(){n&&n.c()},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&2097152)&&ds(n,t,s,s[21],e?_s(t,s[21],l,null):us(s[21]),null)},i(s){e||(Gt(n,s),e=!0)},o(s){Vt(n,s),e=!1},d(s){n&&n.d(s)}}}function ms(i){let e,t,n,s;function l(o){i[12](o)}function r(o){i[13](o)}let u={slider_color:"var(--border-color-primary)",position:.5,root:i[7],label:i[4],show_label:i[5],upload_count:i[8],stream_handler:i[3],upload:i[2],max_file_size:i[10],max_height:i[9],i18n:i[6],$$slots:{default:[gs]},$$scope:{ctx:i}};return i[0]!==void 0&&(u.value=i[0]),i[1]!==void 0&&(u.dragging=i[1]),e=new ss({props:u}),Ct.push(()=>St(e,"value",l)),Ct.push(()=>St(e,"dragging",r)),e.$on("edit",i[14]),e.$on("clear",i[15]),e.$on("stream",i[16]),e.$on("drag",i[17]),e.$on("upload",i[18]),e.$on("select",i[19]),e.$on("share",i[20]),{c(){os(e.$$.fragment)},m(o,_){cs(e,o,_),s=!0},p(o,[_]){const a={};_&128&&(a.root=o[7]),_&16&&(a.label=o[4]),_&32&&(a.show_label=o[5]),_&256&&(a.upload_count=o[8]),_&8&&(a.stream_handler=o[3]),_&4&&(a.upload=o[2]),_&1024&&(a.max_file_size=o[10]),_&512&&(a.max_height=o[9]),_&64&&(a.i18n=o[6]),_&2097152&&(a.$$scope={dirty:_,ctx:o}),!t&&_&1&&(t=!0,a.value=o[0],Dt(()=>t=!1)),!n&&_&2&&(n=!0,a.dragging=o[1],Dt(()=>n=!1)),e.$set(a)},i(o){s||(Gt(e.$$.fragment,o),s=!0)},o(o){Vt(e.$$.fragment,o),s=!1},d(o){as(e,o)}}}function bs(i,e,t){let{$$slots:n={},$$scope:s}=e,{value:l=[null,null]}=e,{upload:r}=e,{stream_handler:u}=e,{label:o}=e,{show_label:_}=e,{i18n:a}=e,{root:f}=e,{upload_count:h=1}=e,{dragging:b}=e,{max_height:g}=e,{max_file_size:d=null}=e;function m(c){l=c,t(0,l)}function z(c){b=c,t(1,b)}function D(c){be.call(this,i,c)}function L(c){be.call(this,i,c)}function p(c){be.call(this,i,c)}const $=({detail:c})=>t(1,b=c);function X(c){be.call(this,i,c)}function Y(c){be.call(this,i,c)}function E(c){be.call(this,i,c)}return i.$$set=c=>{"value"in c&&t(0,l=c.value),"upload"in c&&t(2,r=c.upload),"stream_handler"in c&&t(3,u=c.stream_handler),"label"in c&&t(4,o=c.label),"show_label"in c&&t(5,_=c.show_label),"i18n"in c&&t(6,a=c.i18n),"root"in c&&t(7,f=c.root),"upload_count"in c&&t(8,h=c.upload_count),"dragging"in c&&t(1,b=c.dragging),"max_height"in c&&t(9,g=c.max_height),"max_file_size"in c&&t(10,d=c.max_file_size),"$$scope"in c&&t(21,s=c.$$scope)},[l,b,r,u,o,_,a,f,h,g,d,n,m,z,D,L,p,$,X,Y,E,s]}class ps extends ls{constructor(e){super(),fs(this,e,bs,ms,hs,{value:0,upload:2,stream_handler:3,label:4,show_label:5,i18n:6,root:7,upload_count:8,dragging:1,max_height:9,max_file_size:10})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),y()}get upload(){return this.$$.ctx[2]}set upload(e){this.$$set({upload:e}),y()}get stream_handler(){return this.$$.ctx[3]}set stream_handler(e){this.$$set({stream_handler:e}),y()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),y()}get show_label(){return this.$$.ctx[5]}set show_label(e){this.$$set({show_label:e}),y()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),y()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),y()}get upload_count(){return this.$$.ctx[8]}set upload_count(e){this.$$set({upload_count:e}),y()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),y()}get max_height(){return this.$$.ctx[9]}set max_height(e){this.$$set({max_height:e}),y()}get max_file_size(){return this.$$.ctx[10]}set max_file_size(e){this.$$set({max_file_size:e}),y()}}const{SvelteComponent:ws,add_flush_callback:Ae,assign:yt,bind:Fe,binding_callbacks:Ce,check_outros:vs,create_component:te,destroy_component:ne,detach:Ve,empty:Kt,flush:T,get_spread_object:Zt,get_spread_update:Qt,group_outros:ks,init:zs,insert:ye,mount_component:ie,safe_not_equal:$s,space:xt,transition_in:A,transition_out:F}=window.__gradio__svelte__internal,{afterUpdate:Xs}=window.__gradio__svelte__internal;function Ys(i){let e,t;return e=new qt({props:{visible:i[4],variant:i[0]===null?"dashed":"solid",border_mode:i[22]?"focus":"base",padding:!1,elem_id:i[2],elem_classes:i[3],height:i[9]||void 0,width:i[10],allow_overflow:!1,container:i[11],scale:i[12],min_width:i[13],$$slots:{default:[Rs]},$$scope:{ctx:i}}}),e.$on("dragenter",i[25]),e.$on("dragleave",i[25]),e.$on("dragover",i[25]),e.$on("drop",i[26]),{c(){te(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const l={};s[0]&16&&(l.visible=n[4]),s[0]&1&&(l.variant=n[0]===null?"dashed":"solid"),s[0]&4194304&&(l.border_mode=n[22]?"focus":"base"),s[0]&4&&(l.elem_id=n[2]),s[0]&8&&(l.elem_classes=n[3]),s[0]&512&&(l.height=n[9]||void 0),s[0]&1024&&(l.width=n[10]),s[0]&2048&&(l.container=n[11]),s[0]&4096&&(l.scale=n[12]),s[0]&8192&&(l.min_width=n[13]),s[0]&14319971|s[1]&262144&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Es(i){let e,t,n;function s(r){i[37](r)}let l={visible:i[4],variant:"solid",border_mode:i[22]?"focus":"base",padding:!1,elem_id:i[2],elem_classes:i[3],height:i[9]||void 0,width:i[10],allow_overflow:!1,container:i[11],scale:i[12],min_width:i[13],$$slots:{default:[Is]},$$scope:{ctx:i}};return i[21]!==void 0&&(l.fullscreen=i[21]),e=new qt({props:l}),Ce.push(()=>Fe(e,"fullscreen",s)),{c(){te(e.$$.fragment)},m(r,u){ie(e,r,u),n=!0},p(r,u){const o={};u[0]&16&&(o.visible=r[4]),u[0]&4194304&&(o.border_mode=r[22]?"focus":"base"),u[0]&4&&(o.elem_id=r[2]),u[0]&8&&(o.elem_classes=r[3]),u[0]&512&&(o.height=r[9]||void 0),u[0]&1024&&(o.width=r[10]),u[0]&2048&&(o.container=r[11]),u[0]&4096&&(o.scale=r[12]),u[0]&8192&&(o.min_width=r[13]),u[0]&20791523|u[1]&262144&&(o.$$scope={dirty:u,ctx:r}),!t&&u[0]&2097152&&(t=!0,o.fullscreen=r[21],Ae(()=>t=!1)),e.$set(o)},i(r){n||(A(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Ms(i){let e,t;return e=new _t({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ss]},$$scope:{ctx:i}}}),{c(){te(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const l={};s[1]&262144&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Ts(i){let e,t;return e=new Pt({props:{i18n:i[20].i18n,type:"clipboard",mode:"short"}}),{c(){te(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const l={};s[0]&1048576&&(l.i18n=n[20].i18n),e.$set(l)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Ds(i){let e,t;return e=new Pt({props:{i18n:i[20].i18n,type:"image",placeholder:i[15]}}),{c(){te(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},p(n,s){const l={};s[0]&1048576&&(l.i18n=n[20].i18n),s[0]&32768&&(l.placeholder=n[15]),e.$set(l)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Ss(i){let e,t;return e=new Re({}),{c(){te(e.$$.fragment)},m(n,s){ie(e,n,s),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Cs(i){let e,t,n,s;const l=[Ds,Ts,Ms],r=[];function u(o,_){return 0}return e=u(),t=r[e]=l[e](i),{c(){t.c(),n=Kt()},m(o,_){r[e].m(o,_),ye(o,n,_),s=!0},p(o,_){t.p(o,_)},i(o){s||(A(t),s=!0)},o(o){F(t),s=!1},d(o){o&&Ve(n),r[e].d(o)}}}function Rs(i){let e,t,n,s,l,r;const u=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let o={};for(let h=0;h<u.length;h+=1)o=yt(o,u[h]);e=new Ut({props:o}),e.$on("clear_status",i[38]);function _(h){i[41](h)}function a(h){i[42](h)}let f={root:i[8],label:i[5],show_label:i[6],upload_count:i[17],max_file_size:i[20].max_file_size,i18n:i[20].i18n,upload:i[39],stream_handler:i[20].client?.stream,max_height:i[19],$$slots:{default:[Cs]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),i[22]!==void 0&&(f.dragging=i[22]),n=new ps({props:f}),i[40](n),Ce.push(()=>Fe(n,"value",_)),Ce.push(()=>Fe(n,"dragging",a)),n.$on("edit",i[43]),n.$on("clear",i[44]),n.$on("drag",i[45]),n.$on("upload",i[46]),n.$on("error",i[47]),n.$on("close_stream",i[48]),{c(){te(e.$$.fragment),t=xt(),te(n.$$.fragment)},m(h,b){ie(e,h,b),ye(h,t,b),ie(n,h,b),r=!0},p(h,b){const g=b[0]&1048578?Qt(u,[b[0]&1048576&&{autoscroll:h[20].autoscroll},b[0]&1048576&&{i18n:h[20].i18n},b[0]&2&&Zt(h[1])]):{};e.$set(g);const d={};b[0]&256&&(d.root=h[8]),b[0]&32&&(d.label=h[5]),b[0]&64&&(d.show_label=h[6]),b[0]&131072&&(d.upload_count=h[17]),b[0]&1048576&&(d.max_file_size=h[20].max_file_size),b[0]&1048576&&(d.i18n=h[20].i18n),b[0]&1048576&&(d.upload=h[39]),b[0]&1048576&&(d.stream_handler=h[20].client?.stream),b[0]&524288&&(d.max_height=h[19]),b[0]&1081344|b[1]&262144&&(d.$$scope={dirty:b,ctx:h}),!s&&b[0]&1&&(s=!0,d.value=h[0],Ae(()=>s=!1)),!l&&b[0]&4194304&&(l=!0,d.dragging=h[22],Ae(()=>l=!1)),n.$set(d)},i(h){r||(A(e.$$.fragment,h),A(n.$$.fragment,h),r=!0)},o(h){F(e.$$.fragment,h),F(n.$$.fragment,h),r=!1},d(h){h&&Ve(t),ne(e,h),i[40](null),ne(n,h)}}}function Is(i){let e,t,n,s,l;const r=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let u={};for(let a=0;a<r.length;a+=1)u=yt(u,r[a]);e=new Ut({props:u});function o(a){i[31](a)}let _={fullscreen:i[21],interactive:i[14],label:i[5],show_label:i[6],show_download_button:i[7],i18n:i[20].i18n,show_fullscreen_button:i[16],position:i[24],slider_color:i[18],max_height:i[19]};return i[0]!==void 0&&(_.value=i[0]),n=new ki({props:_}),Ce.push(()=>Fe(n,"value",o)),n.$on("select",i[32]),n.$on("share",i[33]),n.$on("error",i[34]),n.$on("clear",i[35]),n.$on("fullscreen",i[36]),{c(){te(e.$$.fragment),t=xt(),te(n.$$.fragment)},m(a,f){ie(e,a,f),ye(a,t,f),ie(n,a,f),l=!0},p(a,f){const h=f[0]&1048578?Qt(r,[f[0]&1048576&&{autoscroll:a[20].autoscroll},f[0]&1048576&&{i18n:a[20].i18n},f[0]&2&&Zt(a[1])]):{};e.$set(h);const b={};f[0]&2097152&&(b.fullscreen=a[21]),f[0]&16384&&(b.interactive=a[14]),f[0]&32&&(b.label=a[5]),f[0]&64&&(b.show_label=a[6]),f[0]&128&&(b.show_download_button=a[7]),f[0]&1048576&&(b.i18n=a[20].i18n),f[0]&65536&&(b.show_fullscreen_button=a[16]),f[0]&16777216&&(b.position=a[24]),f[0]&262144&&(b.slider_color=a[18]),f[0]&524288&&(b.max_height=a[19]),!s&&f[0]&1&&(s=!0,b.value=a[0],Ae(()=>s=!1)),n.$set(b)},i(a){l||(A(e.$$.fragment,a),A(n.$$.fragment,a),l=!0)},o(a){F(e.$$.fragment,a),F(n.$$.fragment,a),l=!1},d(a){a&&Ve(t),ne(e,a),ne(n,a)}}}function Ls(i){let e,t,n,s;const l=[Es,Ys],r=[];function u(o,_){return!o[14]||o[0]?.[1]&&o[0]?.[0]?0:1}return e=u(i),t=r[e]=l[e](i),{c(){t.c(),n=Kt()},m(o,_){r[e].m(o,_),ye(o,n,_),s=!0},p(o,_){let a=e;e=u(o),e===a?r[e].p(o,_):(ks(),F(r[a],1,1,()=>{r[a]=null}),vs(),t=r[e],t?t.p(o,_):(t=r[e]=l[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){s||(A(t),s=!0)},o(o){F(t),s=!1},d(o){o&&Ve(n),r[e].d(o)}}}function Bs(i,e,t){let n,{value_is_output:s=!1}=e,{elem_id:l=""}=e,{elem_classes:r=[]}=e,{visible:u=!0}=e,{value:o=[null,null]}=e,_=[null,null],{label:a}=e,{show_label:f}=e,{show_download_button:h}=e,{root:b}=e,{height:g}=e,{width:d}=e,{container:m=!0}=e,{scale:z=null}=e,{min_width:D=void 0}=e,{loading_status:L}=e,{interactive:p}=e,{placeholder:$=void 0}=e,{show_fullscreen_button:X}=e,Y=!1,{input_ready:E}=e,{slider_position:c}=e,{upload_count:P=1}=e,{slider_color:R="var(--border-color-primary)"}=e,{max_height:j}=e,{gradio:I}=e;Xs(()=>{t(27,s=!1)});let q,U;const se=w=>{const le=w;le.preventDefault(),le.stopPropagation(),le.type==="dragenter"||le.type==="dragover"?t(22,q=!0):le.type==="dragleave"&&t(22,q=!1)},re=w=>{if(p){const le=w;le.preventDefault(),le.stopPropagation(),t(22,q=!1),U&&U.loadFilesFromDrop(le)}};function k(w){o=w,t(0,o)}const x=({detail:w})=>I.dispatch("select",w),H=({detail:w})=>I.dispatch("share",w),Ke=({detail:w})=>I.dispatch("error",w),Ze=()=>I.dispatch("clear"),Qe=({detail:w})=>{t(21,Y=w)};function xe(w){Y=w,t(21,Y)}const et=()=>I.dispatch("clear_status",L),tt=(...w)=>I.client.upload(...w);function v(w){Ce[w?"unshift":"push"](()=>{U=w,t(23,U)})}function de(w){o=w,t(0,o)}function Ee(w){q=w,t(22,q)}const ae=()=>I.dispatch("edit"),nt=()=>{I.dispatch("clear")},en=({detail:w})=>t(22,q=w),tn=()=>I.dispatch("upload"),nn=({detail:w})=>{t(1,L=L||{}),t(1,L.status="error",L),I.dispatch("error",w)},sn=()=>{I.dispatch("close_stream","stream")};return i.$$set=w=>{"value_is_output"in w&&t(27,s=w.value_is_output),"elem_id"in w&&t(2,l=w.elem_id),"elem_classes"in w&&t(3,r=w.elem_classes),"visible"in w&&t(4,u=w.visible),"value"in w&&t(0,o=w.value),"label"in w&&t(5,a=w.label),"show_label"in w&&t(6,f=w.show_label),"show_download_button"in w&&t(7,h=w.show_download_button),"root"in w&&t(8,b=w.root),"height"in w&&t(9,g=w.height),"width"in w&&t(10,d=w.width),"container"in w&&t(11,m=w.container),"scale"in w&&t(12,z=w.scale),"min_width"in w&&t(13,D=w.min_width),"loading_status"in w&&t(1,L=w.loading_status),"interactive"in w&&t(14,p=w.interactive),"placeholder"in w&&t(15,$=w.placeholder),"show_fullscreen_button"in w&&t(16,X=w.show_fullscreen_button),"input_ready"in w&&t(28,E=w.input_ready),"slider_position"in w&&t(29,c=w.slider_position),"upload_count"in w&&t(17,P=w.upload_count),"slider_color"in w&&t(18,R=w.slider_color),"max_height"in w&&t(19,j=w.max_height),"gradio"in w&&t(20,I=w.gradio)},i.$$.update=()=>{i.$$.dirty[0]&536870912&&t(24,n=Math.max(0,Math.min(100,c))/100),i.$$.dirty[0]&1209008129&&JSON.stringify(o)!==JSON.stringify(_)&&(t(30,_=o),I.dispatch("change"),s||I.dispatch("input"))},t(28,E=!0),[o,L,l,r,u,a,f,h,b,g,d,m,z,D,p,$,X,P,R,j,I,Y,q,U,n,se,re,s,E,c,_,k,x,H,Ke,Ze,Qe,xe,et,tt,v,de,Ee,ae,nt,en,tn,nn,sn]}class Js extends ws{constructor(e){super(),zs(this,e,Bs,Ls,$s,{value_is_output:27,elem_id:2,elem_classes:3,visible:4,value:0,label:5,show_label:6,show_download_button:7,root:8,height:9,width:10,container:11,scale:12,min_width:13,loading_status:1,interactive:14,placeholder:15,show_fullscreen_button:16,input_ready:28,slider_position:29,upload_count:17,slider_color:18,max_height:19,gradio:20},null,[-1,-1])}get value_is_output(){return this.$$.ctx[27]}set value_is_output(e){this.$$set({value_is_output:e}),T()}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),T()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),T()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),T()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),T()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),T()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),T()}get show_download_button(){return this.$$.ctx[7]}set show_download_button(e){this.$$set({show_download_button:e}),T()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),T()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),T()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),T()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),T()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),T()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),T()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),T()}get interactive(){return this.$$.ctx[14]}set interactive(e){this.$$set({interactive:e}),T()}get placeholder(){return this.$$.ctx[15]}set placeholder(e){this.$$set({placeholder:e}),T()}get show_fullscreen_button(){return this.$$.ctx[16]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),T()}get input_ready(){return this.$$.ctx[28]}set input_ready(e){this.$$set({input_ready:e}),T()}get slider_position(){return this.$$.ctx[29]}set slider_position(e){this.$$set({slider_position:e}),T()}get upload_count(){return this.$$.ctx[17]}set upload_count(e){this.$$set({upload_count:e}),T()}get slider_color(){return this.$$.ctx[18]}set slider_color(e){this.$$set({slider_color:e}),T()}get max_height(){return this.$$.ctx[19]}set max_height(e){this.$$set({max_height:e}),T()}get gradio(){return this.$$.ctx[20]}set gradio(e){this.$$set({gradio:e}),T()}}export{Js as default};
//# sourceMappingURL=Index-BHgj5Y8J.js.map
