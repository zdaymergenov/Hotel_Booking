import{e as kt,p as vt,q as zt,k as qt,g as Ct,h as Tt,M as Dt,V as St,r as Mt,c as Et}from"./FullscreenButton-BoNylw4k.js";import{U as Ht}from"./ModifyUpload-C1BBLG7J.js";import{I as Bt}from"./Image-0bVIZe-w.js";import"./ImagePreview-BDiqfxBO.js";import{I as Ft}from"./InteractiveAudio-imOocEVA.js";import{S as At}from"./StreamingBar-DuwzVLwP.js";import{default as Ll}from"./Example-C78pDFTR.js";import"./MarkdownCode-azIzFEvA.js";import"./index-sqki5BVz.js";import"./svelte/svelte.js";import"./prism-python-BVLPtsXx.js";import"./init-CYs0NWnS.js";import"./AudioPlayer-TM4a3MQW.js";import"./hls-C7-VjdhD.js";import"./Video-NpeJCQXG.js";const{tick:Pt}=window.__gradio__svelte__internal;async function Le(t,e,l){if(await Pt(),e===l)return;const i=window.getComputedStyle(t),o=parseFloat(i.paddingTop),s=parseFloat(i.paddingBottom),g=parseFloat(i.lineHeight);let f=l===void 0?!1:o+s+g*l,a=o+s+e*g;t.style.height="1px";let d;f&&t.scrollHeight>f?d=f:t.scrollHeight<a?d=a:d=t.scrollHeight,t.style.height=`${d}px`}function Ut(t,e){if(e.lines===e.max_lines)return;t.style.overflowY="scroll";function l(i){Le(i.target,e.lines,e.max_lines)}if(t.addEventListener("input",l),!!e.text.trim())return Le(t,e.lines,e.max_lines),{destroy:()=>t.removeEventListener("input",l)}}const{SvelteComponent:It,action_destroyer:Lt,add_flush_callback:Ye,append:Y,attr:p,bind:Ge,binding_callbacks:he,bubble:we,check_outros:te,create_component:N,destroy_component:X,destroy_each:Rt,detach:J,element:G,ensure_array_like:Ne,flush:E,group_outros:le,init:Vt,insert:O,is_function:ze,listen:W,mount_component:Q,noop:se,prevent_default:Wt,run_all:jt,safe_not_equal:Kt,set_data:Re,set_input_value:Xe,set_style:Je,space:ee,text:Ve,toggle_class:Z,transition_in:k,transition_out:C}=window.__gradio__svelte__internal,{onMount:Yt,beforeUpdate:Gt,afterUpdate:Nt,createEventDispatcher:Xt,tick:Oe}=window.__gradio__svelte__internal;function Qe(t,e,l){const i=t.slice();return i[70]=e[l],i[72]=l,i}function Jt(t){let e;return{c(){e=Ve(t[7])},m(l,i){O(l,e,i)},p(l,i){i[0]&128&&Re(e,l[7])},d(l){l&&J(e)}}}function Ze(t){let e,l,i,o=Ne(t[0].files),s=[];for(let a=0;a<o.length;a+=1)s[a]=ye(Qe(t,o,a));const g=a=>C(s[a],1,1,()=>{s[a]=null});let f=t[27]&&xe();return{c(){e=G("div");for(let a=0;a<s.length;a+=1)s[a].c();l=ee(),f&&f.c(),p(e,"class","thumbnails scroll-hide svelte-5gfv2q"),p(e,"aria-label","Uploaded files"),p(e,"data-testid","container_el"),Je(e,"display",t[0].files.length>0||t[27]?"flex":"none")},m(a,d){O(a,e,d);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(e,null);Y(e,l),f&&f.m(e,null),i=!0},p(a,d){if(d[0]&65|d[1]&16){o=Ne(a[0].files);let _;for(_=0;_<o.length;_+=1){const q=Qe(a,o,_);s[_]?(s[_].p(q,d),k(s[_],1)):(s[_]=ye(q),s[_].c(),k(s[_],1),s[_].m(e,l))}for(le(),_=o.length;_<s.length;_+=1)g(_);te()}a[27]?f||(f=xe(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!i||d[0]&134217729)&&Je(e,"display",a[0].files.length>0||a[27]?"flex":"none")},i(a){if(!i){for(let d=0;d<o.length;d+=1)k(s[d]);i=!0}},o(a){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)C(s[d]);i=!1},d(a){a&&J(e),Rt(s,a),f&&f.d()}}}function Ot(t){let e,l;return e=new Mt({}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p:se,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function Qt(t){let e,l;return e=new St({}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p:se,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function Zt(t){let e,l;return e=new Dt({}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p:se,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function yt(t){let e,l;return e=new Bt({props:{src:t[70].url,title:null,alt:"",loading:"lazy",class:"thumbnail-image"}}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p(i,o){const s={};o[0]&1&&(s.src=i[70].url),e.$set(s)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function ye(t){let e,l,i,o,s,g,f,a,d,_,q,m,v;o=new qt({});function u(...T){return t[51](t[72],...T)}const h=[yt,Zt,Qt,Ot],b=[];function K(T,U){return U[0]&1&&(g=null),U[0]&1&&(f=null),U[0]&1&&(a=null),g==null&&(g=!!(T[70].mime_type&&T[70].mime_type.includes("image"))),g?0:(f==null&&(f=!!(T[70].mime_type&&T[70].mime_type.includes("audio"))),f?1:(a==null&&(a=!!(T[70].mime_type&&T[70].mime_type.includes("video"))),a?2:3))}return d=K(t,[-1,-1,-1]),_=b[d]=h[d](t),{c(){e=G("span"),l=G("button"),i=G("button"),N(o.$$.fragment),s=ee(),_.c(),p(i,"class","delete-button svelte-5gfv2q"),Z(i,"disabled",t[6]),p(l,"class","thumbnail-item thumbnail-small svelte-5gfv2q"),p(e,"role","listitem"),p(e,"aria-label","File thumbnail")},m(T,U){O(T,e,U),Y(e,l),Y(l,i),Q(o,i,null),Y(l,s),b[d].m(l,null),q=!0,m||(v=W(i,"click",u),m=!0)},p(T,U){t=T,(!q||U[0]&64)&&Z(i,"disabled",t[6]);let I=d;d=K(t,U),d===I?b[d].p(t,U):(le(),C(b[I],1,1,()=>{b[I]=null}),te(),_=b[d],_?_.p(t,U):(_=b[d]=h[d](t),_.c()),k(_,1),_.m(l,null))},i(T){q||(k(o.$$.fragment,T),k(_),q=!0)},o(T){C(o.$$.fragment,T),C(_),q=!1},d(T){T&&J(e),X(o),b[d].d(),m=!1,v()}}}function xe(t){let e;return{c(){e=G("div"),p(e,"class","loader svelte-5gfv2q"),p(e,"role","status"),p(e,"aria-label","Uploading")},m(l,i){O(l,e,i)},d(l){l&&J(e)}}}function $e(t){let e,l;return e=new Ft({props:{sources:["microphone"],class_name:"compact-audio",recording:st,waveform_settings:t[21],waveform_options:t[22],i18n:t[4],active_source:t[2],upload:t[18],stream_handler:t[19],stream_every:1,editable:!0,label:t[7],root:t[15],loop:!1,show_label:!1,show_download_button:!1,dragging:!1}}),e.$on("change",t[52]),e.$on("clear",t[53]),e.$on("start_recording",t[54]),e.$on("pause_recording",t[55]),e.$on("stop_recording",t[56]),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p(i,o){const s={};o[0]&2097152&&(s.waveform_settings=i[21]),o[0]&4194304&&(s.waveform_options=i[22]),o[0]&16&&(s.i18n=i[4]),o[0]&4&&(s.active_source=i[2]),o[0]&262144&&(s.upload=i[18]),o[0]&524288&&(s.stream_handler=i[19]),o[0]&128&&(s.label=i[7]),o[0]&32768&&(s.root=i[15]),e.$set(s)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function et(t){let e,l,i,o,s,g,f,a,d;function _(v){t[58](v)}function q(v){t[59](v)}let m={file_count:t[20],filetype:t[16],root:t[15],max_file_size:t[17],show_progress:!1,disable_click:!0,hidden:!0,upload:t[18],stream_handler:t[19]};return t[1]!==void 0&&(m.dragging=t[1]),t[27]!==void 0&&(m.uploading=t[27]),e=new Ht({props:m}),t[57](e),he.push(()=>Ge(e,"dragging",_)),he.push(()=>Ge(e,"uploading",q)),e.$on("load",t[34]),e.$on("error",t[60]),g=new vt({}),{c(){N(e.$$.fragment),o=ee(),s=G("button"),N(g.$$.fragment),p(s,"data-testid","upload-button"),p(s,"class","upload-button svelte-5gfv2q"),s.disabled=t[6]},m(v,u){Q(e,v,u),O(v,o,u),O(v,s,u),Q(g,s,null),f=!0,a||(d=W(s,"click",function(){ze(t[6]?void 0:t[36])&&(t[6]?void 0:t[36]).apply(this,arguments)}),a=!0)},p(v,u){t=v;const h={};u[0]&1048576&&(h.file_count=t[20]),u[0]&65536&&(h.filetype=t[16]),u[0]&32768&&(h.root=t[15]),u[0]&131072&&(h.max_file_size=t[17]),u[0]&262144&&(h.upload=t[18]),u[0]&524288&&(h.stream_handler=t[19]),!l&&u[0]&2&&(l=!0,h.dragging=t[1],Ye(()=>l=!1)),!i&&u[0]&134217728&&(i=!0,h.uploading=t[27],Ye(()=>i=!1)),e.$set(h),(!f||u[0]&64)&&(s.disabled=t[6])},i(v){f||(k(e.$$.fragment,v),k(g.$$.fragment,v),f=!0)},o(v){C(e.$$.fragment,v),C(g.$$.fragment,v),f=!1},d(v){v&&(J(o),J(s)),t[57](null),X(e,v),X(g),a=!1,d()}}}function tt(t){let e,l,i,o,s;return l=new zt({}),{c(){e=G("button"),N(l.$$.fragment),p(e,"data-testid","microphone-button"),p(e,"class","microphone-button svelte-5gfv2q"),e.disabled=t[6],Z(e,"recording",st)},m(g,f){O(g,e,f),Q(l,e,null),i=!0,o||(s=W(e,"click",function(){ze(t[6]?void 0:t[61])&&(t[6]?void 0:t[61]).apply(this,arguments)}),o=!0)},p(g,f){t=g,(!i||f[0]&64)&&(e.disabled=t[6])},i(g){i||(k(l.$$.fragment,g),i=!0)},o(g){C(l.$$.fragment,g),i=!1},d(g){g&&J(e),X(l),o=!1,s()}}}function lt(t){let e,l,i,o,s,g;const f=[$t,xt],a=[];function d(_,q){return _[11]===!0?0:1}return l=d(t),i=a[l]=f[l](t),{c(){e=G("button"),i.c(),p(e,"class","submit-button svelte-5gfv2q"),e.disabled=t[6],Z(e,"padded-button",t[11]!==!0)},m(_,q){O(_,e,q),a[l].m(e,null),o=!0,s||(g=W(e,"click",function(){ze(t[6]?void 0:t[38])&&(t[6]?void 0:t[38]).apply(this,arguments)}),s=!0)},p(_,q){t=_;let m=l;l=d(t),l===m?a[l].p(t,q):(le(),C(a[m],1,1,()=>{a[m]=null}),te(),i=a[l],i?i.p(t,q):(i=a[l]=f[l](t),i.c()),k(i,1),i.m(e,null)),(!o||q[0]&64)&&(e.disabled=t[6]),(!o||q[0]&2048)&&Z(e,"padded-button",t[11]!==!0)},i(_){o||(k(i),o=!0)},o(_){C(i),o=!1},d(_){_&&J(e),a[l].d(),s=!1,g()}}}function xt(t){let e;return{c(){e=Ve(t[11])},m(l,i){O(l,e,i)},p(l,i){i[0]&2048&&Re(e,l[11])},i:se,o:se,d(l){l&&J(e)}}}function $t(t){let e,l;return e=new Ct({}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p:se,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function it(t){let e,l,i,o,s,g;const f=[tl,el],a=[];function d(_,q){return _[12]===!0?0:1}return l=d(t),i=a[l]=f[l](t),{c(){e=G("button"),i.c(),p(e,"class","stop-button svelte-5gfv2q"),Z(e,"padded-button",t[12]!==!0)},m(_,q){O(_,e,q),a[l].m(e,null),o=!0,s||(g=W(e,"click",t[37]),s=!0)},p(_,q){let m=l;l=d(_),l===m?a[l].p(_,q):(le(),C(a[m],1,1,()=>{a[m]=null}),te(),i=a[l],i?i.p(_,q):(i=a[l]=f[l](_),i.c()),k(i,1),i.m(e,null)),(!o||q[0]&4096)&&Z(e,"padded-button",_[12]!==!0)},i(_){o||(k(i),o=!0)},o(_){C(i),o=!1},d(_){_&&J(e),a[l].d(),s=!1,g()}}}function el(t){let e;return{c(){e=Ve(t[12])},m(l,i){O(l,e,i)},p(l,i){i[0]&4096&&Re(e,l[12])},i:se,o:se,d(l){l&&J(e)}}}function tl(t){let e,l;return e=new Tt({props:{fill:"none",stroke_width:2.5}}),{c(){N(e.$$.fragment)},m(i,o){Q(e,i,o),l=!0},p:se,i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){X(e,i)}}}function ll(t){let e,l,i,o,s=t[23]&&t[23].includes("microphone")&&t[2]==="microphone",g,f,a=t[23]&&t[23].includes("upload")&&!(t[20]==="single"&&t[0].files.length>0),d,_=t[23]&&t[23].includes("microphone"),q,m,v,u,h,b,K,T,U,I,y,x,oe,ie,F,ne,ae;l=new kt({props:{show_label:t[9],info:t[8],rtl:t[13],$$slots:{default:[Jt]},$$scope:{ctx:t}}});let P=(t[0].files.length>0||t[27])&&Ze(t),S=s&&$e(t),M=a&&et(t),D=_&&tt(t),z=t[11]&&lt(t),B=t[12]&&it(t);return{c(){e=G("div"),N(l.$$.fragment),i=ee(),P&&P.c(),o=ee(),S&&S.c(),g=ee(),f=G("div"),M&&M.c(),d=ee(),D&&D.c(),q=ee(),m=G("textarea"),oe=ee(),z&&z.c(),ie=ee(),B&&B.c(),p(m,"data-testid","textbox"),p(m,"class","scroll-hide svelte-5gfv2q"),p(m,"dir",v=t[13]?"rtl":"ltr"),p(m,"placeholder",t[5]),p(m,"rows",t[3]),m.disabled=t[6],p(m,"style",u=t[14]?"text-align: "+t[14]:""),p(m,"autocapitalize",h=t[24]?.autocapitalize),p(m,"autocorrect",b=t[24]?.autocorrect),p(m,"spellcheck",K=t[24]?.spellcheck),p(m,"autocomplete",T=t[24]?.autocomplete),p(m,"tabindex",U=t[24]?.tabindex),p(m,"enterkeyhint",I=t[24]?.enterkeyhint),p(m,"lang",y=t[24]?.lang),Z(m,"no-label",!t[9]),p(f,"class","input-container svelte-5gfv2q"),p(e,"class","full-container svelte-5gfv2q"),p(e,"role","group"),p(e,"aria-label","Multimedia input field"),Z(e,"dragging",t[1])},m(c,w){O(c,e,w),Q(l,e,null),Y(e,i),P&&P.m(e,null),Y(e,o),S&&S.m(e,null),Y(e,g),Y(e,f),M&&M.m(f,null),Y(f,d),D&&D.m(f,null),Y(f,q),Y(f,m),Xe(m,t[0].text),t[63](m),Y(f,oe),z&&z.m(f,null),Y(f,ie),B&&B.m(f,null),t[64](e),F=!0,ne||(ae=[Lt(x=Ut.call(null,m,{text:t[0].text,lines:t[3],max_lines:t[10]})),W(m,"input",t[62]),W(m,"keypress",t[32]),W(m,"blur",t[49]),W(m,"select",t[31]),W(m,"focus",t[50]),W(m,"scroll",t[33]),W(m,"paste",t[39]),W(e,"dragenter",t[40]),W(e,"dragleave",t[41]),W(e,"dragover",Wt(t[48])),W(e,"drop",t[42])],ne=!0)},p(c,w){const R={};w[0]&512&&(R.show_label=c[9]),w[0]&256&&(R.info=c[8]),w[0]&8192&&(R.rtl=c[13]),w[0]&128|w[2]&2048&&(R.$$scope={dirty:w,ctx:c}),l.$set(R),c[0].files.length>0||c[27]?P?(P.p(c,w),w[0]&134217729&&k(P,1)):(P=Ze(c),P.c(),k(P,1),P.m(e,o)):P&&(le(),C(P,1,1,()=>{P=null}),te()),w[0]&8388612&&(s=c[23]&&c[23].includes("microphone")&&c[2]==="microphone"),s?S?(S.p(c,w),w[0]&8388612&&k(S,1)):(S=$e(c),S.c(),k(S,1),S.m(e,g)):S&&(le(),C(S,1,1,()=>{S=null}),te()),w[0]&9437185&&(a=c[23]&&c[23].includes("upload")&&!(c[20]==="single"&&c[0].files.length>0)),a?M?(M.p(c,w),w[0]&9437185&&k(M,1)):(M=et(c),M.c(),k(M,1),M.m(f,d)):M&&(le(),C(M,1,1,()=>{M=null}),te()),w[0]&8388608&&(_=c[23]&&c[23].includes("microphone")),_?D?(D.p(c,w),w[0]&8388608&&k(D,1)):(D=tt(c),D.c(),k(D,1),D.m(f,q)):D&&(le(),C(D,1,1,()=>{D=null}),te()),(!F||w[0]&8192&&v!==(v=c[13]?"rtl":"ltr"))&&p(m,"dir",v),(!F||w[0]&32)&&p(m,"placeholder",c[5]),(!F||w[0]&8)&&p(m,"rows",c[3]),(!F||w[0]&64)&&(m.disabled=c[6]),(!F||w[0]&16384&&u!==(u=c[14]?"text-align: "+c[14]:""))&&p(m,"style",u),(!F||w[0]&16777216&&h!==(h=c[24]?.autocapitalize))&&p(m,"autocapitalize",h),(!F||w[0]&16777216&&b!==(b=c[24]?.autocorrect))&&p(m,"autocorrect",b),(!F||w[0]&16777216&&K!==(K=c[24]?.spellcheck))&&p(m,"spellcheck",K),(!F||w[0]&16777216&&T!==(T=c[24]?.autocomplete))&&p(m,"autocomplete",T),(!F||w[0]&16777216&&U!==(U=c[24]?.tabindex))&&p(m,"tabindex",U),(!F||w[0]&16777216&&I!==(I=c[24]?.enterkeyhint))&&p(m,"enterkeyhint",I),(!F||w[0]&16777216&&y!==(y=c[24]?.lang))&&p(m,"lang",y),x&&ze(x.update)&&w[0]&1033&&x.update.call(null,{text:c[0].text,lines:c[3],max_lines:c[10]}),w[0]&1&&Xe(m,c[0].text),(!F||w[0]&512)&&Z(m,"no-label",!c[9]),c[11]?z?(z.p(c,w),w[0]&2048&&k(z,1)):(z=lt(c),z.c(),k(z,1),z.m(f,ie)):z&&(le(),C(z,1,1,()=>{z=null}),te()),c[12]?B?(B.p(c,w),w[0]&4096&&k(B,1)):(B=it(c),B.c(),k(B,1),B.m(f,null)):B&&(le(),C(B,1,1,()=>{B=null}),te()),(!F||w[0]&2)&&Z(e,"dragging",c[1])},i(c){F||(k(l.$$.fragment,c),k(P),k(S),k(M),k(D),k(z),k(B),F=!0)},o(c){C(l.$$.fragment,c),C(P),C(S),C(M),C(D),C(z),C(B),F=!1},d(c){c&&J(e),X(l),P&&P.d(),S&&S.d(),M&&M.d(),D&&D.d(),t[63](null),z&&z.d(),B&&B.d(),t[64](null),ne=!1,jt(ae)}}}let st=!1;function il(t,e,l){let{value:i={text:"",files:[]}}=e,{value_is_output:o=!1}=e,{lines:s=1}=e,{i18n:g}=e,{placeholder:f="Type here..."}=e,{disabled:a=!1}=e,{label:d}=e,{info:_=void 0}=e,{show_label:q=!0}=e,{max_lines:m}=e,{submit_btn:v=null}=e,{stop_btn:u=null}=e,{rtl:h=!1}=e,{autofocus:b=!1}=e,{text_align:K=void 0}=e,{autoscroll:T=!0}=e,{root:U}=e,{file_types:I=null}=e,{max_file_size:y=null}=e,{upload:x}=e,{stream_handler:oe}=e,{file_count:ie="multiple"}=e,{max_plain_text_length:F=1e3}=e,{waveform_settings:ne}=e,{waveform_options:ae={show_recording_waveform:!0}}=e,{sources:P=["upload"]}=e,{active_source:S=null}=e,{html_attributes:M=null}=e,D,z,B,c=0,w=!1,{dragging:R=!1}=e,ce=!1,me=i?.text??"",$=null,re;const L=Xt();Gt(()=>{B=z&&z.offsetHeight+z.scrollTop>z.scrollHeight-100});const qe=()=>{B&&T&&!w&&z.scrollTo(0,z.scrollHeight)};async function de(){L("change",i),o||L("input")}Yt(()=>{b&&z!==null&&z.focus()}),Nt(()=>{B&&T&&qe(),b&&z!==null&&z.focus(),l(43,o=!1)});function Ce(n){const A=n.target,V=A.value,j=[A.selectionStart,A.selectionEnd];L("select",{value:V.substring(...j),index:j})}async function Te(n){await Oe(),n.key==="Enter"&&n.shiftKey&&s>1?(n.preventDefault(),L("submit")):n.key==="Enter"&&!n.shiftKey&&s===1&&m>=1&&(n.preventDefault(),L("submit"),l(2,S=null),$&&(i.files.push($),l(0,i),l(28,$=null)))}function De(n){const A=n.target,V=A.scrollTop;V<c&&(w=!0),c=V;const j=A.scrollHeight-A.clientHeight;V>=j&&(w=!1)}async function Se({detail:n}){if(de(),Array.isArray(n)){for(let A of n)i.files.push(A);l(0,i)}else i.files.push(n),l(0,i);await Oe(),L("change",i),L("upload",n)}function be(n,A){de(),n.stopPropagation(),i.files.splice(A,1),l(0,i)}function Me(){D.open_upload()}function Ee(){L("stop")}function He(){L("submit"),l(2,S=null),$&&(i.files.push($),l(0,i),l(28,$=null))}async function Be(n){if(!n.clipboardData)return;const A=n.clipboardData.items,V=n.clipboardData.getData("text");if(V&&V.length>F){n.preventDefault();const j=new window.File([V],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});D&&D.load_files([j]);return}for(let j in A){const ue=A[j];if(ue.kind==="file"&&ue.type.includes("image")){const fe=ue.getAsFile();fe&&D.load_files([fe])}}}function Fe(n){n.preventDefault(),l(1,R=!0)}function Ae(n){n.preventDefault();const A=re.getBoundingClientRect(),{clientX:V,clientY:j}=n;(V<=A.left||V>=A.right||j<=A.top||j>=A.bottom)&&l(1,R=!1)}function Pe(n){if(n.preventDefault(),l(1,R=!1),n.dataTransfer&&n.dataTransfer.files){const A=Array.from(n.dataTransfer.files);if(I){const V=A.filter(ue=>I.some(fe=>fe.startsWith(".")?ue.name.toLowerCase().endsWith(fe.toLowerCase()):ue.type.match(new RegExp(fe.replace("*",".*"))))),j=A.length-V.length;j>0&&L("error",`${j} file(s) were rejected. Accepted formats: ${I.join(", ")}`),V.length>0&&D.load_files(V)}else D.load_files(A)}}function Ue(n){we.call(this,t,n)}function Ie(n){we.call(this,t,n)}function r(n){we.call(this,t,n)}const ot=(n,A)=>be(A,n),at=({detail:n})=>{n!==null&&l(28,$=n)},ut=()=>{l(2,S=null)},rt=()=>L("start_recording"),ft=()=>L("pause_recording"),_t=()=>L("stop_recording");function ct(n){he[n?"unshift":"push"](()=>{D=n,l(26,D)})}function mt(n){R=n,l(1,R)}function ht(n){ce=n,l(27,ce)}function gt(n){we.call(this,t,n)}const dt=()=>{l(2,S=S!=="microphone"?"microphone":null)};function bt(){i.text=this.value,l(0,i)}function wt(n){he[n?"unshift":"push"](()=>{z=n,l(25,z)})}function pt(n){he[n?"unshift":"push"](()=>{re=n,l(29,re)})}return t.$$set=n=>{"value"in n&&l(0,i=n.value),"value_is_output"in n&&l(43,o=n.value_is_output),"lines"in n&&l(3,s=n.lines),"i18n"in n&&l(4,g=n.i18n),"placeholder"in n&&l(5,f=n.placeholder),"disabled"in n&&l(6,a=n.disabled),"label"in n&&l(7,d=n.label),"info"in n&&l(8,_=n.info),"show_label"in n&&l(9,q=n.show_label),"max_lines"in n&&l(10,m=n.max_lines),"submit_btn"in n&&l(11,v=n.submit_btn),"stop_btn"in n&&l(12,u=n.stop_btn),"rtl"in n&&l(13,h=n.rtl),"autofocus"in n&&l(44,b=n.autofocus),"text_align"in n&&l(14,K=n.text_align),"autoscroll"in n&&l(45,T=n.autoscroll),"root"in n&&l(15,U=n.root),"file_types"in n&&l(16,I=n.file_types),"max_file_size"in n&&l(17,y=n.max_file_size),"upload"in n&&l(18,x=n.upload),"stream_handler"in n&&l(19,oe=n.stream_handler),"file_count"in n&&l(20,ie=n.file_count),"max_plain_text_length"in n&&l(46,F=n.max_plain_text_length),"waveform_settings"in n&&l(21,ne=n.waveform_settings),"waveform_options"in n&&l(22,ae=n.waveform_options),"sources"in n&&l(23,P=n.sources),"active_source"in n&&l(2,S=n.active_source),"html_attributes"in n&&l(24,M=n.html_attributes),"dragging"in n&&l(1,R=n.dragging)},t.$$.update=()=>{t.$$.dirty[0]&2&&L("drag",R),t.$$.dirty[0]&1&&i===null&&l(0,i={text:"",files:[]}),t.$$.dirty[0]&1|t.$$.dirty[1]&65536&&me!==i.text&&(L("change",i),l(47,me=i.text)),t.$$.dirty[0]&33555465&&z&&s!==m&&Le(z,s,m)},[i,R,S,s,g,f,a,d,_,q,m,v,u,h,K,U,I,y,x,oe,ie,ne,ae,P,M,z,D,ce,$,re,L,Ce,Te,De,Se,be,Me,Ee,He,Be,Fe,Ae,Pe,o,b,T,F,me,Ue,Ie,r,ot,at,ut,rt,ft,_t,ct,mt,ht,gt,dt,bt,wt,pt]}class nl extends It{constructor(e){super(),Vt(this,e,il,ll,Kt,{value:0,value_is_output:43,lines:3,i18n:4,placeholder:5,disabled:6,label:7,info:8,show_label:9,max_lines:10,submit_btn:11,stop_btn:12,rtl:13,autofocus:44,text_align:14,autoscroll:45,root:15,file_types:16,max_file_size:17,upload:18,stream_handler:19,file_count:20,max_plain_text_length:46,waveform_settings:21,waveform_options:22,sources:23,active_source:2,html_attributes:24,dragging:1},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get value_is_output(){return this.$$.ctx[43]}set value_is_output(e){this.$$set({value_is_output:e}),E()}get lines(){return this.$$.ctx[3]}set lines(e){this.$$set({lines:e}),E()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),E()}get placeholder(){return this.$$.ctx[5]}set placeholder(e){this.$$set({placeholder:e}),E()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),E()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),E()}get info(){return this.$$.ctx[8]}set info(e){this.$$set({info:e}),E()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),E()}get max_lines(){return this.$$.ctx[10]}set max_lines(e){this.$$set({max_lines:e}),E()}get submit_btn(){return this.$$.ctx[11]}set submit_btn(e){this.$$set({submit_btn:e}),E()}get stop_btn(){return this.$$.ctx[12]}set stop_btn(e){this.$$set({stop_btn:e}),E()}get rtl(){return this.$$.ctx[13]}set rtl(e){this.$$set({rtl:e}),E()}get autofocus(){return this.$$.ctx[44]}set autofocus(e){this.$$set({autofocus:e}),E()}get text_align(){return this.$$.ctx[14]}set text_align(e){this.$$set({text_align:e}),E()}get autoscroll(){return this.$$.ctx[45]}set autoscroll(e){this.$$set({autoscroll:e}),E()}get root(){return this.$$.ctx[15]}set root(e){this.$$set({root:e}),E()}get file_types(){return this.$$.ctx[16]}set file_types(e){this.$$set({file_types:e}),E()}get max_file_size(){return this.$$.ctx[17]}set max_file_size(e){this.$$set({max_file_size:e}),E()}get upload(){return this.$$.ctx[18]}set upload(e){this.$$set({upload:e}),E()}get stream_handler(){return this.$$.ctx[19]}set stream_handler(e){this.$$set({stream_handler:e}),E()}get file_count(){return this.$$.ctx[20]}set file_count(e){this.$$set({file_count:e}),E()}get max_plain_text_length(){return this.$$.ctx[46]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),E()}get waveform_settings(){return this.$$.ctx[21]}set waveform_settings(e){this.$$set({waveform_settings:e}),E()}get waveform_options(){return this.$$.ctx[22]}set waveform_options(e){this.$$set({waveform_options:e}),E()}get sources(){return this.$$.ctx[23]}set sources(e){this.$$set({sources:e}),E()}get active_source(){return this.$$.ctx[2]}set active_source(e){this.$$set({active_source:e}),E()}get html_attributes(){return this.$$.ctx[24]}set html_attributes(e){this.$$set({html_attributes:e}),E()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),E()}}const{SvelteComponent:sl,add_flush_callback:pe,assign:ol,bind:ke,binding_callbacks:ve,check_outros:al,create_component:We,destroy_component:je,detach:ul,flush:H,get_spread_object:rl,get_spread_update:fl,group_outros:_l,init:cl,insert:ml,mount_component:Ke,safe_not_equal:hl,space:gl,transition_in:_e,transition_out:ge}=window.__gradio__svelte__internal,{onMount:dl}=window.__gradio__svelte__internal;function nt(t){let e,l;const i=[{autoscroll:t[2].autoscroll},{i18n:t[2].i18n},t[17]];let o={};for(let s=0;s<i.length;s+=1)o=ol(o,i[s]);return e=new At({props:o}),e.$on("clear_status",t[32]),{c(){We(e.$$.fragment)},m(s,g){Ke(e,s,g),l=!0},p(s,g){const f=g[0]&131076?fl(i,[g[0]&4&&{autoscroll:s[2].autoscroll},g[0]&4&&{i18n:s[2].i18n},g[0]&131072&&rl(s[17])]):{};e.$set(f)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){ge(e.$$.fragment,s),l=!1},d(s){je(e,s)}}}function bl(t){let e,l,i,o,s,g,f,a=t[17]&&nt(t);function d(u){t[35](u)}function _(u){t[36](u)}function q(u){t[37](u)}function m(u){t[38](u)}let v={file_types:t[6],root:t[23],label:t[9],info:t[10],show_label:t[11],lines:t[7],rtl:t[18],text_align:t[19],waveform_settings:t[30],i18n:t[2].i18n,max_lines:t[12]?t[12]:t[7]+1,placeholder:t[8],submit_btn:t[15],stop_btn:t[16],autofocus:t[20],autoscroll:t[21],file_count:t[24],sources:t[26],max_file_size:t[2].max_file_size,disabled:!t[22],upload:t[33],stream_handler:t[34],max_plain_text_length:t[25],html_attributes:t[27]};return t[0]!==void 0&&(v.value=t[0]),t[1]!==void 0&&(v.value_is_output=t[1]),t[28]!==void 0&&(v.dragging=t[28]),t[29]!==void 0&&(v.active_source=t[29]),l=new nl({props:v}),ve.push(()=>ke(l,"value",d)),ve.push(()=>ke(l,"value_is_output",_)),ve.push(()=>ke(l,"dragging",q)),ve.push(()=>ke(l,"active_source",m)),l.$on("change",t[39]),l.$on("input",t[40]),l.$on("submit",t[41]),l.$on("stop",t[42]),l.$on("blur",t[43]),l.$on("select",t[44]),l.$on("focus",t[45]),l.$on("error",t[46]),l.$on("start_recording",t[47]),l.$on("pause_recording",t[48]),l.$on("stop_recording",t[49]),l.$on("upload",t[50]),l.$on("clear",t[51]),{c(){a&&a.c(),e=gl(),We(l.$$.fragment)},m(u,h){a&&a.m(u,h),ml(u,e,h),Ke(l,u,h),f=!0},p(u,h){u[17]?a?(a.p(u,h),h[0]&131072&&_e(a,1)):(a=nt(u),a.c(),_e(a,1),a.m(e.parentNode,e)):a&&(_l(),ge(a,1,1,()=>{a=null}),al());const b={};h[0]&64&&(b.file_types=u[6]),h[0]&8388608&&(b.root=u[23]),h[0]&512&&(b.label=u[9]),h[0]&1024&&(b.info=u[10]),h[0]&2048&&(b.show_label=u[11]),h[0]&128&&(b.lines=u[7]),h[0]&262144&&(b.rtl=u[18]),h[0]&524288&&(b.text_align=u[19]),h[0]&1073741824&&(b.waveform_settings=u[30]),h[0]&4&&(b.i18n=u[2].i18n),h[0]&4224&&(b.max_lines=u[12]?u[12]:u[7]+1),h[0]&256&&(b.placeholder=u[8]),h[0]&32768&&(b.submit_btn=u[15]),h[0]&65536&&(b.stop_btn=u[16]),h[0]&1048576&&(b.autofocus=u[20]),h[0]&2097152&&(b.autoscroll=u[21]),h[0]&16777216&&(b.file_count=u[24]),h[0]&67108864&&(b.sources=u[26]),h[0]&4&&(b.max_file_size=u[2].max_file_size),h[0]&4194304&&(b.disabled=!u[22]),h[0]&4&&(b.upload=u[33]),h[0]&4&&(b.stream_handler=u[34]),h[0]&33554432&&(b.max_plain_text_length=u[25]),h[0]&134217728&&(b.html_attributes=u[27]),!i&&h[0]&1&&(i=!0,b.value=u[0],pe(()=>i=!1)),!o&&h[0]&2&&(o=!0,b.value_is_output=u[1],pe(()=>o=!1)),!s&&h[0]&268435456&&(s=!0,b.dragging=u[28],pe(()=>s=!1)),!g&&h[0]&536870912&&(g=!0,b.active_source=u[29],pe(()=>g=!1)),l.$set(b)},i(u){f||(_e(a),_e(l.$$.fragment,u),f=!0)},o(u){ge(a),ge(l.$$.fragment,u),f=!1},d(u){u&&ul(e),a&&a.d(u),je(l,u)}}}function wl(t){let e,l;return e=new Et({props:{visible:t[5],elem_id:t[3],elem_classes:[...t[4],"multimodal-textbox"],scale:t[13],min_width:t[14],allow_overflow:!1,padding:!1,border_mode:t[28]?"focus":"base",$$slots:{default:[bl]},$$scope:{ctx:t}}}),{c(){We(e.$$.fragment)},m(i,o){Ke(e,i,o),l=!0},p(i,o){const s={};o[0]&32&&(s.visible=i[5]),o[0]&8&&(s.elem_id=i[3]),o[0]&16&&(s.elem_classes=[...i[4],"multimodal-textbox"]),o[0]&8192&&(s.scale=i[13]),o[0]&16384&&(s.min_width=i[14]),o[0]&268435456&&(s.border_mode=i[28]?"focus":"base"),o[0]&2147459015|o[1]&16777216&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(_e(e.$$.fragment,i),l=!0)},o(i){ge(e.$$.fragment,i),l=!1},d(i){je(e,i)}}}function pl(t,e,l){let{gradio:i}=e,{elem_id:o=""}=e,{elem_classes:s=[]}=e,{visible:g=!0}=e,{value:f={text:"",files:[]}}=e,{file_types:a=null}=e,{lines:d}=e,{placeholder:_=""}=e,{label:q="MultimodalTextbox"}=e,{info:m=void 0}=e,{show_label:v}=e,{max_lines:u}=e,{scale:h=null}=e,{min_width:b=void 0}=e,{submit_btn:K=null}=e,{stop_btn:T=null}=e,{loading_status:U=void 0}=e,{value_is_output:I=!1}=e,{rtl:y=!1}=e,{text_align:x=void 0}=e,{autofocus:oe=!1}=e,{autoscroll:ie=!0}=e,{interactive:F}=e,{root:ne}=e,{file_count:ae}=e,{max_plain_text_length:P}=e,{sources:S=["upload"]}=e,{waveform_options:M={}}=e,{html_attributes:D=null}=e,z,B=null,c,w="darkorange";dl(()=>{w=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),ce(),l(30,c.waveColor=M.waveform_color||"#9ca3af",c),l(30,c.progressColor=M.waveform_progress_color||w,c),l(30,c.mediaControls=M.show_controls,c),l(30,c.sampleRate=M.sample_rate||44100,c)});const R={color:M.trim_region_color};function ce(){document.documentElement.style.setProperty("--trim-region-color",R.color||w)}const me=()=>i.dispatch("clear_status",U),$=(...r)=>i.client.upload(...r),re=(...r)=>i.client.stream(...r);function L(r){f=r,l(0,f)}function qe(r){I=r,l(1,I)}function de(r){z=r,l(28,z)}function Ce(r){B=r,l(29,B)}const Te=()=>i.dispatch("change",f),De=()=>i.dispatch("input"),Se=()=>i.dispatch("submit"),be=()=>i.dispatch("stop"),Me=()=>i.dispatch("blur"),Ee=r=>i.dispatch("select",r.detail),He=()=>i.dispatch("focus"),Be=({detail:r})=>{i.dispatch("error",r)},Fe=()=>i.dispatch("start_recording"),Ae=()=>i.dispatch("pause_recording"),Pe=()=>i.dispatch("stop_recording"),Ue=r=>i.dispatch("upload",r.detail),Ie=()=>i.dispatch("clear");return t.$$set=r=>{"gradio"in r&&l(2,i=r.gradio),"elem_id"in r&&l(3,o=r.elem_id),"elem_classes"in r&&l(4,s=r.elem_classes),"visible"in r&&l(5,g=r.visible),"value"in r&&l(0,f=r.value),"file_types"in r&&l(6,a=r.file_types),"lines"in r&&l(7,d=r.lines),"placeholder"in r&&l(8,_=r.placeholder),"label"in r&&l(9,q=r.label),"info"in r&&l(10,m=r.info),"show_label"in r&&l(11,v=r.show_label),"max_lines"in r&&l(12,u=r.max_lines),"scale"in r&&l(13,h=r.scale),"min_width"in r&&l(14,b=r.min_width),"submit_btn"in r&&l(15,K=r.submit_btn),"stop_btn"in r&&l(16,T=r.stop_btn),"loading_status"in r&&l(17,U=r.loading_status),"value_is_output"in r&&l(1,I=r.value_is_output),"rtl"in r&&l(18,y=r.rtl),"text_align"in r&&l(19,x=r.text_align),"autofocus"in r&&l(20,oe=r.autofocus),"autoscroll"in r&&l(21,ie=r.autoscroll),"interactive"in r&&l(22,F=r.interactive),"root"in r&&l(23,ne=r.root),"file_count"in r&&l(24,ae=r.file_count),"max_plain_text_length"in r&&l(25,P=r.max_plain_text_length),"sources"in r&&l(26,S=r.sources),"waveform_options"in r&&l(31,M=r.waveform_options),"html_attributes"in r&&l(27,D=r.html_attributes)},l(30,c={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}),[f,I,i,o,s,g,a,d,_,q,m,v,u,h,b,K,T,U,y,x,oe,ie,F,ne,ae,P,S,D,z,B,c,M,me,$,re,L,qe,de,Ce,Te,De,Se,be,Me,Ee,He,Be,Fe,Ae,Pe,Ue,Ie]}class Pl extends sl{constructor(e){super(),cl(this,e,pl,wl,hl,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,file_types:6,lines:7,placeholder:8,label:9,info:10,show_label:11,max_lines:12,scale:13,min_width:14,submit_btn:15,stop_btn:16,loading_status:17,value_is_output:1,rtl:18,text_align:19,autofocus:20,autoscroll:21,interactive:22,root:23,file_count:24,max_plain_text_length:25,sources:26,waveform_options:31,html_attributes:27},null,[-1,-1])}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),H()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),H()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),H()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),H()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),H()}get file_types(){return this.$$.ctx[6]}set file_types(e){this.$$set({file_types:e}),H()}get lines(){return this.$$.ctx[7]}set lines(e){this.$$set({lines:e}),H()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),H()}get label(){return this.$$.ctx[9]}set label(e){this.$$set({label:e}),H()}get info(){return this.$$.ctx[10]}set info(e){this.$$set({info:e}),H()}get show_label(){return this.$$.ctx[11]}set show_label(e){this.$$set({show_label:e}),H()}get max_lines(){return this.$$.ctx[12]}set max_lines(e){this.$$set({max_lines:e}),H()}get scale(){return this.$$.ctx[13]}set scale(e){this.$$set({scale:e}),H()}get min_width(){return this.$$.ctx[14]}set min_width(e){this.$$set({min_width:e}),H()}get submit_btn(){return this.$$.ctx[15]}set submit_btn(e){this.$$set({submit_btn:e}),H()}get stop_btn(){return this.$$.ctx[16]}set stop_btn(e){this.$$set({stop_btn:e}),H()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),H()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),H()}get rtl(){return this.$$.ctx[18]}set rtl(e){this.$$set({rtl:e}),H()}get text_align(){return this.$$.ctx[19]}set text_align(e){this.$$set({text_align:e}),H()}get autofocus(){return this.$$.ctx[20]}set autofocus(e){this.$$set({autofocus:e}),H()}get autoscroll(){return this.$$.ctx[21]}set autoscroll(e){this.$$set({autoscroll:e}),H()}get interactive(){return this.$$.ctx[22]}set interactive(e){this.$$set({interactive:e}),H()}get root(){return this.$$.ctx[23]}set root(e){this.$$set({root:e}),H()}get file_count(){return this.$$.ctx[24]}set file_count(e){this.$$set({file_count:e}),H()}get max_plain_text_length(){return this.$$.ctx[25]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),H()}get sources(){return this.$$.ctx[26]}set sources(e){this.$$set({sources:e}),H()}get waveform_options(){return this.$$.ctx[31]}set waveform_options(e){this.$$set({waveform_options:e}),H()}get html_attributes(){return this.$$.ctx[27]}set html_attributes(e){this.$$set({html_attributes:e}),H()}}export{Ll as BaseExample,nl as BaseMultimodalTextbox,Pl as default};
//# sourceMappingURL=Index-JAddUkLp.js.map
