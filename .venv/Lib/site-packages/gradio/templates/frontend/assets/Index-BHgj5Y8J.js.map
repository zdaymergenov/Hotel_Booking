{"version":3,"file":"Index-BHgj5Y8J.js","sources":["../../../../node_modules/.pnpm/svelte@4.2.15/node_modules/svelte/src/runtime/motion/tweened.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js","../../../../js/imageslider/shared/Slider.svelte","../../../../js/imageslider/shared/ImageEl.svelte","../../../../js/imageslider/shared/zoom.ts","../../../../js/imageslider/shared/SliderPreview.svelte","../../../../js/imageslider/shared/ClearImage.svelte","../../../../js/imageslider/shared/Image.svelte","../../../../js/imageslider/shared/SliderUpload.svelte","../../../../js/imageslider/Index.svelte"],"sourcesContent":["import { writable } from '../store/index.js';\nimport { assign, loop, now } from '../internal/index.js';\nimport { linear } from '../easing/index.js';\nimport { is_date } from './utils.js';\n\n/** @returns {(t: any) => any} */\nfunction get_interpolator(a, b) {\n\tif (a === b || a !== a) return () => a;\n\tconst type = typeof a;\n\tif (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n\t\tthrow new Error('Cannot interpolate values of different type');\n\t}\n\tif (Array.isArray(a)) {\n\t\tconst arr = b.map((bi, i) => {\n\t\t\treturn get_interpolator(a[i], bi);\n\t\t});\n\t\treturn (t) => arr.map((fn) => fn(t));\n\t}\n\tif (type === 'object') {\n\t\tif (!a || !b) throw new Error('Object cannot be null');\n\t\tif (is_date(a) && is_date(b)) {\n\t\t\ta = a.getTime();\n\t\t\tb = b.getTime();\n\t\t\tconst delta = b - a;\n\t\t\treturn (t) => new Date(a + t * delta);\n\t\t}\n\t\tconst keys = Object.keys(b);\n\t\tconst interpolators = {};\n\t\tkeys.forEach((key) => {\n\t\t\tinterpolators[key] = get_interpolator(a[key], b[key]);\n\t\t});\n\t\treturn (t) => {\n\t\t\tconst result = {};\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tresult[key] = interpolators[key](t);\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t}\n\tif (type === 'number') {\n\t\tconst delta = b - a;\n\t\treturn (t) => a + t * delta;\n\t}\n\tthrow new Error(`Cannot interpolate ${type} values`);\n}\n\n/**\n * A tweened store in Svelte is a special type of store that provides smooth transitions between state values over time.\n *\n * https://svelte.dev/docs/svelte-motion#tweened\n * @template T\n * @param {T} [value]\n * @param {import('./private.js').TweenedOptions<T>} [defaults]\n * @returns {import('./public.js').Tweened<T>}\n */\nexport function tweened(value, defaults = {}) {\n\tconst store = writable(value);\n\t/** @type {import('../internal/private.js').Task} */\n\tlet task;\n\tlet target_value = value;\n\t/**\n\t * @param {T} new_value\n\t * @param {import('./private.js').TweenedOptions<T>} [opts]\n\t */\n\tfunction set(new_value, opts) {\n\t\tif (value == null) {\n\t\t\tstore.set((value = new_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\ttarget_value = new_value;\n\t\tlet previous_task = task;\n\t\tlet started = false;\n\t\tlet {\n\t\t\tdelay = 0,\n\t\t\tduration = 400,\n\t\t\teasing = linear,\n\t\t\tinterpolate = get_interpolator\n\t\t} = assign(assign({}, defaults), opts);\n\t\tif (duration === 0) {\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst start = now() + delay;\n\t\tlet fn;\n\t\ttask = loop((now) => {\n\t\t\tif (now < start) return true;\n\t\t\tif (!started) {\n\t\t\t\tfn = interpolate(value, new_value);\n\t\t\t\tif (typeof duration === 'function') duration = duration(value, new_value);\n\t\t\t\tstarted = true;\n\t\t\t}\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tconst elapsed = now - start;\n\t\t\tif (elapsed > /** @type {number} */ (duration)) {\n\t\t\t\tstore.set((value = new_value));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tstore.set((value = fn(easing(elapsed / duration))));\n\t\t\treturn true;\n\t\t});\n\t\treturn task.promise;\n\t}\n\treturn {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(target_value, value), opts),\n\t\tsubscribe: store.subscribe\n\t};\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\timport { drag } from \"d3-drag\";\n\timport { select } from \"d3-selection\";\n\n\tfunction clamp(value: number, min: number, max: number): number {\n\t\treturn Math.min(Math.max(value, min), max);\n\t}\n\n\texport let position = 0.5;\n\texport let disabled = false;\n\n\texport let slider_color = \"var(--border-color-primary)\";\n\texport let image_size: {\n\t\ttop: number;\n\t\tleft: number;\n\t\twidth: number;\n\t\theight: number;\n\t} = { top: 0, left: 0, width: 0, height: 0 };\n\texport let el: HTMLDivElement | undefined = undefined;\n\texport let parent_el: HTMLDivElement | undefined = undefined;\n\tlet inner: Element;\n\tlet px = 0;\n\tlet active = false;\n\tlet container_width = 0;\n\n\tfunction set_position(width: number): void {\n\t\tcontainer_width = parent_el?.getBoundingClientRect().width || 0;\n\t\tif (width === 0) {\n\t\t\timage_size.width = el?.getBoundingClientRect().width || 0;\n\t\t}\n\n\t\tpx = clamp(\n\t\t\timage_size.width * position + image_size.left,\n\t\t\t0,\n\t\t\tcontainer_width\n\t\t);\n\t}\n\n\tfunction round(n: number, points: number): number {\n\t\tconst mod = Math.pow(10, points);\n\t\treturn Math.round((n + Number.EPSILON) * mod) / mod;\n\t}\n\n\tfunction update_position(x: number): void {\n\t\tpx = clamp(x, 0, container_width);\n\t\tposition = round((x - image_size.left) / image_size.width, 5);\n\t}\n\n\tfunction drag_start(event: any): void {\n\t\tif (disabled) return;\n\t\tactive = true;\n\t\tupdate_position(event.x);\n\t}\n\n\tfunction drag_move(event: any): void {\n\t\tif (disabled) return;\n\t\tupdate_position(event.x);\n\t}\n\n\tfunction drag_end(): void {\n\t\tif (disabled) return;\n\t\tactive = false;\n\t}\n\n\tfunction update_position_from_pc(pc: number): void {\n\t\tpx = clamp(image_size.width * pc + image_size.left, 0, container_width);\n\t}\n\n\t$: set_position(image_size.width);\n\t$: update_position_from_pc(position);\n\n\tonMount(() => {\n\t\tset_position(image_size.width);\n\t\tconst drag_handler = drag()\n\t\t\t.on(\"start\", drag_start)\n\t\t\t.on(\"drag\", drag_move)\n\t\t\t.on(\"end\", drag_end);\n\t\tselect(inner).call(drag_handler);\n\t});\n</script>\n\n<svelte:window on:resize={() => set_position(image_size.width)} />\n\n<div class=\"wrap\" role=\"none\" bind:this={parent_el}>\n\t<div class=\"content\" bind:this={el}>\n\t\t<slot />\n\t</div>\n\t<div\n\t\tclass=\"outer\"\n\t\tclass:disabled\n\t\tbind:this={inner}\n\t\trole=\"none\"\n\t\tstyle=\"transform: translateX({px}px)\"\n\t\tclass:grab={active}\n\t>\n\t\t<span class=\"icon-wrap\" class:active class:disabled\n\t\t\t><span class=\"icon left\">◢</span><span\n\t\t\t\tclass=\"icon center\"\n\t\t\t\tstyle:--color={slider_color}\n\t\t\t></span><span class=\"icon right\">◢</span></span\n\t\t>\n\t\t<div class=\"inner\" style:--color={slider_color}></div>\n\t</div>\n</div>\n\n<style>\n\t.wrap {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tz-index: var(--layer-1);\n\t\toverflow: hidden;\n\t}\n\n\t.icon-wrap {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\ttransform: translate(-20.5px, -50%);\n\t\tleft: 10px;\n\t\twidth: 40px;\n\t\ttransition: 0.2s;\n\t\tcolor: var(--body-text-color);\n\t\theight: 30px;\n\t\tborder-radius: 5px;\n\t\tbackground-color: var(--color-accent);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: var(--layer-3);\n\t\tbox-shadow: 0px 0px 5px 2px rgba(0, 0, 0, 0.3);\n\t\tfont-size: 12px;\n\t}\n\n\t.icon.left {\n\t\ttransform: rotate(135deg);\n\t\ttext-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);\n\t}\n\n\t.icon.right {\n\t\ttransform: rotate(-45deg);\n\t\ttext-shadow: -1px -1px 1px rgba(0, 0, 0, 0.1);\n\t}\n\n\t.icon.center {\n\t\tdisplay: block;\n\t\twidth: 1px;\n\t\theight: 100%;\n\t\tbackground-color: var(--color);\n\t\topacity: 0.1;\n\t}\n\n\t.icon-wrap.active {\n\t\topacity: 0;\n\t}\n\n\t.icon-wrap.disabled {\n\t\topacity: 0;\n\t}\n\n\t.outer {\n\t\twidth: 20px;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\tcursor: grab;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: -10px;\n\t\tpointer-events: auto;\n\t\tz-index: var(--layer-2);\n\t}\n\t.grab {\n\t\tcursor: grabbing;\n\t}\n\n\t.inner {\n\t\twidth: 1px;\n\t\theight: 100%;\n\t\tbackground: var(--color);\n\t\tposition: absolute;\n\t\tleft: calc((100% - 2px) / 2);\n\t}\n\n\t.disabled {\n\t\tcursor: auto;\n\t}\n\n\t.disabled .inner {\n\t\tbox-shadow: none;\n\t}\n\n\t.content {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { HTMLImgAttributes } from \"svelte/elements\";\n\timport { createEventDispatcher, onMount, tick } from \"svelte\";\n\tinterface Props extends HTMLImgAttributes {\n\t\t\"data-testid\"?: string;\n\t\tfixed?: boolean;\n\t\ttransform?: string;\n\t\timg_el?: HTMLImageElement;\n\t\thidden?: boolean;\n\t\tvariant?: \"preview\" | \"upload\";\n\t\tmax_height?: number;\n\t\tfullscreen?: boolean;\n\t}\n\ttype $$Props = Props;\n\n\texport let src: HTMLImgAttributes[\"src\"] = undefined;\n\texport let fullscreen = false;\n\n\texport let fixed = false;\n\texport let transform = \"translate(0px, 0px) scale(1)\";\n\texport let img_el: HTMLImageElement | null = null;\n\texport let hidden = false;\n\texport let variant = \"upload\";\n\texport let max_height = 500;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tload: {\n\t\t\ttop: number;\n\t\t\tleft: number;\n\t\t\twidth: number;\n\t\t\theight: number;\n\t\t};\n\t}>();\n\n\tfunction get_image_size(img: HTMLImageElement | null): {\n\t\ttop: number;\n\t\tleft: number;\n\t\twidth: number;\n\t\theight: number;\n\t} {\n\t\tif (!img) return { top: 0, left: 0, width: 0, height: 0 };\n\t\tconst container = img.parentElement?.getBoundingClientRect();\n\n\t\tif (!container) return { top: 0, left: 0, width: 0, height: 0 };\n\n\t\tconst naturalAspect = img.naturalWidth / img.naturalHeight;\n\t\tconst containerAspect = container.width / container.height;\n\t\tlet displayedWidth, displayedHeight;\n\n\t\tif (naturalAspect > containerAspect) {\n\t\t\tdisplayedWidth = container.width;\n\t\t\tdisplayedHeight = container.width / naturalAspect;\n\t\t} else {\n\t\t\tdisplayedHeight = container.height;\n\t\t\tdisplayedWidth = container.height * naturalAspect;\n\t\t}\n\n\t\tconst offsetX = (container.width - displayedWidth) / 2;\n\t\tconst offsetY = (container.height - displayedHeight) / 2;\n\n\t\treturn {\n\t\t\ttop: offsetY,\n\t\t\tleft: offsetX,\n\t\t\twidth: displayedWidth,\n\t\t\theight: displayedHeight\n\t\t};\n\t}\n\n\tonMount(() => {\n\t\tconst resizer = new ResizeObserver(async (entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tawait tick();\n\t\t\t\tdispatch(\"load\", get_image_size(img_el));\n\t\t\t}\n\t\t});\n\n\t\tresizer.observe(img_el!);\n\n\t\treturn () => {\n\t\t\tresizer.disconnect();\n\t\t};\n\t});\n</script>\n\n<!-- svelte-ignore a11y-missing-attribute -->\n<img\n\t{src}\n\t{...$$restProps}\n\tclass:fixed\n\tstyle:transform\n\tbind:this={img_el}\n\tclass:hidden\n\tclass:preview={variant === \"preview\"}\n\tclass:slider={variant === \"upload\"}\n\tstyle:max-height={max_height && !fullscreen ? `${max_height}px` : null}\n\tclass:fullscreen\n\tclass:small={!fullscreen}\n\ton:load={() => dispatch(\"load\", get_image_size(img_el))}\n/>\n\n<style>\n\t.preview {\n\t\tobject-fit: contain;\n\t\twidth: 100%;\n\t\ttransform-origin: top left;\n\t\tmargin: auto;\n\t}\n\n\t.small {\n\t\tmax-height: 500px;\n\t}\n\n\t.upload {\n\t\tobject-fit: contain;\n\t\tmax-height: 500px;\n\t}\n\n\t.fixed {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t}\n\n\t.fullscreen {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t:global(.image-container:fullscreen) img {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmax-height: none;\n\t\tmax-width: none;\n\t}\n\n\t.hidden {\n\t\topacity: 0;\n\t}\n</style>\n","export class ZoomableImage {\n\tcontainer: HTMLDivElement;\n\timage: HTMLImageElement;\n\tscale: number;\n\toffsetX: number;\n\toffsetY: number;\n\tisDragging: boolean;\n\tlastX: number;\n\tlastY: number;\n\tinitial_left_padding: number;\n\tinitial_top_padding: number;\n\tinitial_width: number;\n\tinitial_height: number;\n\tsubscribers: (({\n\t\tx,\n\t\ty,\n\t\tscale\n\t}: {\n\t\tx: number;\n\t\ty: number;\n\t\tscale: number;\n\t}) => void)[];\n\thandleImageLoad: () => void;\n\treal_image_size: {\n\t\ttop: number;\n\t\tleft: number;\n\t\twidth: number;\n\t\theight: number;\n\t} = { top: 0, left: 0, width: 0, height: 0 };\n\n\tlast_touch_distance: number;\n\n\tconstructor(container: HTMLDivElement, image: HTMLImageElement) {\n\t\tthis.container = container;\n\t\tthis.image = image;\n\n\t\tthis.scale = 1;\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t\tthis.isDragging = false;\n\t\tthis.lastX = 0;\n\t\tthis.lastY = 0;\n\t\tthis.initial_left_padding = 0;\n\t\tthis.initial_top_padding = 0;\n\t\tthis.initial_width = 0;\n\t\tthis.initial_height = 0;\n\t\tthis.subscribers = [];\n\t\tthis.last_touch_distance = 0;\n\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\n\t\tthis.handleImageLoad = this.init.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\n\t\tthis.image.addEventListener(\"load\", this.handleImageLoad);\n\n\t\tthis.container.addEventListener(\"wheel\", this.handleWheel);\n\t\tthis.container.addEventListener(\"mousedown\", this.handleMouseDown);\n\t\tdocument.addEventListener(\"mousemove\", this.handleMouseMove);\n\t\tdocument.addEventListener(\"mouseup\", this.handleMouseUp);\n\n\t\tthis.container.addEventListener(\"touchstart\", this.handleTouchStart);\n\t\tdocument.addEventListener(\"touchmove\", this.handleTouchMove);\n\t\tdocument.addEventListener(\"touchend\", this.handleTouchEnd);\n\n\t\tconst observer = new ResizeObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tif (entry.target === this.container) {\n\t\t\t\t\tthis.handleResize();\n\t\t\t\t\tthis.get_image_size(this.image);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(this.container);\n\t}\n\n\thandleResize(): void {\n\t\tthis.init();\n\t}\n\n\tinit(): void {\n\t\tconst containerRect = this.container.getBoundingClientRect();\n\n\t\tconst imageRect = this.image.getBoundingClientRect();\n\t\tthis.initial_left_padding = imageRect.left - containerRect.left;\n\t\tthis.initial_top_padding = imageRect.top - containerRect.top;\n\t\tthis.initial_width = imageRect.width;\n\t\tthis.initial_height = imageRect.height;\n\n\t\tthis.reset_zoom();\n\n\t\tthis.updateTransform();\n\t}\n\n\treset_zoom(): void {\n\t\tthis.scale = 1;\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t\tthis.updateTransform();\n\t}\n\n\thandleMouseDown(e: MouseEvent): void {\n\t\tconst imageRect = this.image.getBoundingClientRect();\n\n\t\tif (\n\t\t\te.clientX >= imageRect.left &&\n\t\t\te.clientX <= imageRect.right &&\n\t\t\te.clientY >= imageRect.top &&\n\t\t\te.clientY <= imageRect.bottom\n\t\t) {\n\t\t\te.preventDefault();\n\t\t\tif (this.scale === 1) return;\n\t\t\tthis.isDragging = true;\n\t\t\tthis.lastX = e.clientX;\n\t\t\tthis.lastY = e.clientY;\n\t\t\tthis.image.style.cursor = \"grabbing\";\n\t\t}\n\t}\n\n\thandleMouseMove(e: MouseEvent): void {\n\t\tif (!this.isDragging) return;\n\n\t\tconst deltaX = e.clientX - this.lastX;\n\t\tconst deltaY = e.clientY - this.lastY;\n\n\t\tthis.offsetX += deltaX;\n\t\tthis.offsetY += deltaY;\n\n\t\tthis.lastX = e.clientX;\n\t\tthis.lastY = e.clientY;\n\n\t\tthis.updateTransform();\n\n\t\tthis.updateTransform();\n\t}\n\n\thandleMouseUp(): void {\n\t\tif (this.isDragging) {\n\t\t\tthis.constrain_to_bounds(true);\n\t\t\tthis.updateTransform();\n\t\t\tthis.isDragging = false;\n\t\t\tthis.image.style.cursor = this.scale > 1 ? \"grab\" : \"zoom-in\";\n\t\t}\n\t}\n\n\tasync handleWheel(e: WheelEvent): Promise<void> {\n\t\te.preventDefault();\n\n\t\tconst containerRect = this.container.getBoundingClientRect();\n\t\tconst imageRect = this.image.getBoundingClientRect();\n\n\t\tif (\n\t\t\te.clientX < imageRect.left ||\n\t\t\te.clientX > imageRect.right ||\n\t\t\te.clientY < imageRect.top ||\n\t\t\te.clientY > imageRect.bottom\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst zoomFactor = 1.05;\n\t\tconst oldScale = this.scale;\n\t\tconst newScale =\n\t\t\t-Math.sign(e.deltaY) > 0\n\t\t\t\t? Math.min(15, oldScale * zoomFactor) // in\n\t\t\t\t: Math.max(1, oldScale / zoomFactor); // out\n\n\t\tif (newScale === oldScale) return;\n\n\t\tconst cursorX = e.clientX - containerRect.left - this.initial_left_padding;\n\t\tconst cursorY = e.clientY - containerRect.top - this.initial_top_padding;\n\n\t\tthis.scale = newScale;\n\t\tthis.offsetX = this.compute_new_offset({\n\t\t\tcursor_position: cursorX,\n\t\t\tcurrent_offset: this.offsetX,\n\t\t\tnew_scale: newScale,\n\t\t\told_scale: oldScale\n\t\t});\n\t\tthis.offsetY = this.compute_new_offset({\n\t\t\tcursor_position: cursorY,\n\t\t\tcurrent_offset: this.offsetY,\n\t\t\tnew_scale: newScale,\n\t\t\told_scale: oldScale\n\t\t});\n\n\t\tthis.updateTransform(); // apply before constraints\n\n\t\tthis.constrain_to_bounds();\n\t\tthis.updateTransform(); // apply again after constraints\n\n\t\tthis.image.style.cursor = this.scale > 1 ? \"grab\" : \"zoom-in\";\n\t}\n\n\t// compute_offset_for_positions({ position: number, scale: number }) {\n\t// \treturn position - (scale / this.scale) * (position - this.offset);\n\t// }\n\n\tcompute_new_position({\n\t\tposition,\n\t\tscale,\n\t\tanchor_position\n\t}: {\n\t\tposition: number;\n\t\tscale: number;\n\t\tanchor_position: number;\n\t}): number {\n\t\treturn position - (position - anchor_position) * (scale / this.scale);\n\t}\n\n\tcompute_new_offset({\n\t\tcursor_position,\n\t\tcurrent_offset,\n\t\tnew_scale,\n\t\told_scale\n\t}: {\n\t\tcursor_position: number;\n\t\tcurrent_offset: number;\n\t\tnew_scale: number;\n\t\told_scale: number;\n\t}): number {\n\t\treturn (\n\t\t\tcursor_position -\n\t\t\t(new_scale / old_scale) * (cursor_position - current_offset)\n\t\t);\n\t}\n\n\tconstrain_to_bounds(pan = false): void {\n\t\tif (this.scale === 1) {\n\t\t\tthis.offsetX = 0;\n\t\t\tthis.offsetY = 0;\n\t\t\treturn;\n\t\t}\n\t\tconst onscreen = {\n\t\t\ttop: this.real_image_size.top * this.scale + this.offsetY,\n\t\t\tleft: this.real_image_size.left * this.scale + this.offsetX,\n\t\t\twidth: this.real_image_size.width * this.scale,\n\t\t\theight: this.real_image_size.height * this.scale,\n\n\t\t\tbottom:\n\t\t\t\tthis.real_image_size.top * this.scale +\n\t\t\t\tthis.offsetY +\n\t\t\t\tthis.real_image_size.height * this.scale,\n\t\t\tright:\n\t\t\t\tthis.real_image_size.left * this.scale +\n\t\t\t\tthis.offsetX +\n\t\t\t\tthis.real_image_size.width * this.scale\n\t\t};\n\n\t\tconst real_image_size_right =\n\t\t\tthis.real_image_size.left + this.real_image_size.width;\n\t\tconst real_image_size_bottom =\n\t\t\tthis.real_image_size.top + this.real_image_size.height;\n\n\t\tif (pan) {\n\t\t\tif (onscreen.top > this.real_image_size.top) {\n\t\t\t\tthis.offsetY = this.calculate_position(\n\t\t\t\t\tthis.real_image_size.top,\n\t\t\t\t\t0,\n\t\t\t\t\t\"y\"\n\t\t\t\t);\n\t\t\t} else if (onscreen.bottom < real_image_size_bottom) {\n\t\t\t\tthis.offsetY = this.calculate_position(real_image_size_bottom, 1, \"y\");\n\t\t\t}\n\n\t\t\tif (onscreen.left > this.real_image_size.left) {\n\t\t\t\tthis.offsetX = this.calculate_position(\n\t\t\t\t\tthis.real_image_size.left,\n\t\t\t\t\t0,\n\t\t\t\t\t\"x\"\n\t\t\t\t);\n\t\t\t} else if (onscreen.right < real_image_size_right) {\n\t\t\t\tthis.offsetX = this.calculate_position(real_image_size_right, 1, \"x\");\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateTransform(): void {\n\t\tthis.notify({ x: this.offsetX, y: this.offsetY, scale: this.scale });\n\t}\n\n\tdestroy(): void {\n\t\tthis.container.removeEventListener(\"wheel\", this.handleWheel);\n\t\tthis.container.removeEventListener(\"mousedown\", this.handleMouseDown);\n\t\tdocument.removeEventListener(\"mousemove\", this.handleMouseMove);\n\t\tdocument.removeEventListener(\"mouseup\", this.handleMouseUp);\n\t\tthis.container.removeEventListener(\"touchstart\", this.handleTouchStart);\n\t\tdocument.removeEventListener(\"touchmove\", this.handleTouchMove);\n\t\tdocument.removeEventListener(\"touchend\", this.handleTouchEnd);\n\t\tthis.image.removeEventListener(\"load\", this.handleImageLoad);\n\t}\n\n\tsubscribe(\n\t\tcb: ({ x, y, scale }: { x: number; y: number; scale: number }) => void\n\t): void {\n\t\tthis.subscribers.push(cb);\n\t}\n\n\tunsubscribe(\n\t\tcb: ({ x, y, scale }: { x: number; y: number; scale: number }) => void\n\t): void {\n\t\tthis.subscribers = this.subscribers.filter(\n\t\t\t(subscriber) => subscriber !== cb\n\t\t);\n\t}\n\n\tnotify({ x, y, scale }: { x: number; y: number; scale: number }): void {\n\t\tthis.subscribers.forEach((subscriber) => subscriber({ x, y, scale }));\n\t}\n\n\thandleTouchStart(e: TouchEvent): void {\n\t\te.preventDefault();\n\t\tconst imageRect = this.image.getBoundingClientRect();\n\t\tconst touch = e.touches[0];\n\n\t\tif (\n\t\t\ttouch.clientX >= imageRect.left &&\n\t\t\ttouch.clientX <= imageRect.right &&\n\t\t\ttouch.clientY >= imageRect.top &&\n\t\t\ttouch.clientY <= imageRect.bottom\n\t\t) {\n\t\t\tif (e.touches.length === 1 && this.scale > 1) {\n\t\t\t\t// one finger == prepare pan\n\t\t\t\tthis.isDragging = true;\n\t\t\t\tthis.lastX = touch.clientX;\n\t\t\t\tthis.lastY = touch.clientY;\n\t\t\t} else if (e.touches.length === 2) {\n\t\t\t\t// two fingers == prepare pinch zoom\n\t\t\t\tconst touch1 = e.touches[0];\n\t\t\t\tconst touch2 = e.touches[1];\n\t\t\t\tthis.last_touch_distance = Math.hypot(\n\t\t\t\t\ttouch2.clientX - touch1.clientX,\n\t\t\t\t\ttouch2.clientY - touch1.clientY\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tget_image_size(img: HTMLImageElement | null): void {\n\t\tif (!img) return;\n\t\tconst container = img.parentElement?.getBoundingClientRect();\n\n\t\tif (!container) return;\n\n\t\tconst naturalAspect = img.naturalWidth / img.naturalHeight;\n\t\tconst containerAspect = container.width / container.height;\n\t\tlet displayedWidth, displayedHeight;\n\n\t\tif (naturalAspect > containerAspect) {\n\t\t\tdisplayedWidth = container.width;\n\t\t\tdisplayedHeight = container.width / naturalAspect;\n\t\t} else {\n\t\t\tdisplayedHeight = container.height;\n\t\t\tdisplayedWidth = container.height * naturalAspect;\n\t\t}\n\n\t\tconst offsetX = (container.width - displayedWidth) / 2;\n\t\tconst offsetY = (container.height - displayedHeight) / 2;\n\n\t\tthis.real_image_size = {\n\t\t\ttop: offsetY,\n\t\t\tleft: offsetX,\n\t\t\twidth: displayedWidth,\n\t\t\theight: displayedHeight\n\t\t};\n\t}\n\n\thandleTouchMove(e: TouchEvent): void {\n\t\tif (e.touches.length === 1 && this.isDragging) {\n\t\t\t// one finger == pan\n\t\t\te.preventDefault();\n\t\t\tconst touch = e.touches[0];\n\n\t\t\tconst deltaX = touch.clientX - this.lastX;\n\t\t\tconst deltaY = touch.clientY - this.lastY;\n\n\t\t\tthis.offsetX += deltaX;\n\t\t\tthis.offsetY += deltaY;\n\n\t\t\tthis.lastX = touch.clientX;\n\t\t\tthis.lastY = touch.clientY;\n\n\t\t\tthis.updateTransform();\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// two fingers == pinch zoom\n\t\t\te.preventDefault();\n\n\t\t\tconst touch1 = e.touches[0];\n\t\t\tconst touch2 = e.touches[1];\n\n\t\t\tconst current_distance = Math.hypot(\n\t\t\t\ttouch2.clientX - touch1.clientX,\n\t\t\t\ttouch2.clientY - touch1.clientY\n\t\t\t);\n\n\t\t\tif (this.last_touch_distance === 0) {\n\t\t\t\tthis.last_touch_distance = current_distance;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst zoomFactor = current_distance / this.last_touch_distance;\n\n\t\t\tconst oldScale = this.scale;\n\t\t\tconst newScale = Math.min(15, Math.max(1, oldScale * zoomFactor));\n\n\t\t\tif (newScale === oldScale) {\n\t\t\t\tthis.last_touch_distance = current_distance;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// midpoint of touches relative to image\n\t\t\tconst containerRect = this.container.getBoundingClientRect();\n\t\t\tconst midX =\n\t\t\t\t(touch1.clientX + touch2.clientX) / 2 -\n\t\t\t\tcontainerRect.left -\n\t\t\t\tthis.initial_left_padding;\n\t\t\tconst midY =\n\t\t\t\t(touch1.clientY + touch2.clientY) / 2 -\n\t\t\t\tcontainerRect.top -\n\t\t\t\tthis.initial_top_padding;\n\n\t\t\tthis.scale = newScale;\n\t\t\tthis.offsetX = this.compute_new_offset({\n\t\t\t\tcursor_position: midX,\n\t\t\t\tcurrent_offset: this.offsetX,\n\t\t\t\tnew_scale: newScale,\n\t\t\t\told_scale: oldScale\n\t\t\t});\n\t\t\tthis.offsetY = this.compute_new_offset({\n\t\t\t\tcursor_position: midY,\n\t\t\t\tcurrent_offset: this.offsetY,\n\t\t\t\tnew_scale: newScale,\n\t\t\t\told_scale: oldScale\n\t\t\t});\n\n\t\t\tthis.updateTransform();\n\t\t\tthis.constrain_to_bounds();\n\t\t\tthis.updateTransform();\n\n\t\t\tthis.last_touch_distance = current_distance;\n\n\t\t\tthis.image.style.cursor = this.scale > 1 ? \"grab\" : \"zoom-in\";\n\t\t}\n\t}\n\n\thandleTouchEnd(e: TouchEvent): void {\n\t\tif (this.isDragging) {\n\t\t\tthis.constrain_to_bounds(true);\n\t\t\tthis.updateTransform();\n\t\t\tthis.isDragging = false;\n\t\t}\n\n\t\tif (e.touches.length === 0) {\n\t\t\tthis.last_touch_distance = 0;\n\t\t}\n\t}\n\n\tcalculate_position(\n\t\tscreen_coord: number,\n\t\timage_anchor: number,\n\t\taxis: \"x\" | \"y\"\n\t): number {\n\t\tconst containerRect = this.container.getBoundingClientRect();\n\n\t\t// Calculate X offset if requested\n\t\tif (axis === \"x\") {\n\t\t\tconst relative_screen_x = screen_coord;\n\t\t\tconst anchor_x =\n\t\t\t\tthis.real_image_size.left + image_anchor * this.real_image_size.width;\n\t\t\treturn relative_screen_x - anchor_x * this.scale;\n\t\t}\n\n\t\t// Calculate Y offset if requested\n\t\tif (axis === \"y\") {\n\t\t\tconst relative_screen_y = screen_coord;\n\t\t\tconst anchor_y =\n\t\t\t\tthis.real_image_size.top + image_anchor * this.real_image_size.height;\n\t\t\treturn relative_screen_y - anchor_y * this.scale;\n\t\t}\n\n\t\treturn 0;\n\t}\n}\n","<script lang=\"ts\">\n\timport Slider from \"./Slider.svelte\";\n\timport ImageEl from \"./ImageEl.svelte\";\n\timport {\n\t\tBlockLabel,\n\t\tEmpty,\n\t\tIconButton,\n\t\tIconButtonWrapper,\n\t\tFullscreenButton,\n\t\tDownloadLink\n\t} from \"@gradio/atoms\";\n\timport { Image, Download, Undo, Clear } from \"@gradio/icons\";\n\timport { type FileData } from \"@gradio/client\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\timport { ZoomableImage } from \"./zoom\";\n\timport { onMount } from \"svelte\";\n\timport { tweened, type Tweened } from \"svelte/motion\";\n\timport { createEventDispatcher } from \"svelte\";\n\n\texport let value: [null | FileData, null | FileData] = [null, null];\n\texport let label: string | undefined = undefined;\n\texport let show_download_button = true;\n\texport let show_label: boolean;\n\texport let i18n: I18nFormatter;\n\texport let position: number;\n\texport let layer_images = true;\n\texport let show_single = false;\n\texport let slider_color: string;\n\texport let show_fullscreen_button = true;\n\texport let fullscreen = false;\n\texport let el_width = 0;\n\texport let max_height: number;\n\texport let interactive = true;\n\tconst dispatch = createEventDispatcher<{ clear: void }>();\n\n\tlet img: HTMLImageElement;\n\tlet slider_wrap: HTMLDivElement;\n\tlet image_container: HTMLDivElement;\n\n\tlet transform: Tweened<{ x: number; y: number; z: number }> = tweened(\n\t\t{ x: 0, y: 0, z: 1 },\n\t\t{\n\t\t\tduration: 75\n\t\t}\n\t);\n\tlet parent_el: HTMLDivElement;\n\n\t$: coords_at_viewport = get_coords_at_viewport(\n\t\tposition,\n\t\tviewport_width,\n\t\timage_size.width,\n\t\timage_size.left,\n\t\t$transform.x,\n\t\t$transform.z\n\t);\n\t$: style = layer_images\n\t\t? `clip-path: inset(0 0 0 ${coords_at_viewport * 100}%)`\n\t\t: \"\";\n\n\tfunction get_coords_at_viewport(\n\t\tviewport_percent_x: number, // 0-1\n\t\tviewportWidth: number,\n\t\timage_width: number,\n\t\timg_offset_x: number,\n\t\ttx: number, // image translation x (in pixels)\n\t\tscale: number // image scale (uniform)\n\t): number {\n\t\tconst px_relative_to_image = viewport_percent_x * image_width;\n\t\tconst pixel_position = px_relative_to_image + img_offset_x;\n\n\t\tconst normalised_position = (pixel_position - tx) / scale;\n\t\tconst percent_position = normalised_position / viewportWidth;\n\n\t\treturn percent_position;\n\t}\n\n\tlet img_width = 0;\n\tlet viewport_width = 0;\n\n\tlet zoomable_image: ZoomableImage | null = null;\n\tlet observer: ResizeObserver | null = null;\n\n\tfunction init_image(\n\t\timg: HTMLImageElement,\n\t\tslider_wrap: HTMLDivElement\n\t): void {\n\t\tif (!img || !slider_wrap) return;\n\t\tzoomable_image?.destroy();\n\t\tobserver?.disconnect();\n\t\timg_width = img?.getBoundingClientRect().width || 0;\n\t\tviewport_width = slider_wrap?.getBoundingClientRect().width || 0;\n\t\tzoomable_image = new ZoomableImage(slider_wrap, img);\n\t\tzoomable_image.subscribe(({ x, y, scale }) => {\n\t\t\ttransform.set({ x, y, z: scale });\n\t\t});\n\n\t\tobserver = new ResizeObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tif (entry.target === slider_wrap) {\n\t\t\t\t\tviewport_width = entry.contentRect.width;\n\t\t\t\t}\n\n\t\t\t\tif (entry.target === img) {\n\t\t\t\t\timg_width = entry.contentRect.width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(slider_wrap);\n\t\tobserver.observe(img);\n\t}\n\n\t$: init_image(img, slider_wrap);\n\n\tonMount(() => {\n\t\treturn () => {\n\t\t\tzoomable_image?.destroy();\n\t\t\tobserver?.disconnect();\n\t\t};\n\t});\n\n\tlet slider_wrap_parent: HTMLDivElement;\n\n\tlet image_size: { top: number; left: number; width: number; height: number } =\n\t\t{ top: 0, left: 0, width: 0, height: 0 };\n\n\tfunction handle_image_load(event: CustomEvent): void {\n\t\timage_size = event.detail;\n\t}\n</script>\n\n<BlockLabel {show_label} Icon={Image} label={label || i18n(\"image.image\")} />\n{#if (value === null || value[0] === null || value[1] === null) && !show_single}\n\t<Empty unpadded_box={true} size=\"large\"><Image /></Empty>\n{:else}\n\t<div class=\"image-container\" bind:this={image_container}>\n\t\t<IconButtonWrapper>\n\t\t\t<IconButton\n\t\t\t\tIcon={Undo}\n\t\t\t\tlabel={i18n(\"common.undo\")}\n\t\t\t\tdisabled={$transform.z === 1}\n\t\t\t\ton:click={() => zoomable_image?.reset_zoom()}\n\t\t\t/>\n\t\t\t{#if show_fullscreen_button}\n\t\t\t\t<FullscreenButton {fullscreen} on:fullscreen />\n\t\t\t{/if}\n\n\t\t\t{#if show_download_button}\n\t\t\t\t<DownloadLink\n\t\t\t\t\thref={value[1]?.url}\n\t\t\t\t\tdownload={value[1]?.orig_name || \"image\"}\n\t\t\t\t>\n\t\t\t\t\t<IconButton Icon={Download} label={i18n(\"common.download\")} />\n\t\t\t\t</DownloadLink>\n\t\t\t{/if}\n\t\t\t{#if interactive}\n\t\t\t\t<IconButton\n\t\t\t\t\tIcon={Clear}\n\t\t\t\t\tlabel=\"Remove Image\"\n\t\t\t\t\ton:click={(event) => {\n\t\t\t\t\t\tvalue = [null, null];\n\t\t\t\t\t\tdispatch(\"clear\");\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t</IconButtonWrapper>\n\t\t<div\n\t\t\tclass=\"slider-wrap\"\n\t\t\tbind:this={slider_wrap_parent}\n\t\t\tbind:clientWidth={el_width}\n\t\t\tclass:limit_height={!fullscreen}\n\t\t>\n\t\t\t<Slider\n\t\t\t\tbind:position\n\t\t\t\t{slider_color}\n\t\t\t\tbind:el={slider_wrap}\n\t\t\t\tbind:parent_el\n\t\t\t\t{image_size}\n\t\t\t>\n\t\t\t\t<ImageEl\n\t\t\t\t\tsrc={value?.[0]?.url}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\tbind:img_el={img}\n\t\t\t\t\tvariant=\"preview\"\n\t\t\t\t\ttransform=\"translate({$transform.x}px, {$transform.y}px) scale({$transform.z})\"\n\t\t\t\t\t{fullscreen}\n\t\t\t\t\t{max_height}\n\t\t\t\t\ton:load={handle_image_load}\n\t\t\t\t/>\n\t\t\t\t<ImageEl\n\t\t\t\t\tvariant=\"preview\"\n\t\t\t\t\tfixed={layer_images}\n\t\t\t\t\thidden={!value?.[1]?.url}\n\t\t\t\t\tsrc={value?.[1]?.url}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\tstyle=\"{style}; background: var(--block-background-fill);\"\n\t\t\t\t\ttransform=\"translate({$transform.x}px, {$transform.y}px) scale({$transform.z})\"\n\t\t\t\t\t{fullscreen}\n\t\t\t\t\t{max_height}\n\t\t\t\t\ton:load={handle_image_load}\n\t\t\t\t/>\n\t\t\t</Slider>\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.slider-wrap {\n\t\tuser-select: none;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.limit_height :global(img) {\n\t\tmax-height: 500px;\n\t}\n\n\t.image-container {\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tmin-width: var(--size-20);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher } from \"svelte\";\n\timport { IconButton } from \"@gradio/atoms\";\n\timport { Clear } from \"@gradio/icons\";\n\n\tconst dispatch = createEventDispatcher();\n</script>\n\n<div>\n\t<IconButton\n\t\tIcon={Clear}\n\t\tlabel=\"Remove Image\"\n\t\ton:click={(event) => {\n\t\t\tdispatch(\"remove_image\");\n\t\t\tevent.stopPropagation();\n\t\t}}\n\t/>\n</div>\n\n<style>\n\tdiv {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tjustify-content: flex-end;\n\t\tgap: var(--spacing-sm);\n\t\tz-index: var(--layer-5);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport Slider from \"./Slider.svelte\";\n\timport { createEventDispatcher, tick } from \"svelte\";\n\timport { BlockLabel, Empty, IconButton, DownloadLink } from \"@gradio/atoms\";\n\timport { Download } from \"@gradio/icons\";\n\timport { Image } from \"@gradio/icons\";\n\timport { type SelectData, type I18nFormatter } from \"@gradio/utils\";\n\timport ClearImage from \"./ClearImage.svelte\";\n\timport ImageEl from \"./ImageEl.svelte\";\n\n\timport { Upload } from \"@gradio/upload\";\n\n\timport { type FileData, type Client } from \"@gradio/client\";\n\n\texport let value: [FileData | null, FileData | null];\n\n\texport let label: string | undefined = undefined;\n\texport let show_label: boolean;\n\texport let root: string;\n\texport let position: number;\n\texport let upload_count = 2;\n\n\texport let show_download_button = true;\n\texport let slider_color: string;\n\texport let upload: Client[\"upload\"];\n\texport let stream_handler: Client[\"stream\"];\n\texport let max_file_size: number | null = null;\n\texport let i18n: I18nFormatter;\n\texport let max_height: number;\n\n\tlet value_: [FileData | null, FileData | null] = value || [null, null];\n\n\tlet img: HTMLImageElement;\n\tlet el_width: number;\n\tlet el_height: number;\n\n\tasync function handle_upload(\n\t\t{ detail }: CustomEvent<FileData[]>,\n\t\tn: number\n\t): Promise<void> {\n\t\tconst new_value = [value[0], value[1]] as [\n\t\t\tFileData | null,\n\t\t\tFileData | null\n\t\t];\n\t\tif (detail.length > 1) {\n\t\t\tnew_value[n] = detail[0];\n\t\t} else {\n\t\t\tnew_value[n] = detail[n];\n\t\t}\n\t\tvalue = new_value;\n\t\tawait tick();\n\n\t\tdispatch(\"upload\", new_value);\n\t}\n\n\tlet old_value = \"\";\n\n\t$: if (JSON.stringify(value) !== old_value) {\n\t\told_value = JSON.stringify(value);\n\t\tvalue_ = value;\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: string | null;\n\t\tstream: string | null;\n\t\tedit: undefined;\n\t\tclear: undefined;\n\t\tdrag: boolean;\n\t\tupload: [FileData | null, FileData | null];\n\t\tselect: SelectData;\n\t}>();\n\n\texport let dragging = false;\n\n\t$: dispatch(\"drag\", dragging);\n</script>\n\n<BlockLabel {show_label} Icon={Image} label={label || i18n(\"image.image\")} />\n\n<div\n\tdata-testid=\"image\"\n\tclass=\"image-container\"\n\tbind:clientWidth={el_width}\n\tbind:clientHeight={el_height}\n>\n\t{#if value?.[0]?.url || value?.[1]?.url}\n\t\t<ClearImage\n\t\t\ton:remove_image={() => {\n\t\t\t\tposition = 0.5;\n\t\t\t\tvalue = [null, null];\n\t\t\t\tdispatch(\"clear\");\n\t\t\t}}\n\t\t/>\n\t{/if}\n\t{#if value?.[1]?.url}\n\t\t<div class=\"icon-buttons\">\n\t\t\t{#if show_download_button}\n\t\t\t\t<DownloadLink\n\t\t\t\t\thref={value[1].url}\n\t\t\t\t\tdownload={value[1].orig_name || \"image\"}\n\t\t\t\t>\n\t\t\t\t\t<IconButton Icon={Download} />\n\t\t\t\t</DownloadLink>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n\t<Slider\n\t\tbind:position\n\t\tdisabled={upload_count == 2 || !value?.[0]}\n\t\t{slider_color}\n\t>\n\t\t<div\n\t\t\tclass=\"upload-wrap\"\n\t\t\tstyle:display={upload_count === 2 ? \"flex\" : \"block\"}\n\t\t\tclass:side-by-side={upload_count === 2}\n\t\t>\n\t\t\t{#if !value_?.[0]}\n\t\t\t\t<div class=\"wrap\" class:half-wrap={upload_count === 1}>\n\t\t\t\t\t<Upload\n\t\t\t\t\t\tbind:dragging\n\t\t\t\t\t\tfiletype=\"image/*\"\n\t\t\t\t\t\ton:load={(e) => handle_upload(e, 0)}\n\t\t\t\t\t\tdisable_click={!!value?.[0]}\n\t\t\t\t\t\t{root}\n\t\t\t\t\t\tfile_count=\"multiple\"\n\t\t\t\t\t\t{upload}\n\t\t\t\t\t\t{stream_handler}\n\t\t\t\t\t\t{max_file_size}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot />\n\t\t\t\t\t</Upload>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<ImageEl\n\t\t\t\t\tvariant=\"upload\"\n\t\t\t\t\tsrc={value_[0]?.url}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tbind:img_el={img}\n\t\t\t\t\t{max_height}\n\t\t\t\t/>\n\t\t\t{/if}\n\n\t\t\t{#if !value_?.[1] && upload_count === 2}\n\t\t\t\t<Upload\n\t\t\t\t\tbind:dragging\n\t\t\t\t\tfiletype=\"image/*\"\n\t\t\t\t\ton:load={(e) => handle_upload(e, 1)}\n\t\t\t\t\tdisable_click={!!value?.[1]}\n\t\t\t\t\t{root}\n\t\t\t\t\tfile_count=\"multiple\"\n\t\t\t\t\t{upload}\n\t\t\t\t\t{stream_handler}\n\t\t\t\t\t{max_file_size}\n\t\t\t\t>\n\t\t\t\t\t<slot />\n\t\t\t\t</Upload>\n\t\t\t{:else if !value_?.[1] && upload_count === 1}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"empty-wrap fixed\"\n\t\t\t\t\tstyle:width=\"{el_width * (1 - position)}px\"\n\t\t\t\t\tstyle:transform=\"translateX({el_width * position}px)\"\n\t\t\t\t\tclass:white-icon={!value?.[0]?.url}\n\t\t\t\t>\n\t\t\t\t\t<Empty unpadded_box={true} size=\"large\"><Image /></Empty>\n\t\t\t\t</div>\n\t\t\t{:else if value_?.[1]}\n\t\t\t\t<ImageEl\n\t\t\t\t\tvariant=\"upload\"\n\t\t\t\t\tsrc={value_[1].url}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tfixed={upload_count === 1}\n\t\t\t\t\ttransform=\"translate(0px, 0px) scale(1)\"\n\t\t\t\t\t{max_height}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t</div>\n\t</Slider>\n</div>\n\n<style>\n\t.upload-wrap {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t}\n\n\t.wrap {\n\t\twidth: 100%;\n\t}\n\n\t.half-wrap {\n\t\twidth: 50%;\n\t}\n\t.image-container,\n\t.empty-wrap {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\n\t.fixed {\n\t\t--anim-block-background-fill: 255, 255, 255;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground-color: rgba(var(--anim-block-background-fill), 0.8);\n\t\tz-index: 0;\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t.fixed {\n\t\t\t--anim-block-background-fill: 31, 41, 55;\n\t\t}\n\t}\n\n\t.side-by-side :global(img) {\n\t\t/* width: 100%; */\n\t\twidth: 50%;\n\t\tobject-fit: contain;\n\t}\n\n\t.empty-wrap {\n\t\tpointer-events: none;\n\t}\n\n\t.icon-buttons {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tright: 8px;\n\t\tz-index: var(--layer-top);\n\t\ttop: 8px;\n\t}\n</style>\n","<svelte:options accessors={true} />\n\n<script lang=\"ts\">\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\timport Image from \"./Image.svelte\";\n\timport { type Client } from \"@gradio/client\";\n\n\timport type { FileData } from \"@gradio/client\";\n\n\texport let value: [FileData | null, FileData | null] = [null, null];\n\texport let upload: Client[\"upload\"];\n\texport let stream_handler: Client[\"stream\"];\n\texport let label: string;\n\texport let show_label: boolean;\n\texport let i18n: I18nFormatter;\n\texport let root: string;\n\texport let upload_count = 1;\n\texport let dragging: boolean;\n\texport let max_height: number;\n\texport let max_file_size: number | null = null;\n</script>\n\n<Image\n\tslider_color=\"var(--border-color-primary)\"\n\tposition={0.5}\n\tbind:value\n\tbind:dragging\n\t{root}\n\ton:edit\n\ton:clear\n\ton:stream\n\ton:drag={({ detail }) => (dragging = detail)}\n\ton:upload\n\ton:select\n\ton:share\n\t{label}\n\t{show_label}\n\t{upload_count}\n\t{stream_handler}\n\t{upload}\n\t{max_file_size}\n\t{max_height}\n\t{i18n}\n>\n\t<slot />\n</Image>\n","<svelte:options accessors={true} />\n\n<script lang=\"ts\">\n\timport type { Gradio, SelectData, ValueData } from \"@gradio/utils\";\n\timport StaticImage from \"./shared/SliderPreview.svelte\";\n\timport ImageUploader from \"./shared/SliderUpload.svelte\";\n\timport { afterUpdate } from \"svelte\";\n\n\timport { Block, Empty, UploadText } from \"@gradio/atoms\";\n\timport { Image } from \"@gradio/icons\";\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport { type FileData } from \"@gradio/client\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\n\ttype sources = \"upload\" | \"webcam\" | \"clipboard\" | null;\n\n\texport let value_is_output = false;\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible: boolean | \"hidden\" = true;\n\texport let value: [FileData | null, FileData | null] = [null, null];\n\tlet old_value: [FileData | null, FileData | null] = [null, null];\n\texport let label: string;\n\texport let show_label: boolean;\n\texport let show_download_button: boolean;\n\texport let root: string;\n\texport let height: number | undefined;\n\texport let width: number | undefined;\n\texport let container = true;\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n\texport let loading_status: LoadingStatus;\n\texport let interactive: boolean;\n\texport let placeholder: string | undefined = undefined;\n\texport let show_fullscreen_button: boolean;\n\tlet fullscreen = false;\n\texport let input_ready: boolean;\n\texport let slider_position: number;\n\texport let upload_count = 1;\n\texport let slider_color = \"var(--border-color-primary)\";\n\texport let max_height: number;\n\tlet uploading = false;\n\n\t$: normalised_slider_position =\n\t\tMath.max(0, Math.min(100, slider_position)) / 100;\n\n\t$: input_ready = !uploading;\n\n\texport let gradio: Gradio<{\n\t\tinput: never;\n\t\tchange: never;\n\t\terror: string;\n\t\tedit: never;\n\t\tstream: ValueData;\n\t\tdrag: never;\n\t\tupload: never;\n\t\tclear: never;\n\t\tselect: SelectData;\n\t\tshare: ShareData;\n\t\tclear_status: LoadingStatus;\n\t\tclose_stream: string;\n\t}>;\n\n\t$: {\n\t\tif (JSON.stringify(value) !== JSON.stringify(old_value)) {\n\t\t\told_value = value;\n\t\t\tgradio.dispatch(\"change\");\n\t\t\tif (!value_is_output) {\n\t\t\t\tgradio.dispatch(\"input\");\n\t\t\t}\n\t\t}\n\t}\n\n\tafterUpdate(() => {\n\t\tvalue_is_output = false;\n\t});\n\n\tlet dragging: boolean;\n\tlet active_source: sources = null;\n\tlet upload_component: ImageUploader;\n\n\tconst handle_drag_event = (event: Event): void => {\n\t\tconst drag_event = event as DragEvent;\n\t\tdrag_event.preventDefault();\n\t\tdrag_event.stopPropagation();\n\t\tif (drag_event.type === \"dragenter\" || drag_event.type === \"dragover\") {\n\t\t\tdragging = true;\n\t\t} else if (drag_event.type === \"dragleave\") {\n\t\t\tdragging = false;\n\t\t}\n\t};\n\n\tconst handle_drop = (event: Event): void => {\n\t\tif (interactive) {\n\t\t\tconst drop_event = event as DragEvent;\n\t\t\tdrop_event.preventDefault();\n\t\t\tdrop_event.stopPropagation();\n\t\t\tdragging = false;\n\n\t\t\tif (upload_component) {\n\t\t\t\tupload_component.loadFilesFromDrop(drop_event);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n{#if !interactive || (value?.[1] && value?.[0])}\n\t<Block\n\t\t{visible}\n\t\tvariant={\"solid\"}\n\t\tborder_mode={dragging ? \"focus\" : \"base\"}\n\t\tpadding={false}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\theight={height || undefined}\n\t\t{width}\n\t\tallow_overflow={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t\tbind:fullscreen\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t/>\n\t\t<StaticImage\n\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\ton:share={({ detail }) => gradio.dispatch(\"share\", detail)}\n\t\t\ton:error={({ detail }) => gradio.dispatch(\"error\", detail)}\n\t\t\ton:clear={() => gradio.dispatch(\"clear\")}\n\t\t\ton:fullscreen={({ detail }) => {\n\t\t\t\tfullscreen = detail;\n\t\t\t}}\n\t\t\t{fullscreen}\n\t\t\t{interactive}\n\t\t\tbind:value\n\t\t\t{label}\n\t\t\t{show_label}\n\t\t\t{show_download_button}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{show_fullscreen_button}\n\t\t\tposition={normalised_slider_position}\n\t\t\t{slider_color}\n\t\t\t{max_height}\n\t\t/>\n\t</Block>\n{:else}\n\t<Block\n\t\t{visible}\n\t\tvariant={value === null ? \"dashed\" : \"solid\"}\n\t\tborder_mode={dragging ? \"focus\" : \"base\"}\n\t\tpadding={false}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\theight={height || undefined}\n\t\t{width}\n\t\tallow_overflow={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t\ton:dragenter={handle_drag_event}\n\t\ton:dragleave={handle_drag_event}\n\t\ton:dragover={handle_drag_event}\n\t\ton:drop={handle_drop}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t\t/>\n\n\t\t<ImageUploader\n\t\t\tbind:this={upload_component}\n\t\t\tbind:value\n\t\t\tbind:dragging\n\t\t\t{root}\n\t\t\ton:edit={() => gradio.dispatch(\"edit\")}\n\t\t\ton:clear={() => {\n\t\t\t\tgradio.dispatch(\"clear\");\n\t\t\t}}\n\t\t\ton:drag={({ detail }) => (dragging = detail)}\n\t\t\ton:upload={() => gradio.dispatch(\"upload\")}\n\t\t\ton:error={({ detail }) => {\n\t\t\t\tloading_status = loading_status || {};\n\t\t\t\tloading_status.status = \"error\";\n\t\t\t\tgradio.dispatch(\"error\", detail);\n\t\t\t}}\n\t\t\ton:close_stream={() => {\n\t\t\t\tgradio.dispatch(\"close_stream\", \"stream\");\n\t\t\t}}\n\t\t\t{label}\n\t\t\t{show_label}\n\t\t\t{upload_count}\n\t\t\tmax_file_size={gradio.max_file_size}\n\t\t\ti18n={gradio.i18n}\n\t\t\tupload={(...args) => gradio.client.upload(...args)}\n\t\t\tstream_handler={gradio.client?.stream}\n\t\t\t{max_height}\n\t\t>\n\t\t\t{#if active_source === \"upload\" || !active_source}\n\t\t\t\t<UploadText i18n={gradio.i18n} type=\"image\" {placeholder} />\n\t\t\t{:else if active_source === \"clipboard\"}\n\t\t\t\t<UploadText i18n={gradio.i18n} type=\"clipboard\" mode=\"short\" />\n\t\t\t{:else}\n\t\t\t\t<Empty unpadded_box={true} size=\"large\"><Image /></Empty>\n\t\t\t{/if}\n\t\t</ImageUploader>\n\t</Block>\n{/if}\n"],"names":["get_interpolator","a","b","type","arr","bi","i","t","fn","is_date","delta","keys","interpolators","key","result","tweened","value","defaults","store","writable","task","target_value","set","new_value","opts","previous_task","started","delay","duration","easing","linear","interpolate","assign","start","now","loop","elapsed","sourceEvent","event","pointer","node","svg","point","rect","nonpassive","nonpassivecapture","nopropagation","noevent","dragDisable","view","root","selection","select","yesdrag","noclick","constant","x","DragEvent","subject","target","identifier","active","y","dx","dy","dispatch","defaultFilter","defaultContainer","defaultSubject","d","defaultTouchable","drag","filter","container","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","touches","c","n","that","touch","p","s","p0","_","ctx","insert","div3","anchor","append","div0","div2","span3","span0","span1","span2","div1","clamp","min","max","round","points","mod","position","$$props","disabled","slider_color","image_size","el","parent_el","inner","px","container_width","set_position","width","$$invalidate","update_position","drag_start","drag_move","drag_end","update_position_from_pc","pc","onMount","drag_handler","$$value","createEventDispatcher","toggle_class","img","set_style","get_image_size","naturalAspect","containerAspect","displayedWidth","displayedHeight","offsetX","src","fullscreen","fixed","transform","img_el","hidden","variant","max_height","resizer","entries","entry","tick","load_handler","ZoomableImage","image","containerRect","imageRect","deltaX","deltaY","zoomFactor","oldScale","newScale","cursorX","cursorY","scale","anchor_position","cursor_position","current_offset","new_scale","old_scale","pan","onscreen","real_image_size_right","real_image_size_bottom","cb","subscriber","touch1","touch2","offsetY","current_distance","midX","midY","screen_coord","image_anchor","axis","relative_screen_x","anchor_x","relative_screen_y","anchor_y","dirty","downloadlink_changes","Download","iconbutton_changes","Clear","Undo","create_if_block_3","create_if_block_2","create_if_block_1","Image","get_coords_at_viewport","viewport_percent_x","viewportWidth","image_width","img_offset_x","tx","label","show_download_button","show_label","i18n","layer_images","show_single","show_fullscreen_button","el_width","interactive","slider_wrap","image_container","viewport_width","zoomable_image","observer","init_image","slider_wrap_parent","handle_image_load","click_handler","coords_at_viewport","$transform","style","div","create_if_block_5","upload_1_changes","imageel_changes","style_transform","create_if_block_6","create_if_block_4","slider_changes","upload_count","upload","stream_handler","max_file_size","value_","el_height","handle_upload","detail","old_value","dragging","e","load_handler_1","block_changes","uploadtext_changes","imageuploader_changes","staticimage_changes","value_is_output","elem_id","elem_classes","visible","height","min_width","loading_status","placeholder","input_ready","slider_position","gradio","afterUpdate","upload_component","handle_drag_event","drag_event","handle_drop","drop_event","select_handler","share_handler","error_handler","clear_status_handler","func","args","normalised_slider_position"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}